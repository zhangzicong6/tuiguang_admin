(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8211df7a"],{"2ed1":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"material"},["广告素材"===t.$route.name?e("div",[e("Button",{staticClass:"create",attrs:{type:"success",size:"large",to:"/manage/links/material/create"}},[t._v("添加素材")]),e("Table",{staticClass:"material-table",attrs:{columns:t.materialHeader,data:t.materialData}}),e("Page",{attrs:{"show-total":"",total:t.dataList.length,"page-size":10},on:{"on-change":t.changePage}})],1):t._e(),e("router-view")],1)},n=[],r=(e("7f7f"),e("cadf"),e("551c"),e("097d"),{data:function(){var t=this;return{materialData:[],dataList:[],materialHeader:[{key:"id",title:"素材id",align:"center"},{key:"title",title:"素材标题",align:"center"},{key:"novelLink",title:"小说链接",align:"center",width:500},{title:"Action",align:"center",width:160,render:function(a,e){var i=t;return a("div",[a("Button",{style:{marginRight:"10px"},props:{type:"primary",size:"small"},on:{click:function(){i.$router.push({name:"修改广告素材",params:{row:e.row,index:e.index}})}}},"修改"),a("Button",{style:{marginRight:"10px"},props:{type:"error",size:"small"},on:{click:function(){i.deleteOne(e.row,e.index)}}},"删除")])}}]}},mounted:function(){this.showDataList()},methods:{showDataList:function(){var t=this;this.$axios.get("/adMaterial").then(function(a){1===a.data.code&&(t.dataList=a.data.data.reverse(),t.materialData=t.dataList.slice(0,10))})},deleteOne:function(t,a){var e=this;this.$Modal.confirm({title:"提示:",content:"确认删除这条内容吗？",onOk:function(){e.$axios.delete("/adMaterial",{params:{id:t._id}}).then(function(t){e.$Message.info(t.data.success),e.materialData.splice(a,1)})}})},changePage:function(t){var a=10*(t-1),e=10*t;this.materialData=this.dataList.slice(a,e),this.goTop()},goTop:function(){var t=this;t.timer=setInterval(function(){var a=document.documentElement.scrollTop||document.body.scrollTop,e=Math.floor(-a);document.documentElement.scrollTop=document.body.scrollTop=a+e,t.isTop=!0,0===a&&clearInterval(t.timer)},30)}},watch:{$route:function(t,a){"cancel"!=this.$route.params.state&&("创建广告素材"==a.name?this.materialData.unshift(this.$route.params):"修改广告素材"==a.name&&this.materialData.splice(this.$route.params.index,1,this.$route.params.row))}}}),s=r,o=(e("6df8"),e("2877")),l=Object(o["a"])(s,i,n,!1,null,"38a42160",null);l.options.__file="material.vue";a["default"]=l.exports},"6df8":function(t,a,e){"use strict";var i=e("9014"),n=e.n(i);n.a},9014:function(t,a,e){}}]);
//# sourceMappingURL=chunk-8211df7a.6d992d83.js.map