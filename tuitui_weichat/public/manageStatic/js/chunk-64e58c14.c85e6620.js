(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64e58c14"],{"55dc":function(t,e,i){},5943:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-con"},[i("h2",{staticClass:"title"},[t._v("\n    "+t._s("修改广告素材"===t.$route.name?"修改广告素材":"创建广告素材")+"\n  ")]),i("Form",{staticClass:"form-group",attrs:{model:t.form,"label-position":"right","label-width":100}},[i("FormItem",{attrs:{label:"图片地址",prop:"url"}},[i("Input",{staticClass:"inputtxt",attrs:{size:"large",type:"text",placeholder:"请输入图片地址"},model:{value:t.url,callback:function(e){t.url="string"===typeof e?e.trim():e},expression:"url"}})],1),i("FormItem",{attrs:{label:"标识",prop:"sign"}},[i("Input",{staticClass:"inputtxt",attrs:{size:"large",type:"text",placeholder:"请输入标识"},model:{value:t.sign,callback:function(e){t.sign="string"===typeof e?e.trim():e},expression:"sign"}})],1),i("FormItem",{attrs:{label:"权重",prop:"weight"}},[i("Input",{staticClass:"inputtxt",attrs:{size:"large",type:"text",placeholder:"请输入权重"},model:{value:t.weight,callback:function(e){t.weight="string"===typeof e?e.trim():e},expression:"weight"}}),t.isUpdate?i("Button",{staticStyle:{"margin-left":"30px"},attrs:{type:"success"},on:{click:t.saveUpdate}},[t._v("保存")]):i("Button",{staticStyle:{"margin-left":"30px"},attrs:{type:"success"},on:{click:t.add}},[t._v("添加")])],1),i("Table",{staticStyle:{"margin-bottom":"30px"},attrs:{columns:t.imgHeader,data:t.form.imgList}}),i("FormItem",{attrs:{label:"标题",prop:"title"}},[i("Input",{staticClass:"inputtxt",attrs:{size:"large",type:"text",placeholder:"请输入素材标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title","string"===typeof e?e.trim():e)},expression:"form.title"}})],1),i("FormItem",{attrs:{label:"小说链接",prop:"novelLink"}},[i("Input",{staticClass:"inputtxt",attrs:{size:"large",type:"text",placeholder:"请输入小说链接"},model:{value:t.form.novelLink,callback:function(e){t.$set(t.form,"novelLink","string"===typeof e?e.trim():e)},expression:"form.novelLink"}})],1),i("FormItem",["创建广告素材"===t.$route.name?i("Button",{staticClass:"edit-btn",attrs:{size:"large",type:"primary"},on:{click:t.create}},[t._v("立即创建\n      ")]):i("Button",{staticClass:"edit-btn",attrs:{size:"large",type:"primary"},on:{click:t.save}},[t._v("保 存")]),i("Button",{staticClass:"edit-btn",attrs:{size:"large",type:"warning"},on:{click:t.cancel}},[t._v("取 消")])],1)],1)],1)},n=[],a=(i("7f7f"),i("cadf"),i("551c"),i("097d"),{data:function(){var t=this;return{form:{imgList:[],title:"",novelLink:""},url:"",weight:"",sign:"",isUpdate:!1,index:null,imgHeader:[{key:"url",title:"图片地址",align:"center"},{key:"sign",title:"标识",align:"center"},{key:"weight",title:"权重",align:"center"},{title:"Action",align:"center",render:function(e,i){var s=t;return e("div",[e("Button",{style:{marginRight:"10px"},props:{type:"primary",size:"small"},on:{click:function(){s.url=i.row.url,s.sign=i.row.sign,s.weight=i.row.weight,s.isUpdate=!0,s.index=i.index}}},"修改"),e("Button",{props:{type:"error",size:"small"},on:{click:function(){s.$Modal.confirm({title:"提示:",content:"确认删除这条内容吗？",onOk:function(){s.form.imgList.splice(i.index,1)}})}}},"删除")])}}]}},mounted:function(){"修改广告素材"===this.$route.name&&(this.form=this.$route.params.row)},methods:{add:function(){""===this.url||""===this.weight||""===this.sign?this.$Message.info("输入有误，请检查"):(this.form.imgList.push({url:this.url,weight:this.weight,sign:this.sign}),this.url=this.weight=this.sign="")},saveUpdate:function(){var t={url:this.url,weight:this.weight,sign:this.sign};this.form.imgList.splice(this.index,1,t),this.url=this.weight=this.sign="",this.isUpdate=!1},deleteLink:function(t){var e=this;this.$Modal.confirm({title:"提示:",content:"确认删除这条内容吗？",onOk:function(){e.form.links.splice(t,1)}})},save:function(){var t=this;this.$axios.put("/adMaterial",this.form).then(function(e){1===e.data.code?(t.$Message.info(e.data.msg),t.$router.push({name:"广告素材",params:{row:t.form,index:t.$route.params.index}}),t.reset()):t.$Message.info(e.data.msg)})},create:function(){var t=this;this.$axios.post("/adMaterial",this.form).then(function(e){1===e.data.code?(t.$Message.info(e.data.msg),t.$router.push({name:"广告素材",params:e.data.data}),t.reset()):t.$Message.info(e.data.msg)})},cancel:function(){this.$router.push({name:"广告素材",params:{state:"cancel"}}),this.reset()},reset:function(){this.form={imgList:[],title:"",novelLink:""},this.url=this.weight=this.sign=""}}}),r=a,o=(i("6d56"),i("2877")),l=Object(o["a"])(r,s,n,!1,null,"51c19f84",null);l.options.__file="editInfo.vue";e["default"]=l.exports},"6d56":function(t,e,i){"use strict";var s=i("55dc"),n=i.n(s);n.a}}]);
//# sourceMappingURL=chunk-64e58c14.c85e6620.js.map