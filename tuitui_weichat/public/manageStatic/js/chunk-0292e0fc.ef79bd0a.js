(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0292e0fc"],{1618:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-info"},[a("h2",{staticClass:"title"},[t._v("\n    "+t._s("修改小说链接"==t.$route.name?"修改小说链接":"创建小说链接")+"\n  ")]),a("Form",{staticClass:"form-group",attrs:{model:t.form,"label-position":"right","label-width":100}},[a("FormItem",{attrs:{label:"类型",prop:"type"}},[a("RadioGroup",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("Radio",{attrs:{label:0}},[t._v("微跳")]),a("Radio",{attrs:{label:1}},[t._v("非微调单页")]),a("Radio",{attrs:{label:2}},[t._v("非微调多页")])],1)],1),a("FormItem",{attrs:{label:"id",prop:"id"}},[a("Input",{attrs:{size:"large",type:"text",placeholder:"请输入id"},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}})],1),a("FormItem",{attrs:{label:"页面标题",prop:"pageTitle"}},[a("Input",{attrs:{size:"large",type:"text",placeholder:"请输入页面标题"},model:{value:t.form.pageTitle,callback:function(e){t.$set(t.form,"pageTitle",e)},expression:"form.pageTitle"}})],1),a("FormItem",{attrs:{label:"文章标题",prop:"articleTit"}},[a("Input",{attrs:{size:"large",type:"text",placeholder:"请输入文章标题"},model:{value:t.form.articleTit,callback:function(e){t.$set(t.form,"articleTit",e)},expression:"form.articleTit"}})],1),a("FormItem",{attrs:{label:"公号名称",prop:"name"}},[a("Input",{attrs:{size:"large",type:"text",placeholder:"请输入公号名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("FormItem",{attrs:{label:"公号描述",prop:"title"}},[a("Input",{attrs:{size:"large",type:"text",placeholder:"请输入公号描述"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),a("FormItem",{attrs:{label:"图片",prop:"picurl"}},[a("Upload",{attrs:{action:"http://test.oorggt.top/tuiguang/novel/upload","show-upload-list":!1,name:"imageFile","on-success":t.handleSuccess}},[a("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("点击上传")]),a("br"),t.imgUrl?a("img",{staticStyle:{"margin-top":"10px"},attrs:{src:t.imgUrl,alt:"",width:"200"}}):t._e()],1)],1),a("FormItem",{attrs:{label:"文章内容",prop:"content"}},[a("Input",{attrs:{size:"large",type:"textarea",placeholder:"请输入文章内容"},model:{value:t.form.capter1,callback:function(e){t.$set(t.form,"capter1",e)},expression:"form.capter1"}})],1),2==t.form.type?a("FormItem",{attrs:{label:"文章内容(第二章)",prop:"content"}},[a("Input",{attrs:{size:"large",type:"textarea",placeholder:"请输入文章内容(第二章)"},model:{value:t.form.capter2,callback:function(e){t.$set(t.form,"capter2",e)},expression:"form.capter2"}})],1):t._e(),0==t.form.type?a("FormItem",{attrs:{label:"跳转链接",prop:"linkUrl"}},[a("Input",{attrs:{size:"large",type:"text",placeholder:"请输入跳转链接"},model:{value:t.form.linkUrl,callback:function(e){t.$set(t.form,"linkUrl",e)},expression:"form.linkUrl"}})],1):t._e(),a("FormItem",{attrs:{label:"统计链接"}},[a("Input",{attrs:{size:"large",type:"text",placeholder:"请输入统计链接"},model:{value:t.form.statisticsUrl1,callback:function(e){t.$set(t.form,"statisticsUrl1",e)},expression:"form.statisticsUrl1"}})],1),2==t.form.type?a("FormItem",{attrs:{label:"统计链接(第二章)"}},[a("Input",{attrs:{size:"large",type:"text",placeholder:"请输入统计链接(第二章)"},model:{value:t.form.statisticsUrl2,callback:function(e){t.$set(t.form,"statisticsUrl2",e)},expression:"form.statisticsUrl2"}})],1):t._e(),a("FormItem",{attrs:{label:"其他业务代码"}},[a("Input",{attrs:{size:"large",type:"text",placeholder:"请输入代码"},model:{value:t.form.tokenCodes,callback:function(e){t.$set(t.form,"tokenCodes",e)},expression:"form.tokenCodes"}})],1),a("FormItem",{attrs:{label:"选择渠道渠道"}},[a("div",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.selectState=!0}}},[t._v("选择渠道")])],1),t.channelShow?a("div",t._l(t.channelShow,function(e){return a("Button",{staticStyle:{margin:"10px 10px 0 0"}},[t._v(t._s(e))])})):t._e(),a("Modal",{attrs:{title:"选择渠道"},on:{"on-ok":t.selectChannel,"on-cancel":t.cancelSelect},model:{value:t.selectState,callback:function(e){t.selectState=e},expression:"selectState"}},[a("CheckboxGroup",{model:{value:t.selectChannelList,callback:function(e){t.selectChannelList=e},expression:"selectChannelList"}},t._l(t.channelList,function(t){return a("Checkbox",{attrs:{label:t.name}})}))],1)],1),a("FormItem",{attrs:{label:"备注"}},[a("Input",{attrs:{size:"large",type:"text",placeholder:"请输入备注"},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1),a("FormItem",["创建小说链接"==t.$route.name?a("Button",{staticClass:"edit-btn",attrs:{size:"large",type:"primary"},on:{click:t.create}},[t._v("立即创建")]):a("Button",{staticClass:"edit-btn",attrs:{size:"large",type:"primary"},on:{click:t.save}},[t._v("保 存")]),a("Button",{staticClass:"edit-btn",attrs:{size:"large",type:"warning"},on:{click:t.reset}},[t._v("重 置")]),a("Button",{staticClass:"edit-btn",attrs:{size:"large",type:"error"},on:{click:t.cancel}},[t._v("取 消")])],1)],1)],1)},r=[],i=(a("7f7f"),a("cadf"),a("551c"),a("097d"),{data:function(){return{form:{type:0,pageTitle:"冒死推荐，多看一本是一本",articleTit:" 女人最多能承受多少厘米",desc:"一个陪你过夜的小说站"},imgUrl:"",domain_names:[],channelList:[],selectChannelList:[],selectState:!1,channelShow:[]}},mounted:function(){this.getDomain(),this.getChannelList(),"修改小说链接"===this.$route.name&&(this.form=this.$route.params.row,this.imgUrl=this.$route.params.domain_name+this.form.picurl,this.getContent(this.form._id))},methods:{selectChannel:function(){this.channelShow=this.selectChannelList,this.form.channel=this.channelShow[0],this.selectChannelList=[]},cancelSelect:function(){this.selectChannelList=[]},getChannelList:function(){var t=this;this.$axios.get("/channel").then(function(e){e.data.success&&(t.channelList=e.data.data)})},getContent:function(t){var e=this;this.$axios.get("/tuiguang/novel/get_content",{params:{_id:t}}).then(function(t){e.$set(e.form,"capter1",t.data.data.capter1),e.$set(e.form,"capter2",t.data.data.capter2)})},handleSuccess:function(t,e){this.imgUrl=this.domain_names[0].domain_name+"/images/tuiguang/"+t.filename,this.form.picurl="/images/tuiguang/"+t.filename},create:function(){var t=this;this.$axios.post("/tuiguang/novel/add",this.form).then(function(e){e.data.err?t.$Message.info(e.data.err):(t.$Message.info(e.data.message),t.$router.push({name:"小说链接",params:t.form}),t.reset())})},reset:function(){this.form={type:0,pageTitle:"冒死推荐，多看一本是一本",articleTit:" 女人最多能承受多少厘米",desc:"一个陪你过夜的小说站"},this.imgUrl=""},cancel:function(){this.reset(),this.$router.push({name:"小说链接",params:{state:"cancel"}})},save:function(){var t=this;this.$axios.post("/tuiguang/novel/update",{_id:this.form._id,type:this.form.type,id:this.form.id,pageTitle:this.form.pageTitle,articleTit:this.form.articleTit,name:this.form.name,desc:this.form.desc,picurl:this.form.picurl,capter1:this.form.capter1,capter2:this.form.capter2,linkUrl:this.form.linkUrl,statisticsUrl1:this.form.statisticsUrl1,statisticsUrl2:this.form.statisticsUrl2,tokenCodes:this.form.tokenCodes,channel:this.form.channel,remarks:this.form.remarks}).then(function(e){t.$Message.info(e.data.success),t.$router.push({name:"小说链接",params:{row:t.form,index:t.$route.params.index}}),t.reset()})},getDomain:function(){var t=this;this.$axios.get("/tuiguang/novel/show").then(function(e){t.domain_names=e.data.domain_names})}}}),o=i,l=(a("c4f3"),a("2877")),n=Object(l["a"])(o,s,r,!1,null,"6f0a6c16",null);n.options.__file="editInfo.vue";e["default"]=n.exports},"76ec":function(t,e,a){},c4f3:function(t,e,a){"use strict";var s=a("76ec"),r=a.n(s);r.a}}]);
//# sourceMappingURL=chunk-0292e0fc.ef79bd0a.js.map