(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{242:function(e,t,n){e.exports=n(477)},248:function(e,t,n){},313:function(e,t,n){},314:function(e,t,n){e.exports=n.p+"static/media/login_bg.e3347162.png"},315:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},411:function(e,t,n){},422:function(e,t,n){},461:function(e,t,n){},468:function(e,t,n){},472:function(e,t,n){},475:function(e,t,n){e.exports=n.p+"static/media/bg.e709b51a.png"},477:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getGroupList",function(){return A}),n.d(a,"getAllGonghaoList",function(){return q}),n.d(a,"changePage",function(){return U}),n.d(a,"changeTab",function(){return F}),n.d(a,"changeSearchInput",function(){return z}),n.d(a,"searchByName",function(){return P}),n.d(a,"deleteGonghao",function(){return G}),n.d(a,"jieguan",function(){return B}),n.d(a,"selectTag",function(){return K}),n.d(a,"removeTag",function(){return V}),n.d(a,"tagConfirm",function(){return R}),n.d(a,"deleteTagItem",function(){return J}),n.d(a,"createForm",function(){return H}),n.d(a,"updateForm",function(){return W}),n.d(a,"checkPageAttr",function(){return Y}),n.d(a,"getConfigList",function(){return Q}),n.d(a,"deleteConfig",function(){return X}),n.d(a,"changeConfigForm",function(){return Z}),n.d(a,"createConfigForm",function(){return $}),n.d(a,"updateConfigForm",function(){return ee});var r={};n.r(r),n.d(r,"getMenuList",function(){return ne}),n.d(r,"deleteMenu",function(){return ae}),n.d(r,"handleInfoChange",function(){return re}),n.d(r,"handleIndividualChange",function(){return oe}),n.d(r,"handleInputChange",function(){return ie}),n.d(r,"handleSubInputChange",function(){return le}),n.d(r,"addFirstMenu",function(){return ce}),n.d(r,"editMenu",function(){return ue}),n.d(r,"addSecondMenu",function(){return se}),n.d(r,"openModal",function(){return me}),n.d(r,"submitMenu",function(){return de}),n.d(r,"resetState",function(){return ge}),n.d(r,"cancelMenu",function(){return fe}),n.d(r,"editSecMenu",function(){return he}),n.d(r,"deleteFirMenu",function(){return pe}),n.d(r,"deleteSubMenu",function(){return ve}),n.d(r,"getAllCodes",function(){return be}),n.d(r,"changeGonghao",function(){return ye}),n.d(r,"initMenuInfo",function(){return ke});var o={};n.r(o),n.d(o,"getMaterialList",function(){return Ce}),n.d(o,"deleteMaterial",function(){return Me}),n.d(o,"handleContentChange",function(){return Le}),n.d(o,"handleMaterialChange",function(){return Oe}),n.d(o,"resetState",function(){return je}),n.d(o,"submitMaterial",function(){return xe}),n.d(o,"copy",function(){return we}),n.d(o,"initMaterialInfo",function(){return Se});var i={};n.r(i),n.d(i,"getGroupGonghao",function(){return Ae}),n.d(i,"search",function(){return qe}),n.d(i,"changeSearchInput",function(){return Ue}),n.d(i,"getMaterial",function(){return Fe}),n.d(i,"getMessageList",function(){return ze}),n.d(i,"getTagList",function(){return Pe}),n.d(i,"changeTagId",function(){return Ge}),n.d(i,"closeModal",function(){return Be}),n.d(i,"openModal",function(){return Ke}),n.d(i,"sendMessage",function(){return Ve}),n.d(i,"openTimingModal",function(){return Re}),n.d(i,"sendTimingMessage",function(){return Je}),n.d(i,"changeTimingState",function(){return He}),n.d(i,"changeTime",function(){return We}),n.d(i,"copy",function(){return Ye}),n.d(i,"deleteMaterial",function(){return Qe}),n.d(i,"clearMaterial",function(){return Xe}),n.d(i,"getHistoryList",function(){return Ze}),n.d(i,"checkSendState",function(){return $e}),n.d(i,"openMsgModal",function(){return et}),n.d(i,"closeMsgModal",function(){return tt}),n.d(i,"changeArticleIdx",function(){return nt}),n.d(i,"deleteMsg",function(){return at}),n.d(i,"clearHistory",function(){return rt}),n.d(i,"changeDate",function(){return ot}),n.d(i,"deleteMany",function(){return it}),n.d(i,"resetState",function(){return lt});var l={};n.r(l),n.d(l,"getKefuMessageList",function(){return mt}),n.d(l,"createKefuMessage",function(){return dt}),n.d(l,"deleteMessage",function(){return gt}),n.d(l,"sendKefuMessage",function(){return ft}),n.d(l,"deleteByDate",function(){return ht}),n.d(l,"changeContentValue",function(){return pt}),n.d(l,"changeMessageValue",function(){return vt}),n.d(l,"addMessage",function(){return bt}),n.d(l,"selectMessage",function(){return yt}),n.d(l,"selectParams",function(){return kt}),n.d(l,"hideParamsModal",function(){return Et}),n.d(l,"getAllCodes",function(){return It}),n.d(l,"changeGonghao",function(){return Ct}),n.d(l,"getTagList",function(){return Mt}),n.d(l,"selectTag",function(){return Lt}),n.d(l,"submitMessage",function(){return Ot}),n.d(l,"cancelSelectTag",function(){return jt}),n.d(l,"initKefuMessageInfo",function(){return xt}),n.d(l,"resetState",function(){return wt});var c={};n.r(c),n.d(c,"getNovelLinkList",function(){return Nt}),n.d(c,"changePage",function(){return At}),n.d(c,"deleteNovel",function(){return qt}),n.d(c,"goTop",function(){return Ut}),n.d(c,"cancelGoTop",function(){return Ft}),n.d(c,"getChannelList",function(){return zt}),n.d(c,"openChannelModal",function(){return Pt}),n.d(c,"cancelSelectChannel",function(){return Gt}),n.d(c,"changeChannel",function(){return Bt}),n.d(c,"selectChannel",function(){return Kt}),n.d(c,"searchByCreator",function(){return Vt}),n.d(c,"openDomainModal",function(){return Rt}),n.d(c,"closeDomainModal",function(){return Jt}),n.d(c,"changeDomainName",function(){return Ht}),n.d(c,"submitDomain",function(){return Wt}),n.d(c,"openAddCreatorModal",function(){return Yt}),n.d(c,"closeAddCreatorModal",function(){return Qt}),n.d(c,"openDelCreatorModal",function(){return Xt}),n.d(c,"closeDelCreatorModal",function(){return Zt}),n.d(c,"addCreator",function(){return $t}),n.d(c,"delCreator",function(){return en}),n.d(c,"changeStateInput",function(){return tn}),n.d(c,"getCreatorList",function(){return nn}),n.d(c,"submitNovel",function(){return an}),n.d(c,"handleInputChange",function(){return rn}),n.d(c,"initNovelInfo",function(){return on}),n.d(c,"openEditChannelModal",function(){return ln}),n.d(c,"cancelSelectEditChannel",function(){return cn}),n.d(c,"changeEditChannel",function(){return un}),n.d(c,"selectEditChannel",function(){return sn}),n.d(c,"getContent",function(){return mn}),n.d(c,"resetState",function(){return dn}),n.d(c,"deleteFinalImg",function(){return gn}),n.d(c,"randomString",function(){return fn});var u={};n.r(u),n.d(u,"getDomainName",function(){return yn}),n.d(u,"getRecommendList",function(){return kn}),n.d(u,"deleteItem",function(){return En}),n.d(u,"openRecommendModal",function(){return In}),n.d(u,"closeRecommendModal",function(){return Cn}),n.d(u,"createRecommendList",function(){return Mn}),n.d(u,"resetState",function(){return Ln});var s=n(0),m=n.n(s),d=n(11),g=n.n(d),f=(n(247),n(248),n(8)),h=n(12),p=n(13),v=n(16),b=n(14),y=n(15),k=n(28),E=n(24),I=n(82),C=n(43),M=n(220),L=n(29),O={gonghaoTagList:[],allGonghaoList:[],originalGonghaoList:[],gonghaoList:[],currentPage:1,searchName:"",isSelectTag:!1,selectedTag:"",isCreate:!0,configList:[],configForm:{type:0,sex:3,attribute:1,text:"",replyType:0,msgId:null,key:"",urlList:[]}},j=n(30),x=n.n(j),w=n(38),S=n(7),_=n.n(S),T=n(490),N=n(487),D=function(){return new Promise(function(e,t){var n;n=setInterval(function(){var e=document.documentElement.scrollTop||document.body.scrollTop,t=Math.floor(-e/1.2);document.documentElement.scrollTop=document.body.scrollTop=e+t,0===e&&clearInterval(n)},30),e(null)})},A=function(){return function(e){_.a.get("/gonghaoTag").then(function(t){if(t.data.success){var n=t.data.data;e({type:"gonghao/tuoguan/getGonghaoTagList",gonghaoTagList:n})}})}},q=function(){return function(e){_.a.get("/conf").then(function(t){if(t.data.data.length>0){var n=t.data.data,a=n.slice(0,10);e({type:"gonghao/tuoguan/getAllGonghaoList",allGonghaoList:n,gonghaoList:a})}})}},U=function(e){return function(){var t=Object(w.a)(x.a.mark(function t(n){var a;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={type:"gonghao/tuoguan/changePage",page:e},t.next=3,D();case 3:return t.next=5,n(a);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},F=function(e){return function(t){t({type:"gonghao/tuoguan/changeTab",key:e})}},z=function(e){return{type:"gonghao/tuoguan/changeSearchInput",searchName:e}},P=function(e){return function(t){_.a.get("/conf/find_one",{params:{name:e}}).then(function(e){if(e.data.data.length>0){var n=e.data.data,a=n.slice(0,10);t({type:"gonghao/tuoguan/searchByName",allGonghaoList:n,gonghaoList:a}),T.a.success("\u67e5\u8be2\u6210\u529f")}})}},G=function(e,t){return function(n){N.a.confirm({okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",content:"\u786e\u8ba4\u5220\u9664\u5417\uff1f",title:"\u63d0\u793a",onOk:function(){_.a.get("/conf/del",{params:{id:e}}).then(function(e){n({type:"gonghao/tuoguan/deleteGonghao",index:t}),T.a.success("\u5220\u9664\u6210\u529f")})}})}},B=function(e){return function(t){N.a.confirm({okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",content:"\u786e\u8ba4\u63a5\u7ba1\u5417\uff1f",title:"\u63d0\u793a",onOk:function(){_.a.get("/conf/jieguan",{params:{code:e}}).then(function(e){t({type:"gonghao/tuoguan/jieguan"})})}})}},K=function(e){return{type:"gonghao/tuoguan/selectTag",selectedTag:e}},V=function(){return{type:"gonghao/tuoguan/removeTag"}},R=function(e,t){return function(n){var a;_.a.post("/gonghaoTag",{name:e}).then(function(r){0===r.data.exist&&(a=r.data.data),t.form.setFieldsValue({group:e}),n({type:"gonghao/tuoguan/tagConfirm",name:a,group:e})})}},J=function(e,t){return function(n){_.a.delete("/gonghaoTag/"+e).then(function(e){n({type:"gonghao/tuoguan/deleteTagItem",index:t})})}},H=function(e,t){return function(n){_.a.post("/conf/create",e).then(function(a){t.goBack(),n({type:"gonghao/tuoguan/createForm",gonghaoInfo:e}),T.a.success("\u6dfb\u52a0\u6210\u529f")})}},W=function(e,t){return function(n){_.a.post("/conf/update",e).then(function(a){t.goBack(),q(),n({type:"gonghao/tuoguan/updateForm",gonghaoInfo:e}),T.a.success("\u4fee\u6539\u6210\u529f")})}},Y=function(){return{type:"gonghao/tuoguan/checkPageAttr"}},Q=function(e){return function(t){_.a.get("/reply",{params:{code:e}}).then(function(e){var n=e.data.data;t({type:"gonghao/tuoguan/getConfigList",configList:n})})}},X=function(e,t){return function(n){N.a.confirm({okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",content:"\u786e\u8ba4\u5220\u9664\u5417\uff1f",title:"\u63d0\u793a",onOk:function(){_.a.get("/reply/del",{params:{id:e}}).then(function(e){n({type:"gonghao/tuoguan/deleteConfig",index:t}),T.a.success("\u5220\u9664\u6210\u529f")})}})}},Z=function(e){return{type:"gonghao/tuoguan/changeConfigForm",formInfo:e}},$=function(e,t){return function(n){_.a.post("/reply/create",e).then(function(a){t.goBack(),n({type:"gonghao/tuoguan/createConfigForm",configInfo:e}),T.a.success("\u521b\u5efa\u6210\u529f")})}},ee=function(e,t,n){return function(a){_.a.post("/reply/update",e).then(function(r){t.goBack(),a({type:"gonghao/tuoguan/updateConfigForm",configInfo:e,index:n}),T.a.success("\u4fee\u6539\u6210\u529f")})}},te={menuList:[],menuIndex:-1,secMenuIndex:-1,isSubmit:!1,allCodes:[],targetKeys:[],sub_button:{name:"\u5b50\u83dc\u5355\u540d\u79f0",type:"view",key:"",url:""},menuForm:{name:"\u83dc\u5355\u540d\u79f0",type:"view",key:"",url:"",sub_button:[]},menuInfo:{title:"",individual:!1,sex:"0",values:[],codes:[]}},ne=function(){return function(e){_.a.get("/menu").then(function(t){if(t.data.data.length>0){var n=t.data.data.reverse();e({type:"gonghao/menu/getMenuList",menuList:n})}})}},ae=function(e,t){return function(n){N.a.confirm({title:"\u63d0\u793a",content:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",onOk:function(){_.a.get("/menu/del",{params:{id:e}}).then(function(e){e.data.success&&(n({type:"gonghao/menu/deleteMenu",index:t}),T.a.success(e.data.success))})}})}},re=function(e,t){return{type:"gonghao/menu/handleInfoChange",value:e,name:t}},oe=function(e){return{type:"gonghao/menu/handleIndividualChange",value:e}},ie=function(e,t){return{type:"gonghao/menu/handleInputChange",name:e,value:t}},le=function(e,t){return{type:"gonghao/menu/handleSubInputChange",name:e,value:t}},ce=function(){return{type:"gonghao/menu/addFirstMenu"}},ue=function(e,t){return{type:"gonghao/menu/editMenu",index:t,data:e}},se=function(){return{type:"gonghao/menu/addSecondMenu"}},me=function(){return{type:"gonghao/menu/openModal"}},de=function(e){return function(t){N.a.confirm({title:"\u63d0\u793a",content:"\u786e\u5b9a\u63d0\u4ea4\u5417\uff1f",onOk:function(){_.a.post(e.history.location.query?"/menu/update":"/menu/create",Object(f.a)({},e.menuInfo)).then(function(n){t({type:"gonghao/menu/submitMenu"}),e.history.goBack(),ge()})}})}},ge=function(){return{type:"gonghao/menu/resetState"}},fe=function(){return{type:"gonghao/menu/cancelMenu"}},he=function(e,t){return{type:"gonghao/menu/editSecMenu",index:t,data:e}},pe=function(){return function(e){N.a.confirm({title:"\u63d0\u793a",content:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",onOk:function(){e({type:"gonghao/menu/deleteFirMenu"})}})}},ve=function(){return function(e){N.a.confirm({title:"\u63d0\u793a",content:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",onOk:function(){e({type:"gonghao/menu/deleteSubMenu"})}})}},be=function(){return function(e){_.a.get("/conf").then(function(t){var n=t.data.data;e({type:"gonghao/menu/getAllCodes",allCodes:n})})}},ye=function(e){return{type:"gonghao/menu/changeGonghao",targetKeys:e}},ke=function(e){return{type:"gonghao/menu/initMenuInfo",record:e}},Ee="gonghao/material/copy",Ie={materialList:[],content:{picurl:"",title:"",url:"",description:""},materialInfo:{type:0,contents:[],description:""}},Ce=function(){return function(e){_.a.get("/msg").then(function(t){if(t.data.data.length>0){var n=t.data.data.reverse();e({type:"gonghao/menu/getMaterialList",materialList:n})}})}},Me=function(e,t){return function(n){N.a.confirm({title:"\u63d0\u793a",content:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",onOk:function(){_.a.get("/msg/del",{params:{id:e}}).then(function(e){e.data.success&&(n({type:"gonghao/material/deleteMaterial",index:t}),T.a.success(e.data.success))})}})}},Le=function(e,t){return{type:"gonghao/material/handleContentChange",name:t,value:e}},Oe=function(e,t){return{type:"gonghao/material/handleMaterialChange",name:t,value:e}},je=function(){return{type:"gonghao/material/resetState"}},xe=function(e,t){return function(n){N.a.confirm({title:"\u63d0\u793a",content:"\u786e\u5b9a\u63d0\u4ea4\u5417\uff1f",onOk:function(){_.a.post(t.history.location.query?"/msg/update":"/msg/create",Object(f.a)({},e)).then(function(e){e.data.success&&(je(),T.a.success(e.data.success),t.history.goBack())})}})}},we=function(e,t){return function(t){N.a.confirm({title:"\u63d0\u793a",content:"\u786e\u5b9a\u590d\u5236\u8fd9\u6761\u7d20\u6750\u5417\uff1f",onOk:function(){_.a.post("/msg/create",Object(f.a)({},e)).then(function(e){if(e.data.success){var n=e.data.data;T.a.success("\u590d\u5236\u6210\u529f"),t({type:Ee,data:n})}})}})}},Se=function(e){return{type:"gonghao/material/initMaterialInfo",record:e}},_e=Object(C.c)({tuoguan:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0,r=JSON.parse(JSON.stringify(n));switch(a.type){case"gonghao/tuoguan/getGonghaoTagList":return r.gonghaoTagList=a.gonghaoTagList,r;case"gonghao/tuoguan/getAllGonghaoList":return r.allGonghaoList=r.originalGonghaoList=a.allGonghaoList,r.gonghaoList=a.gonghaoList,r;case"gonghao/tuoguan/changePage":return e=10*(a.page-1),t=10*a.page,r.gonghaoList=r.allGonghaoList.slice(e,t),r.currentPage=a.page,r;case"gonghao/tuoguan/changeTab":var o=[];return"ALL"===a.key?o=Object(L.a)(r.originalGonghaoList):r.originalGonghaoList.map(function(e){return a.key===e.group&&o.push(e)}),r.allGonghaoList=Object(L.a)(o),r.gonghaoList=r.allGonghaoList.slice(0,10),r.currentPage=1,r;case"gonghao/tuoguan/changeSearchInput":return r.searchName=a.searchName,r;case"gonghao/tuoguan/searchByName":return r.allGonghaoList=a.allGonghaoList,r.gonghaoList=a.gonghaoList,r.searchName="",r;case"gonghao/tuoguan/deleteGonghao":return r.gonghaoList.splice(a.index,1),r;case"gonghao/tuoguan/selectTag":return r.isSelectTag=!0,r.selectedTag=a.selectedTag,r;case"gonghao/tuoguan/removeTag":return r.isSelectTag=!1,r.selectedTag="",r;case"gonghao/tuoguan/tagConfirm":return r.isSelectTag=!0,r.selectedTag=a.group,a.name&&r.gonghaoTagList.push(a.name),r;case"gonghao/tuoguan/deleteTagItem":return r.isSelectTag=!1,r.selectedTag="",r.gonghaoTagList.splice(a.index,1),r;case"gonghao/tuoguan/checkPageAttr":return r.isCreate=!1,r;case"gonghao/tuoguan/getConfigList":return r.configList=a.configList,r;case"gonghao/tuoguan/deleteConfig":return r.configList.splice(a.index,1),r;case"gonghao/tuoguan/changeConfigForm":return r.configForm=Object(f.a)({},a.formInfo),r;default:return n}},menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,n=JSON.parse(JSON.stringify(e));switch(t.type){case"gonghao/menu/getMenuList":return n.menuList=t.menuList,n;case"gonghao/menu/deleteMenu":return n.menuList.splice(t.index,1),n;case"gonghao/menu/handleInfoChange":return n.menuInfo[t.name]=t.value,n;case"gonghao/menu/handleIndividualChange":return n.menuInfo.individual=t.value,Object.assign(n.menuForm,{sex:0}),n;case"gonghao/menu/handleInputChange":return n.menuForm[t.name]=t.value,"type"===t.name&&Object.assign(n.menuForm,{key:"",url:""}),n.menuInfo.values.splice(n.menuIndex,1,Object(f.a)({},n.menuForm)),n;case"gonghao/menu/handleSubInputChange":return n.sub_button[t.name]=t.value,"type"===t.name&&Object.assign(n.sub_button,{key:"",url:""}),n.menuForm.sub_button.splice(n.secMenuIndex,1,Object(f.a)({},n.sub_button)),n.menuInfo.values.splice(n.menuIndex,1,Object(f.a)({},n.menuForm)),n;case"gonghao/menu/addFirstMenu":return n.menuForm={name:"\u83dc\u5355\u540d\u79f0",type:"view",key:"",url:"",sub_button:[]},n.menuInfo.values.push(Object(f.a)({},n.menuForm)),n.menuIndex=n.menuInfo.values.length-1,n;case"gonghao/menu/editMenu":return n.menuIndex=t.index,n.menuForm=Object(f.a)({},t.data),n.menuForm.sub_button&&(n.sub_button=Object(f.a)({},n.menuForm.sub_button[0])),n;case"gonghao/menu/addSecondMenu":return n.sub_button={name:"\u5b50\u83dc\u5355\u540d\u79f0",type:"view",key:"",url:""},n.menuForm.sub_button.push(Object(f.a)({},n.sub_button)),n.menuInfo.values.splice(n.menuIndex,1,Object(f.a)({},n.menuForm)),n.secMenuIndex=n.menuForm.sub_button.length-1,n;case"gonghao/menu/editSecMenu":return n.secMenuIndex=t.index,n.sub_button=Object(f.a)({},t.data),n;case"gonghao/menu/deleteFirMenu":return n.menuInfo.values.splice(n.menuIndex,1),n.menuIndex=n.menuInfo.values.length-1,n.menuForm=n.menuInfo.values[0]||{name:"\u83dc\u5355\u540d\u79f0",type:"view",key:"",url:"",sub_button:[]},n;case"gonghao/menu/deleteSubMenu":return n.menuForm.sub_button.splice(n.secMenuIndex,1),n.menuInfo.values[n.menuIndex].sub_button.splice(n.secMenuIndex,1),n.secMenuIndex=n.menuForm.sub_button.length-1,n.sub_button=n.menuForm.sub_button[0]||{name:"\u5b50\u83dc\u5355\u540d\u79f0",type:"view",key:"",url:""},n;case"gonghao/menu/getAllCodes":return n.allCodes=Object(L.a)(t.allCodes),n;case"gonghao/menu/changeGonghao":return n.menuInfo.codes=n.targetKeys=Object(L.a)(t.targetKeys),n;case"gonghao/menu/openModal":return n.isSubmit=!0,n;case"gonghao/menu/submitMenu":case"gonghao/menu/cancelMenu":return n.isSubmit=!1,n;case"gonghao/menu/initMenuInfo":return n.menuInfo=t.record,n.menuInfo.id=t.record._id,n.targetKeys=Object(L.a)(n.menuInfo.codes),n.menuForm=Object(f.a)({},n.menuInfo.values[0]),n.menuForm.sub_button&&(n.sub_button=Object(f.a)({},n.menuForm.sub_button[0])),n;case"gonghao/menu/resetState":return n=te;default:return e}},material:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0,n=JSON.parse(JSON.stringify(e));switch(t.type){case"gonghao/menu/getMaterialList":return n.materialList=t.materialList,n;case"gonghao/material/deleteMaterial":return n.materialList.splice(t.index,1),n;case"gonghao/material/handleContentChange":return n.content[t.name]=t.value,n;case"gonghao/material/handleMaterialChange":return"type"===t.name&&(n.content=Ie.content,n.materialInfo.contents=[]),n.materialInfo[t.name]=t.value,n;case"gonghao/material/initMaterialInfo":return n.materialInfo=Object(f.a)({},t.record),n.materialInfo.id=n.materialInfo._id,n.content=Object(f.a)({},n.materialInfo.contents[0]),n;case Ee:return n.materialList.unshift(Object(f.a)({},t.data)),n;case"gonghao/material/resetState":return n=Ie;default:return e}}}),Te=_e,Ne={gonghaoList:[],name:"",messageList:[],tagList:[],sendModal:!1,sendTimingModal:!1,date:"",time:"",sendInfo:{id:"",tagId:null,mediaId:""},sendTimingInfo:{id:"",tagId:null,isTiming:!1,timing:null},historyList:[],historyMsgModal:!1,delMsgInfo:{code:null,msg_id:"",article_idx:""},delDate:""},De=function(){return new Promise(function(e,t){_.a.get("/conf").then(function(n){if(n.data.data.length>0){var a=n.data.data;e({type:"gonghao/group/getGroupGonghao",gonghaoList:a})}else t(null)})})},Ae=function(){return function(){var e=Object(w.a)(x.a.mark(function e(t){var n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De();case 2:n=e.sent,t(n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},qe=function(e){return function(){var t=Object(w.a)(x.a.mark(function t(n){var a;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e){t.next=4;break}_.a.get("/conf/find_one",{params:{name:e}}).then(function(e){if(0!==e.data.data.length){var t=e.data.data;n({type:"gonghao/group/search",gonghaoList:t})}else T.a.info("\u6ca1\u6709\u67e5\u8be2\u5230\u5305\u542b\u8be5\u5b57\u7b26\u7684\u516c\u53f7\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u65b0\u8f93\u5165")}),t.next=9;break;case 4:return t.next=6,De();case 6:a=t.sent,n(a),T.a.info("\u516c\u53f7\u540d\u4e0d\u80fd\u4e3a\u7a7a");case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Ue=function(e){return{type:"gonghao/group/changeSearchInput",name:e}},Fe=function(e){return function(t){_.a.get("/material",{params:{code:e}}).then(function(e){T.a.success(e.data.success)})}},ze=function(e){return function(t){_.a.get("/material/show",{params:{code:Number(e)}}).then(function(e){var n=e.data.data;t({type:"gonghao/group/getMessageList",data:n})})}},Pe=function(e){return function(t){_.a.get("/material/tag",{params:{code:e}}).then(function(e){var n=e.data.data;t({type:"gonghao/group/getTagList",data:n})})}},Ge=function(e,t){return{type:"gonghao/group/changeTagId",value:e,isTiming:t}},Be=function(){return{type:"gonghao/group/closeModal"}},Ke=function(e){return{type:"gonghao/group/openModal",record:e}},Ve=function(e){return function(t){N.a.confirm({title:"\u786e\u5b9a\u53d1\u9001\u6d88\u606f\u5417\uff1f",onOk:function(){_.a.get("/material/sendMsg",{params:Object(f.a)({},e)}).then(function(e){T.a.info(e.data.success),t(Be())})}})}},Re=function(e){return{type:"gonghao/group/openTimingModal",record:e}},Je=function(e,t){return function(n){N.a.confirm({title:"\u786e\u5b9a\u5b9a\u65f6\u53d1\u9001\u6d88\u606f\u5417\uff1f",onOk:function(){_.a.get("/material/send_timing",{params:Object(f.a)({},e)}).then(function(e){T.a.info("\u8bbe\u7f6e\u6210\u529f"),n(ze(t)),n(Be())})}})}},He=function(e){return{type:"gonghao/group/changeTimingState",value:e}},We=function(e,t){return{type:"gonghao/group/changeTime",time:e,timeType:t}},Ye=function(e){return function(t){N.a.confirm({title:"\u786e\u5b9a\u590d\u5236\u8fd9\u6761\u7d20\u6750\u5417\uff1f",onOk:function(){_.a.post("/material/copy",{id:e}).then(function(e){if(e.data.success){var n=e.data.data;T.a.success(e.data.success),t({type:"gonghao/group/copy",data:n})}else T.a.info(e.data.err)})}})}},Qe=function(e,t){return function(n){N.a.confirm({title:"\u786e\u5b9a\u5220\u9664\u8fd9\u6761\u7d20\u6750\u5417\uff1f",onOk:function(){_.a.get("/material/del",{params:{id:e}}).then(function(e){e.data.success?(T.a.success(e.data.success),n({type:"gonghao/group/deleteMaterial",index:t})):T.a.info(e.data.err)})}})}},Xe=function(e){return function(t){N.a.confirm({title:"\u786e\u5b9a\u6e05\u7a7a\u5217\u8868\u5417\uff1f",onOk:function(){_.a.get("/material/clear",{params:{code:e}}).then(function(e){T.a.info(e.data.success),t({type:"gonghao/group/clearMaterial"})})}})}},Ze=function(e){return function(t){_.a.get("/history",{params:{code:e}}).then(function(e){var n=e.data.data;t({type:"gonghao/group/getHistoryList",data:n})})}},$e=function(e,t){return function(n){_.a.get("/history/state",{params:{code:e,msg_id:t}}).then(function(e){T.a.info(e.data.data.msg_status)})}},et=function(e,t){return{type:"gonghao/group/openMsgModal",code:e,msg_id:t}},tt=function(){return{type:"gonghao/group/closeMsgModal"}},nt=function(e){return{type:"gonghao/group/changeArticleIdx",value:e}},at=function(e){return function(t){N.a.confirm({title:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",onOk:function(){_.a.get("/history/del_msg",{params:Object(f.a)({},e)}).then(function(e){T.a.info(e.data.success),t(tt())})}})}},rt=function(e){return function(t){N.a.confirm({title:"\u786e\u5b9a\u6e05\u7a7a\u5217\u8868\uff1f",onOk:function(){_.a.get("/history/clear",{params:{code:e}}).then(function(e){T.a.success(e.data.success),t({type:"gonghao/group/clearHistory"})})}})}},ot=function(e){return{type:"gonghao/group/changeDate",delDate:e}},it=function(e,t){return function(n){N.a.confirm({title:"\u786e\u8ba4\u5220\u9664\u5417?:",onOk:function(){_.a.get("/history/delByDate",{params:{date:t,code:e}}).then(function(e){T.a.info(e.data.success),n(Ze())})}})}},lt=function(){return{type:"gonghao/group/resetState"}},ct={description:"",title:"",url:"",picurl:""},ut={kefuMessageList:[],kefuMessageInfo:{contents:[],type:1,img:"",img_path:"",channel:0,sex:"all",timing_time:new Date,delay:"",tagId:"",tagName:"",codes:[]},content:ct,messageIndex:-1,paramsModal:!1,allCodes:[],targetKeys:[],tagList:[]},st=function(){return new Promise(function(e,t){_.a.get("/message",{params:{sort:"_id"}}).then(function(n){if(n.data.messages.length>0){var a=n.data.messages;e({type:"message/kefu/getKefuMessageList",kefuMessageList:a})}else t(null)})})},mt=function(){return function(){var e=Object(w.a)(x.a.mark(function e(t){var n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st();case 2:n=e.sent,t(n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},dt=function(e){return function(t){N.a.confirm({title:"\u786e\u5b9a\u65b0\u589e\u4e00\u6761\u5ba2\u670d\u6d88\u606f\u5417\uff1f",onOk:function(){_.a.post("/message/create",Object(f.a)({},e)).then(function(n){if(n.data.success){var a=n.data.data;T.a.info(e._id?"\u590d\u5236\u6210\u529f":n.data.success),t({type:"message/kefu/createKefuMessage",data:a})}else T.a.info(n.data.err)})}})}},gt=function(e,t){return function(n){N.a.confirm({title:"\u786e\u5b9a\u5220\u9664\u8fd9\u6761\u5ba2\u670d\u6d88\u606f\u5417\uff1f",onOk:function(){_.a.get("/message/delete",{params:{id:e}}).then(function(e){0===e.data.data.length?(T.a.info("\u5df2\u5220\u9664\u6700\u540e\u4e00\u6761\u6570\u636e"),n({type:"message/kefu/deleteLastMessage"})):(T.a.info(e.data.success),n({type:"message/kefu/deleteMessage",index:t}))})}})}},ft=function(e,t){return function(n){N.a.confirm({title:"\u786e\u5b9a\u53d1\u9001\u6d88\u606f\u5417\uff1f",onOk:function(){_.a.get("/message/send",{params:{id:e,tagId:t,take_over:!0}}).then(function(e){T.a.info(e.data.success)})}})}},ht=function(e,t){return function(n){N.a.confirm({title:"\u786e\u5b9a\u5220\u9664\u8fd9\u6bb5\u65f6\u95f4\u5185\u53d1\u9001\u7684\u5ba2\u670d\u6d88\u606f\u5417\uff1f",onOk:function(){_.a.get("/message/remove",{params:{startTime:e,endTime:t}}).then(function(){var e=Object(w.a)(x.a.mark(function e(t){var a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T.a.info(t.data.success),e.next=3,st();case 3:a=e.sent,n(a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}})}},pt=function(e,t){return{type:"message/kefu/changeContentValue",value:e,name:t}},vt=function(e,t){return{type:"message/kefu/changeMessageValue",value:e,name:t}},bt=function(){return{type:"message/kefu/addMessage"}},yt=function(e,t){return{type:"message/kefu/selectMessage",info:e,index:t}},kt=function(){return{type:"message/kefu/selectParams"}},Et=function(){return{type:"message/kefu/hideParamsModal"}},It=function(){return function(e){_.a.get("/conf").then(function(t){var n=t.data.data;e({type:"message/kefu/getAllCodes",allCodes:n})})}},Ct=function(e){return{type:"message/kefu/changeGonghao",targetKeys:e}},Mt=function(){return function(e){_.a.get("/tag").then(function(t){var n=t.data.data;e({type:"message/kefu/getTagList",tagList:n})})}},Lt=function(e,t){return{type:"message/kefu/selectTag",tagName:t,tagId:e}},Ot=function(e,t){return function(n){!e.img&&(e.img=e.contents[0].picurl),1===e.channel?e.task=!0:e.task=!1,2===e.channel?e.is_timing=!0:e.is_timing=!1,N.a.confirm({title:"\u786e\u5b9a\u63d0\u4ea4\u5417\uff1f",onOk:function(){var a="/message/create";t.location.query&&(a="/message/update",e.id=e._id),_.a.post(a,Object(f.a)({},e)).then(function(e){e.data.success?(T.a.info(e.data.success),t.goBack(),n(wt())):T.a.info(e.data.err)})}})}},jt=function(){return{type:"message/kefu/cancelSelectTag"}},xt=function(e){return function(t){e.tagId?_.a.get("/tag/get_name",{params:{tagId:e.tagId}}).then(function(n){e.tagName=n.data.data.name,t({type:"message/kefu/initKefuMessageInfo",query:e})}):t({type:"message/kefu/initKefuMessageInfo",query:e})}},wt=function(){return{type:"message/kefu/resetState"}},St=Object(C.c)({group:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0,n=JSON.parse(JSON.stringify(e));switch(t.type){case"gonghao/group/getGroupGonghao":return n.gonghaoList=Object(L.a)(t.gonghaoList),n;case"gonghao/group/changeSearchInput":return n.name=t.name,n;case"gonghao/group/search":return n.gonghaoList=Object(L.a)(t.gonghaoList),n.name="",n;case"gonghao/group/getMessageList":return n.messageList=Object(L.a)(t.data).reverse(),n;case"gonghao/group/getTagList":return n.tagList=Object(L.a)(t.data),n;case"gonghao/group/changeTagId":return!t.isTiming&&(n.sendInfo.tagId=t.value),t.isTiming&&(n.sendTimingInfo.tagId=t.value),n;case"gonghao/group/closeModal":return n.sendInfo=n.sendTimingInfo={},n.sendTimingInfo.timing=Date.now(),n.sendTimingInfo.isTiming=n.sendTimingModal=n.sendModal=!1,n;case"gonghao/group/openModal":return n.sendInfo.id=t.record._id,n.sendInfo.tagId=t.record.tagId,n.sendInfo.mediaId=t.record.media_id,n.sendModal=!0,n;case"gonghao/group/openTimingModal":return n.sendTimingInfo.id=t.record._id,n.sendTimingInfo.tagId=t.record.tagId,n.sendTimingInfo.isTiming=t.record.isTiming,n.sendTimingInfo.timing=t.record.timing,n.sendTimingModal=!0,n;case"gonghao/group/changeTimingState":return n.sendTimingInfo.isTiming=t.value,n;case"gonghao/group/changeTime":"date"===t.timeType?n.date=t.time:n.time=t.time;var a=new Date(n.date+" "+n.time);return n.sendTimingInfo.timing=a.getTime(),n;case"gonghao/group/copy":return n.messageList.unshift(Object(f.a)({},t.data)),n;case"gonghao/group/deleteMaterial":return n.messageList.splice(t.index,1),n;case"gonghao/group/clearMaterial":return n.messageList=[],n;case"gonghao/group/getHistoryList":return n.historyList=Object(L.a)(t.data),n;case"gonghao/group/openMsgModal":return n.historyMsgModal=!0,n.delMsgInfo.code=t.code,n.delMsgInfo.msg_id=t.msg_id,n;case"gonghao/group/closeMsgModal":return n.historyMsgModal=!1,n.delMsgInfo.article_idx="",n;case"gonghao/group/changeArticleIdx":return n.delMsgInfo.article_idx=t.value,n;case"gonghao/group/clearHistory":return n.historyList=[],n;case"gonghao/group/changeDate":return n.delDate=t.delDate,n;case"gonghao/group/resetState":return n=Ne;default:return e}},kefu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0,n=JSON.parse(JSON.stringify(e));switch(t.type){case"message/kefu/getKefuMessageList":return n.kefuMessageList=Object(L.a)(t.kefuMessageList),n;case"message/kefu/createKefuMessage":return n.kefuMessageList.unshift(Object(f.a)({},t.data)),n;case"message/kefu/deleteLastMessage":return n.kefuMessageList=[],n;case"message/kefu/deleteMessage":return n.kefuMessageList.splice(t.index,1),n;case"message/kefu/changeContentValue":return n.content[t.name]=t.value,n.kefuMessageInfo.contents.splice(n.messageIndex,1,n.content),n;case"message/kefu/changeMessageValue":return n.kefuMessageInfo[t.name]=t.value,"type"===t.name&&(n.content=ct,n.kefuMessageInfo.contents=[],n.kefuMessageInfo.img=n.kefuMessageInfo.img_path="",n.messageIndex=-1,0===t.value&&(n.kefuMessageInfo.contents.push(n.content),n.messageIndex=0)),"channel"===t.name&&Object.assign(n.kefuMessageInfo,{timing_time:new Date,delay:""}),n;case"message/kefu/addMessage":return n.content=ct,n.kefuMessageInfo.contents.push(n.content),n.messageIndex=n.kefuMessageInfo.contents.length-1,n;case"message/kefu/selectMessage":return n.content=Object(f.a)({},t.info),n.messageIndex=t.index,n;case"message/kefu/selectParams":return n.paramsModal=!0,n;case"message/kefu/hideParamsModal":return n.paramsModal=!1,n;case"message/kefu/getAllCodes":return n.allCodes=Object(L.a)(t.allCodes),n;case"message/kefu/getTagList":return n.tagList=Object(L.a)(t.tagList),n;case"message/kefu/selectTag":return n.kefuMessageInfo.tagName=t.tagName,n.kefuMessageInfo.tagId=t.tagId,n;case"message/kefu/cancelSelectTag":return n.kefuMessageInfo.tagName="",n.kefuMessageInfo.tagId=null,n;case"message/kefu/changeGonghao":return n.kefuMessageInfo.codes=n.targetKeys=Object(L.a)(t.targetKeys),n;case"message/kefu/initKefuMessageInfo":return n.kefuMessageInfo=Object(f.a)({},t.query),n.targetKeys=Object(L.a)(n.kefuMessageInfo.codes),n.kefuMessageInfo.contents.length>0&&(n.content=Object(f.a)({},n.kefuMessageInfo.contents[0])),0===n.kefuMessageInfo.type&&(n.messageIndex=0),t.query.task?n.kefuMessageInfo.channel=1:t.query.is_timing?n.kefuMessageInfo.channel=2:n.kefuMessageInfo.channel=0,n;case"message/kefu/resetState":return n=ut;default:return e}}}),_t=St,Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new Promise(function(a,r){_.a.get("/tuiguang/novel/show",{params:{page:e,channel:t,creator:n}}).then(function(e){var t=e.data,n=t.data,r=t.domain_names,o=t.count;a({type:"novel/links/getNovelLinkList",novelLinkList:n,domain_names:r,count:o})})})},Nt=function(e){return function(){var t=Object(w.a)(x.a.mark(function t(n){var a;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tt(1,"",e);case 2:a=t.sent,n(tn("creator",e)),n(a);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new Promise(function(a,r){_.a.get("/tuiguang/novel/show",{params:{page:e,channel:t,creator:n}}).then(function(e){var t=e.data,r=t.data,o=t.domain_names,i=t.count,l=t.code,c=t.msg,u={type:"novel/links/getNovelLinkList",novelLinkList:r,domain_names:o,count:i};T.a.info(c),1===l&&localStorage.setItem("creator",n),a(u)})})},At=function(e){return function(){var t=Object(w.a)(x.a.mark(function t(n){var a;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n,t.next=3,Tt(e);case 3:return t.t1=t.sent,(0,t.t0)(t.t1),a={type:"novel/links/changePage",page:e},t.next=8,D();case 8:return t.next=10,n(a);case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},qt=function(e,t){return function(n){N.a.confirm({title:"\u786e\u5b9a\u5220\u9664\u8fd9\u6761\u94fe\u63a5\u5417\uff1f",onOk:function(){_.a.post("/tuiguang/novel/delete_one",{id:e}).then(function(e){e.data.message&&(T.a.info(e.data.message),n({type:"novel/links/deleteNovel",index:t}))})}})}},Ut=function(e){return function(t){_.a.post("/tuiguang/goTop",{id:e}).then(function(e){e.data.success&&(T.a.success(e.data.success),t(Nt()))})}},Ft=function(e){return function(t){_.a.post("/tuiguang/cancelGoTop",{id:e}).then(function(e){e.data.success&&(T.a.success(e.data.success),t(Nt()))})}},zt=function(){return function(e){_.a.get("/channel").then(function(t){if(t.data.success){var n=t.data.data;e({type:"novel/links/getChannelList",channelList:n})}})}},Pt=function(){return{type:"novel/links/openChannelModla"}},Gt=function(){return{type:"novel/links/cancelSelectChannel"}},Bt=function(e){return{type:"novel/links/changeChannel",channel:e}},Kt=function(e){return function(){var t=Object(w.a)(x.a.mark(function t(n){var a;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage.getItem("creator"),"\u9ed8\u8ba4"===e&&(e=""),t.t0=n,t.next=5,Dt(null,e,a);case 5:return t.t1=t.sent,(0,t.t0)(t.t1),n({type:"novel/links/selectChannel"}),t.t2=n,t.next=11,Gt();case 11:t.t3=t.sent,(0,t.t2)(t.t3);case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Vt=function(e){return function(){var t=Object(w.a)(x.a.mark(function t(n){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("\u5168\u90e8"!==e){t.next=10;break}return t.t0=n,t.next=4,Dt();case 4:t.t1=t.sent,(0,t.t0)(t.t1),n(tn("creator","\u5168\u90e8")),localStorage.setItem("creator","\u5168\u90e8"),t.next=16;break;case 10:return t.t2=n,t.next=13,Dt(null,"",e);case 13:t.t3=t.sent,(0,t.t2)(t.t3),n(tn("creator",e));case 16:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Rt=function(){return{type:"novel/links/openDomainModal"}},Jt=function(){return{type:"novel/links/closeDomainModal"}},Ht=function(e){return{type:"novel/links/changeDomainName",domain:e}},Wt=function(e){return function(t){e?_.a.get("/transfer/update_links",{params:{id:"5b6d0b899a9fab38f48b5b10",domain_name:e}}).then(function(e){T.a.info(e.data.success),t(Jt())}):T.a.info("\u57df\u540d\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u8bf7\u91cd\u65b0\u586b\u5199\uff01\uff01\uff01")}},Yt=function(){return{type:"novel/links/openAddCreatorModal"}},Qt=function(){return{type:"novel/links/closeAddCreatorModal"}},Xt=function(){return{type:"novel/links/openDelCreatorModal"}},Zt=function(){return{type:"novel/links/closeDelCreatorModal"}},$t=function(e){return function(t){_.a.post("/creator",{name:e}).then(function(e){e.data.success?(T.a.success(e.data.success),t(Qt()),t(nn())):T.a.warning(e.data.err)})}},en=function(e){return function(t){_.a.delete("/creator",{params:{id:e}}).then(function(e){e.data.success?(T.a.success(e.data.success),t(Zt()),t(nn())):T.a.error(e.data.err)})}},tn=function(e,t){return{type:"novel/links/changeStateInput",key:e,value:t}},nn=function(){return function(e){_.a.get("/creator").then(function(t){var n=t.data,a=n.data,r=n.success;e(r?{type:"novel/links/getCreatorList",data:a}:{type:"novel/links/getCreatorList",data:[]})})}},an=function(e,t){return function(n){var a=t.history.location.query,r=a?"\u786e\u8ba4\u4fdd\u5b58\u4fee\u6539\u5417\uff1f":"\u786e\u8ba4\u521b\u5efa\u4e00\u6761\u65b0\u7684\u5c0f\u8bf4\u94fe\u63a5\u5417\uff1f",o=a?"/tuiguang/novel/update":"/tuiguang/novel/add",i=a?"\u4fdd\u5b58\u6210\u529f":"\u521b\u5efa\u6210\u529f";!a&&e._id&&_.a.get("/tuiguang/novel/get_content",{params:{_id:e._id}}).then(function(t){(e=t.data.data).id=fn()});var l=e.remarks;N.a.confirm({title:r,onOk:function(){_.a.post(o,Object(f.a)({},e,{remarks:l})).then(function(){var r=Object(w.a)(x.a.mark(function r(o){return x.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!o.data.err){r.next=4;break}T.a.info(o.data.err),r.next=11;break;case 4:return(!a&&!e._id||e._id&&a)&&t.history.goBack(),T.a.success(i),r.t0=n,r.next=9,Tt();case 9:r.t1=r.sent,(0,r.t0)(r.t1);case 11:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}())}})}},rn=function(e,t){return{type:"novel/links/handleInputChange",value:e,name:t}},on=function(e){return{type:"novel/links/initNovelInfo",record:e}},ln=function(){return{type:"novel/links/openEditChannelModal"}},cn=function(){return{type:"novel/links/cancelSelectEditChannel"}},un=function(e){return{type:"novel/links/changeEditChannel",channelList:e}},sn=function(){return function(){var e=Object(w.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"novel/links/selectEditChannel"}),e.t0=t,e.next=4,cn();case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},mn=function(e){return function(t){_.a.get("/tuiguang/novel/get_content",{params:{_id:e}}).then(function(e){var n=e.data.data;t({type:"novel/links/getContent",data:n})})}},dn=function(){return{type:"novel/links/resetState"}},gn=function(){return{type:"novel/links/deleteFinalImg"}},fn=function(){for(var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",t="",n=8;n>0;--n)t+=e[Math.floor(Math.random()*e.length)];return t},hn={type:3,id:fn(),gonghao_id:"",pageTitle:"",articleTit:"",name:"",title:"",picurl:"",capter1:"",linkUrl:"",statisticsUrl1:"",tokenCodes:"",channel:"",remarks:"",imgUrl:"",finalImg:"",finalImgUrl:"",gonghaoLogo:"",gonghaoLogoUrl:"",creator:"",isJump:!1,jumpUrl:"",domain_name:"https://ttj.wxlink.szyuexin.com.cn",company:"",bgcolor:"#fff",isClick:!0,suffix:""},pn={novelLinkList:[],creator:"\u5168\u90e8",creatorList:[],domain_name:"",domainModal:!1,count:null,currentPage:1,channelModal:!1,channel:"\u9ed8\u8ba4",selectedChannel:"\u9ed8\u8ba4",channelList:[],novelInfo:hn,editChannelModal:!1,selectChannelList:[],domain:"",addCreatorModal:!1,delCreatorModal:!1,newCreator:"",needDelCreatorId:""},vn={type:"0",listCode:""},bn={recommendList:[],domain_name:"",recommendModal:!1,recommendInfo:vn},yn=function(){return function(e){_.a.get("/tuiguang/novel/show").then(function(t){var n=t.data.domain_names[0].domain_name;e({type:"novel/recommend/getDomainName",domain_name:n})})}},kn=function(){return function(){var e=Object(w.a)(x.a.mark(function e(t){var n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,t){_.a.get("/recommend/list/show").then(function(n){if(n.data.data.length>0){var a=n.data.data;e({type:"novel/recommend/getData",recommendList:a})}else t(null)})});case 2:n=e.sent,t(n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},En=function(e,t){return function(n){N.a.confirm({title:"\u786e\u8ba4\u5220\u9664\u8fd9\u5c0f\u8fd4\u56de\u94fe\u63a5\u5417\uff1f",onOk:function(){_.a.get("/recommend/list/del",{params:{id:e}}).then(function(e){T.a.info("\u5220\u9664\u6210\u529f"),n({type:"novel/recommend/deleteItem",index:t})})}})}},In=function(){return{type:"novel/recommend/openRecommendModal"}},Cn=function(){return{type:"novel/recommend/closeRecommendModal"}},Mn=function(e,t){return function(n){N.a.confirm({title:"\u786e\u5b9a\u521b\u5efa\u4e00\u6761\u65b0\u7684\u63a8\u8350\u94fe\u63a5\u5417\uff1f",onOk:function(){_.a.post("/recommend/list/create",Object(f.a)({},e)).then(function(e){if(e.data.success){var a=e.data.data;T.a.info(e.data.success),n(Cn()),t.history.push("./recommendList/"+JSON.stringify(Object(f.a)({},a))),n({type:"novel/recommend/createRecommendList",data:a})}})}})}},Ln=function(){return{type:"novel/recommend/resetState"}},On=Object(C.c)({links:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0,n=JSON.parse(JSON.stringify(e));switch(t.type){case"novel/links/getNovelLinkList":return n.novelLinkList=Object(L.a)(t.novelLinkList),n.domain_name=t.domain_names[0].domain_name,n.count=t.count,n;case"novel/links/changePage":return n.currentPage=t.page,n;case"novel/links/deleteNovel":return n.novelLinkList.splice(t.index,1),n;case"novel/links/getChannelList":return n.channelList=Object(L.a)(t.channelList),n;case"novel/links/openChannelModla":return n.channelModal=!0,n;case"novel/links/cancelSelectChannel":return n.channelModal=!1,n.channel="\u9ed8\u8ba4",n;case"novel/links/changeChannel":return n.channel=t.channel,n;case"novel/links/selectChannel":return n.selectedChannel=n.channel,n;case"novel/links/openDomainModal":return n.domainModal=!0,n;case"novel/links/closeDomainModal":return n.domainModal=!1,n.domain="",n;case"novel/links/changeDomainName":return n.domain=t.domain,n;case"novel/links/openAddCreatorModal":return n.addCreatorModal=!0,n;case"novel/links/closeAddCreatorModal":return n.addCreatorModal=!1,n.newCreator="",n;case"novel/links/openDelCreatorModal":return n.delCreatorModal=!0,n;case"novel/links/closeDelCreatorModal":return n.delCreatorModal=!1,n.needDelCreatorId="",n;case"novel/links/changeStateInput":return n[t.key]=t.value,n;case"novel/links/getCreatorList":return n.creatorList=t.data,n;case"novel/links/handleInputChange":return n.novelInfo[t.name]=t.value,"picurl"===t.name&&(n.novelInfo.imgUrl=n.domain_name+t.value),"finalImg"===t.name&&(n.novelInfo.finalImgUrl=n.domain_name+t.value),"gonghaoLogo"===t.name&&(n.novelInfo.gonghaoLogoUrl=n.domain_name+t.value),n;case"novel/links/openEditChannelModal":return n.editChannelModal=!0,n;case"novel/links/cancelSelectEditChannel":return n.editChannelModal=!1,n.selectChannelList=[],n;case"novel/links/changeEditChannel":return n.selectChannelList=Object(L.a)(t.channelList),n;case"novel/links/selectEditChannel":return n.novelInfo.channel=n.selectChannelList[0],n;case"novel/links/initNovelInfo":return n.novelInfo=Object(f.a)({},t.record),n.novelInfo.imgUrl=n.domain_name+t.record.picurl,n.novelInfo.finalImgUrl=n.domain_name+t.record.finalImg,n.novelInfo.gonghaoLogoUrl=n.domain_name+t.record.gonghaoLogo,n;case"novel/links/getContent":return n.novelInfo.capter1=t.data.capter1,n.novelInfo.capter2=t.data.capter2,n;case"novel/links/deleteFinalImg":return n.novelInfo.finalImg=n.novelInfo.finalImgUrl="",n;case"novel/links/resetState":return n=pn;default:return e}},recommend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0,n=JSON.parse(JSON.stringify(e));switch(t.type){case"novel/recommend/getData":return n.recommendList=Object(L.a)(t.recommendList),n;case"novel/recommend/getDomainName":return n.domain_name=t.domain_name,n;case"novel/recommend/deleteItem":return n.recommendList.splice(t.index,1),n;case"novel/recommend/openRecommendModal":return n.recommendModal=!0,n;case"novel/recommend/closeRecommendModal":return n.recommendInfo=vn,n.recommendModal=!1,n;case"novel/recommend/resetState":return n=bn;default:return e}}}),jn=Object(C.c)({gonghao:Te,message:_t,novel:On}),xn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||C.d,wn=Object(C.e)(jn,xn(Object(C.a)(M.a))),Sn=n(22),_n=(n(313),n(237)),Tn=n(10),Nn=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).login=n.login.bind(Object(Sn.a)(n)),n.state={loginInfo:{username:"",password:""},redirect_url:""},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=window.location.search,t=e?decodeURIComponent(e.split("=")[1]):"/admin";this.setState({redirect_url:t})}},{key:"render",value:function(){var e=this,t=this.state.loginInfo,a={minHeight:"100vh",backgroundSize:"100%",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",backgroundImage:"url(".concat(n(314),")")};return m.a.createElement("div",{className:"login-bg",style:a},m.a.createElement("div",{className:"bg-mask"}),m.a.createElement("div",{className:"content-wrapper"},m.a.createElement("div",{className:"content"},m.a.createElement("p",{className:"title"},"\u660e\u661f\u8bf4\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf"),m.a.createElement("p",null,"\u8fd0\u8425\u4e0e\u7ba1\u63a7\u4e00\u4f53\u5316\u7684\u6574\u5408\u5f0f\u670d\u52a1\u5e73\u53f0"),m.a.createElement("p",null,"\u4e00\u8d77\u89e3\u6784\u6570\u5b57\u4e16\u754c\uff0c\u78b0\u649e\u79d1\u6280\u521b\u65b0\u601d\u60f3"))),m.a.createElement("div",{className:"login-form-wrapper"},m.a.createElement("div",{className:"login-form"},m.a.createElement("h4",{className:"login-title"},"\u767b\u5f55"),m.a.createElement(_n.a,{value:t.username,size:"large",onChange:function(t){return e.changeInputValue(t.target.value,"username")},prefix:m.a.createElement(Tn.a,{type:"user",style:{color:"rgba(0,0,0,.25)",marginRight:10}}),style:{marginBottom:30},placeholder:"\u7528\u6237\u540d"}),m.a.createElement(_n.a,{value:t.password,size:"large",type:"password",onChange:function(t){return e.changeInputValue(t.target.value,"password")},prefix:m.a.createElement(Tn.a,{type:"lock",style:{color:"rgba(0,0,0,.25)",marginRight:10}}),placeholder:"\u5bc6\u7801"}),m.a.createElement("div",{className:"login-btn cursor",onClick:this.login},"\u767b\u5f55"))))}},{key:"changeInputValue",value:function(e,t){var n=this.state.loginInfo;n[t]=e,this.setState(function(e){return{loginInfo:Object(f.a)({},e.loginInfo,n)}})}},{key:"login",value:function(){var e=this.state,t=e.loginInfo,n=e.redirect_url;if(!t.username||!t.password||"mingxingshuo"!==t.username||"mingxingshuo"!==t.password)return T.a.error("\u7528\u6237\u540d\u6216\u5bc6\u7801\u8f93\u5165\u6709\u8bef");t.date=(new Date).getTime();var a=JSON.stringify(t);localStorage.setItem("userInfo",a),window.location.href=n,this.setState({loginInfo:{},redirect_url:""}),T.a.success("\u767b\u5f55\u6210\u529f")}}]),t}(s.Component),Dn=n(96),An=(n(315),Dn.b.SubMenu),qn=Dn.b.Item,Un=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).menuList=[{keyIndex:"gonghao",title:"\u516c\u53f7\u7ba1\u7406",icon:"appstore",subMenuList:[{keyIndex:"tuoguan",title:"\u516c\u53f7\u6258\u7ba1",path:"/admin/gonghao/tuoguan"},{keyIndex:"material",title:"\u7d20\u6750\u7ba1\u7406",path:"/admin/gonghao/material"},{keyIndex:"menu",title:"\u914d\u7f6e\u83dc\u5355",path:"/admin/gonghao/menu"}]},{keyIndex:"message",title:"\u6d88\u606f\u7ba1\u7406",icon:"snippets",subMenuList:[{keyIndex:"kefu",title:"\u5ba2\u670d\u6d88\u606f",path:"/admin/message/kefu"},{keyIndex:"group",title:"\u7fa4\u53d1\u6d88\u606f",path:"/admin/message/group"}]},{keyIndex:"novel",title:"\u5c0f\u8bf4\u94fe\u63a5",icon:"switcher",subMenuList:[{keyIndex:"novelLinks",title:"\u5c0f\u8bf4\u94fe\u63a5\u5217\u8868",path:"/admin/novel/novelLinks"},{keyIndex:"novelSpread",title:"\u5c0f\u8bf4\u63a8\u5e7f\u94fe\u63a5",path:"/admin/novel/novelSpread"},{keyIndex:"channel",title:"\u5c0f\u8bf4\u6e20\u9053\u7ba1\u7406",path:"/admin/novel/channel"},{keyIndex:"liantiao",title:"\u5934\u6761\u8054\u8c03",path:"/admin/novel/liantiao"}]},{keyIndex:"channel",title:"\u6e20\u9053\u63a8\u5e7f",icon:"control",subMenuList:[{keyIndex:"spread",title:"\u63a8\u5e7f\u94fe\u63a5",path:"/admin/channel/spread"},{keyIndex:"zsy",title:"\u8ffd\u4e66\u4e91",path:"/admin/channel/zsy"},{keyIndex:"advertise",title:"\u5e7f\u544a\u7d20\u6750",path:"/admin/channel/advertise"},{keyIndex:"manage",title:"\u6e20\u9053\u7ba1\u7406",path:"/admin/channel/manage"}]},{keyIndex:"wechat",title:"\u5fae\u4fe1\u5c0f\u5de5\u5177",icon:"tool",subMenuList:[{keyIndex:"qrcode",title:"\u53c2\u6570\u4e8c\u7ef4\u7801",path:"/admin/wechat/qrcode"},{keyIndex:"tag",title:"\u6807\u7b7e\u7ba1\u7406",path:"/admin/wechat/tag"},{keyIndex:"qiangguan",title:"\u5f3a\u5173\u94fe\u63a5",path:"/admin/wechat/qiangguan"}]}],n.state={selectedKeys:[window.location.pathname.split("/")[3]||"tuoguan"]},n.onSelect=function(){var e=Object(w.a)(x.a.mark(function e(t){var a,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.selectedKeys.find(function(e){return-1===n.state.selectedKeys.indexOf(e)}),r=[],e.next=4,n.menuList.map(function(e){return r=[].concat(Object(L.a)(r),Object(L.a)(e.subMenuList))});case 4:return e.next=6,r.find(function(e){return e.keyIndex===a&&n.setState({selectedKeys:a?[a]:["tuoguan"]})});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=window.location.pathname,t=this.menuList.map(function(e,t){var n=e.subMenuList.map(function(e){return m.a.createElement(qn,{key:e.keyIndex},m.a.createElement(E.b,{to:e.path},e.title))});return m.a.createElement(An,{key:e.keyIndex,title:m.a.createElement("span",{className:"side-item"},m.a.createElement(Tn.a,{className:"side-icon",type:e.icon}),m.a.createElement("span",null,e.title))},n)});return m.a.createElement("div",{className:"side-wrapper"},m.a.createElement(Dn.b,{mode:"inline",theme:"dark",selectedKeys:this.state.selectedKeys,defaultOpenKeys:[window.location.pathname.split("/")[2]||"gonghao"],onSelect:this.onSelect,defaultSelectedKeys:[e]},t,m.a.createElement(qn,null,m.a.createElement("a",{href:"http://wx.tyuss.com/",target:"__blank"},m.a.createElement("span",{className:"side-item"},m.a.createElement(Tn.a,{className:"side-icon",type:"account-book"}),m.a.createElement("span",null,"\u7ea2\u5305\u7ba1\u7406"))))))}}]),t}(s.Component),Fn=n(486),zn=n(132),Pn=n(483),Gn=n(491),Bn=(n(328),{"/gonghao":"\u516c\u53f7\u7ba1\u7406","/gonghao/tuoguan":"\u516c\u53f7\u6258\u7ba1","/gonghao/tuoguan/create":"\u63a5\u7ba1\u516c\u53f7","/gonghao/tuoguan/update":"\u4fee\u6539\u516c\u53f7","/gonghao/tuoguan/config":"\u516c\u53f7\u914d\u7f6e","/gonghao/tuoguan/config/create":"\u65b0\u5efa\u914d\u7f6e","/gonghao/tuoguan/config/update":"\u4fee\u6539\u914d\u7f6e","/gonghao/material":"\u7d20\u6750\u7ba1\u7406","/gonghao/material/create":"\u65b0\u5efa\u7d20\u6750","/gonghao/material/update":"\u4fee\u6539\u7d20\u6750","/gonghao/menu":"\u914d\u7f6e\u83dc\u5355","/gonghao/menu/create":"\u65b0\u5efa\u83dc\u5355","/gonghao/menu/update":"\u4fee\u6539\u83dc\u5355","/message":"\u6d88\u606f\u7ba1\u7406","/message/kefu":"\u5ba2\u670d\u6d88\u606f","/message/kefu/create":"\u65b0\u5efa\u6d88\u606f","/message/kefu/update":"\u4fee\u6539\u6d88\u606f","/message/group":"\u7fa4\u53d1\u6d88\u606f","/message/group/material":"\u7fa4\u53d1\u7d20\u6750","/message/group/history":"\u5386\u53f2\u8bb0\u5f55","/novel":"\u5c0f\u8bf4\u94fe\u63a5","/novel/novelLinks":"\u5c0f\u8bf4\u5217\u8868","/novel/novelLinks/create":"\u521b\u5efa\u94fe\u63a5","/novel/novelLinks/update":"\u4fee\u6539\u94fe\u63a5","/novel/novelSpread":"\u5c0f\u8bf4\u63a8\u5e7f","/novel/channel":"\u5c0f\u8bf4\u6e20\u9053","/novel/liantiao":"\u5934\u6761\u8054\u8c03","/channel":"\u6e20\u9053\u63a8\u5e7f","/channel/spread":"\u63a8\u5e7f\u94fe\u63a5","/channel/spread/create":"\u521b\u5efa\u7d20\u6750","/channel/spread/update":"\u4fee\u6539\u7d20\u6750","/channel/advertise":"\u5e7f\u544a\u7d20\u6750","/channel/advertise/create":"\u521b\u5efa\u7d20\u6750","/channel/advertise/update":"\u4fee\u6539\u7d20\u6750","/channel/manage":"\u6e20\u9053\u7ba1\u7406","/channel/zsy":"\u8ffd\u4e66\u4e91","/wechat":"\u5fae\u4fe1\u5c0f\u5de5\u5177","/wechat/qrcode":"\u53c2\u6570\u4e8c\u7ef4\u7801","/wechat/qrcode/create":"\u65b0\u589e\u4e8c\u7ef4\u7801","/wechat/qrcode/update":"\u4fee\u6539\u4e8c\u7ef4\u7801","/wechat/tag":"\u6807\u7b7e\u7ba1\u7406","/wechat/qiangguan":"\u5f3a\u5173\u94fe\u63a5","/account":"\u8d26\u6237\u7ba1\u7406","/account/list":"\u8d26\u6237\u5217\u8868","/account/add":"\u65b0\u589e\u8d26\u6237"}),Kn=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).getPath=function(){n.setState({pathSnippets:window.location.pathname.split("/").slice(2)}),n.setState(function(e){return{extraBreadcrumbItems:e.pathSnippets.map(function(t,n){var a="/".concat(e.pathSnippets.slice(0,n+1).join("/"));return m.a.createElement(Gn.a.Item,{key:a},Bn[a])})}})},n.state={pathSnippets:null,extraBreadcrumbItems:null},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){this.getPath()}},{key:"render",value:function(){var e=this.state.extraBreadcrumbItems;return m.a.createElement("div",{className:"bread-wrapper"},m.a.createElement("div",{className:"bread-nav"},m.a.createElement(Gn.a,null,e)))}}]),t}(s.Component),Vn=(n(329),n(42)),Rn={warning:"#F39C12",danger:"#E74C3C",success:"#2ECC71",info:"#7F8C8D",update:"#3498DB"},Jn=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={buttonStyle:{background:"#3498DB",color:"#fff",marginRight:5,marginLeft:0,marginBottom:0}},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.background,n=void 0===t?"update":t,a=e.color,r=void 0===a?"#fff":a,o=e.mr,i=void 0===o?5:o,l=e.ml,c=void 0===l?0:l,u=e.mb,s=void 0===u?0:u;this.setState({buttonStyle:{background:Rn[n],color:r,marginRight:i,marginLeft:c,marginBottom:s}})}},{key:"render",value:function(){var e=this.props,t=e.size,n=void 0===t?"small":t,a=e.buttonContent,r=e.disabled,o=void 0!==r&&r,i=e.onClick,l=this.state.buttonStyle;return m.a.createElement(Vn.a,{size:n,disabled:o,style:l,onClick:i},a)}}]),t}(s.Component),Hn=_n.a.Search,Wn=Fn.a.TabPane,Yn=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){this.props.getGroupList(),this.props.getAllGonghaoList()}},{key:"render",value:function(){var e=this.props,t=e.gonghaoTagList,n=e.gonghaoList,a=e.allGonghaoList,r=e.changePage,o=e.changeTab,i=e.currentPage,l=e.searchByName,c=e.searchName,u=e.changeSearchInput,s=e.deleteGonghao,d=e.jieguan,g=a.length,f=[{title:"code",dataIndex:"code",key:"code",align:"center"},{title:"\u516c\u53f7\u540d\u79f0",dataIndex:"name",key:"name",width:160,align:"center"},{title:"\u5206\u7ec4",dataIndex:"group",key:"group",width:90,align:"center",render:function(e){return m.a.createElement("span",null,e||"\u65e0")}},{title:"token",dataIndex:"token",key:"token",width:100,align:"center"},{title:"EncodingAESKey",dataIndex:"EncodingAESKey",key:"EncodingAESKey",align:"center",render:function(e){return m.a.createElement(zn.a,{title:e},m.a.createElement("p",{className:"textEllipsis",style:{width:100}},e))}},{title:"\u94fe\u63a5",key:"url",align:"center",render:function(e,t){return m.a.createElement(zn.a,{title:"http://yysd.dmmup.com/weichat/"+t.code},m.a.createElement("p",{className:"textEllipsis",style:{width:100}},"http://yysd.dmmup.com/weichat/"+t.code))}},{title:"\u516c\u53f7\u5c5e\u6027",key:"attribute",width:50,align:"center",render:function(e,t,n){return m.a.createElement("span",null,0===t.attribute?"\u9ed8\u8ba4":1===t.attribute?"\u7537":"\u5973")}},{title:"\u63a5\u7ba1\u72b6\u6001",key:"status",width:80,align:"center",render:function(e,t,n){return m.a.createElement("span",null,1===t.status?"\u5df2\u63a5\u7ba1":-2===t.status?"\u672a\u63a5\u7ba1":"\u63a5\u7ba1\u4e2d")}},{title:"\u662f\u5426\u5b9e\u65f6\u66f4\u65b0\u7528\u6237\u4fe1\u606f",key:"real_time",width:90,align:"center",render:function(e,t,n){return m.a.createElement("span",null,t.real_time?"\u662f":"\u5426")}},{title:"Action",key:"action",width:245,align:"center",render:function(e,t,n){return m.a.createElement("div",{className:"action-wrapper"},m.a.createElement(Jn,{background:"update",buttonContent:m.a.createElement(E.b,{to:{pathname:"/admin/gonghao/tuoguan/update",query:t}},"\u7f16\u8f91")}),m.a.createElement(Jn,{background:"warning",buttonContent:m.a.createElement(E.b,{to:"/admin/gonghao/tuoguan/config/index/"+t.code},"\u914d\u7f6e")}),m.a.createElement(Jn,{background:"danger",buttonContent:"\u5220\u9664",onClick:function(){return s(t._id,n)}}),m.a.createElement(Jn,{background:"info",disabled:-2!==t.status,type:"primary",onClick:function(){return d(t.code)},buttonContent:1===t.status?"\u5df2\u63a5\u7ba1":-2===t.status?"\u63a5\u7ba1":"\u63a5\u7ba1\u4e2d"}))}}],h=t.map(function(e){return m.a.createElement(Wn,{tab:e.name,key:e.name})}),p={current:i,pageSize:10,defaultCurrent:1,total:g,onChange:function(e){r(e)}};return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement(Hn,{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f7\u540d\u79f0",enterButton:"\u641c\u7d22",className:"search-btn",value:c,onChange:u,onSearch:function(e){return l(e)}}),m.a.createElement(Jn,{className:"fr",background:"success",size:"default",buttonContent:m.a.createElement(E.b,{to:"/admin/gonghao/tuoguan/create"},"\u63a5\u7ba1\u65b0\u516c\u53f7")}),m.a.createElement("div",{className:"table-wrapper"},m.a.createElement(Fn.a,{animated:!1,defaultActiveKey:"ALL",tabBarGutter:0,onChange:function(e){return o(e)},size:"small"},m.a.createElement(Wn,{tab:"ALL",key:"ALL"}),h),m.a.createElement(Pn.a,{className:"gonghao-table",size:"small",rowKey:function(e){return e._id},columns:f,dataSource:n,bordered:!0,pagination:p}))))}}]),t}(s.Component),Qn=Object(k.b)(function(e){return{gonghaoTagList:e.gonghao.tuoguan.gonghaoTagList,allGonghaoList:e.gonghao.tuoguan.allGonghaoList,gonghaoList:e.gonghao.tuoguan.gonghaoList,currentPage:e.gonghao.tuoguan.currentPage,searchName:e.gonghao.tuoguan.searchName}},function(e){return{getGroupList:function(){e(a.getGroupList())},getAllGonghaoList:function(){e(a.getAllGonghaoList())},changePage:function(t){e(a.changePage(t))},changeTab:function(t){e(a.changeTab(t))},changeSearchInput:function(t){e(a.changeSearchInput(t.target.value))},searchByName:function(t){e(a.searchByName(t))},deleteGonghao:function(t,n){e(a.deleteGonghao(t,n))},jieguan:function(t){e(a.jieguan(t))}}})(Yn),Xn=n(240),Zn=n(482),$n=n(478),ea=n(134),ta=(n(411),{name:"",appid:"",appsecret:"",token:"mingxingshuo",real_time:!1,save_user:!1,group:"",attribute:0}),na=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.history.location.query;e?(this.props.form.setFieldsValue(Object(f.a)({},e)),e.group&&this.props.selectTag(e.group)):this.props.form.setFieldsValue(Object(f.a)({},ta))}},{key:"render",value:function(){var e,t=this,n=this.props.form,a=n.getFieldDecorator,r=n.setFieldsValue,o=this.props,i=o.gonghaoTagList,l=o.selectTag,c=o.isSelectTag,u=o.selectedTag,s=o.removeTag,d=o.tagConfirm,g=o.deleteTagItem,f=o.submitForm,h=o.history,p=i.map(function(e,n){return m.a.createElement(Xn.a,{closable:!0,onClose:function(){return g(e._id,n)},onClick:function(){return l(e.name,t.props)},key:e._id},e.name)});return e=c?m.a.createElement(Zn.a.Item,{className:"form-item",label:"\u9009\u62e9\u6807\u7b7e"},a("group")(m.a.createElement(Xn.a,{closable:!0,onClose:s},u))):m.a.createElement(Zn.a.Item,{className:"form-item",label:"\u9009\u62e9\u6807\u7b7e"},a("group")(m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u6807\u7b7e",onBlur:function(e){return d(t.props,e)},onKeyDown:function(e){return d(t.props,e)}}))),m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container edit-gonghao"},m.a.createElement("h2",{className:"form-title"},"\u516c\u53f7\u63a5\u7ba1"),m.a.createElement(Zn.a,Object.assign({labelAlign:"right"},{labelCol:{sm:{span:4}},wrapperCol:{sm:{span:8,offset:0}}}),m.a.createElement(Zn.a.Item,{className:"form-item",label:"\u516c\u53f7\u540d\u79f0"},a("name",{rules:[{required:!0}]})(m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f7\u540d\u79f0"}))),m.a.createElement(Zn.a.Item,{className:"form-item",label:"appid"},a("appid",{rules:[{required:!0}]})(m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165appid"}))),m.a.createElement(Zn.a.Item,{className:"form-item",label:"appsecret"},a("appsecret",{rules:[{required:!0}]})(m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165appsecret"}))),m.a.createElement(Zn.a.Item,{className:"form-item",label:"token"},a("token",{rules:[{required:!0}]})(m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165token"}))),m.a.createElement(Zn.a.Item,{className:"form-item",label:"\u662f\u5426\u5b9e\u65f6\u83b7\u53d6\u7528\u6237\u4fe1\u606f"},a("real_time",{valuePropName:"checked"})(m.a.createElement($n.a,null))),m.a.createElement(Zn.a.Item,{className:"form-item",label:"\u662f\u5426\u4fdd\u5b58\u7528\u6237"},a("save_user",{valuePropName:"checked"})(m.a.createElement($n.a,null))),e,m.a.createElement(Zn.a.Item,{className:"form-item",label:"\u6807\u7b7e\u9009\u9879"},p),m.a.createElement(Zn.a.Item,{label:"\u516c\u53f7\u5c5e\u6027"},a("attribute")(m.a.createElement(ea.a.Group,null,m.a.createElement(ea.a,{value:0},"\u9ed8\u8ba4"),m.a.createElement(ea.a,{value:1},"\u7537"),m.a.createElement(ea.a,{value:2},"\u5973")))),m.a.createElement(Zn.a.Item,{label:" ",colon:!1},m.a.createElement(Vn.a,{className:"form-btn",type:"primary",onClick:function(){return f(t.props)}},"\u63d0\u4ea4"),m.a.createElement(Vn.a,{onClick:function(){r(ta),h.goBack(),s()}},"\u53d6\u6d88")))))}}]),t}(s.Component),aa=Object(k.b)(function(e){return{gonghaoTagList:e.gonghao.tuoguan.gonghaoTagList,isSelectTag:e.gonghao.tuoguan.isSelectTag,selectedTag:e.gonghao.tuoguan.selectedTag,isCreate:e.gonghao.tuoguan.isCreate}},function(e){return{selectTag:function(t,n){e(K(t))},removeTag:function(){e(V())},tagConfirm:function(t,n){var a=n.target.value;n.keyCode&&13===n.keyCode&&a?e(R(a,t)):!n.keyCode&&a&&e(R(a,t))},deleteTagItem:function(t,n){e(J(t,n))},submitForm:function(t){var n=t.form.getFieldsValue();n.group=t.selectedTag,t.history.location.query?(n._id=t.history.location.query._id,e(W(n,t.history))):e(H(n,t.history)),t.form.setFieldsValue(ta),e(V())}}})(Zn.a.create({name:"editGonghao"})(na)),ra=(n(422),function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.code;this.props.getConfigList(e)}},{key:"render",value:function(){var e=this.props,t=e.configList,n=e.deleteConfig,a=e.history,r=e.match,o=[{key:"type",title:"\u7c7b\u578b",dataIndex:"type",align:"center",render:function(e,t,n){return m.a.createElement("span",null,0===t.type?"\u6587\u672c":1===t.type?"\u70b9\u51fb":2===t.type?"\u5173\u6ce8":4===t.type?"\u9ed8\u8ba4\u56de\u590d":"~~")}},{key:"sex",title:"\u6027\u522b",dataIndex:"sex",align:"center",render:function(e,t,n){return m.a.createElement("span",null,1===t.sex?"\u7537":2===t.sex?"\u5973":0===t.sex?"\u672a\u77e5":"\u9ed8\u8ba4")}},{key:"text",title:"\u7528\u6237\u56de\u590d\u6587\u672c",dataIndex:"text",align:"center"},{key:"key",title:"\u70b9\u51fb\u5173\u952e\u8bcd",dataIndex:"key",align:"center"},{key:"msgId",title:"\u6d88\u606fmsgId",dataIndex:"msgId",align:"center"},{key:"showUrl",title:"\u56fe\u7247",align:"center",render:function(e,t,n){return m.a.createElement("img",{className:"table-img",src:t.showUrl,alt:""})}},{key:"Action",title:"Action",align:"center",width:120,render:function(e,t,a){return m.a.createElement("div",{className:"btn-wrapper"},m.a.createElement(Vn.a,{size:"small",type:"primary"},m.a.createElement(E.b,{to:{pathname:"/admin/gonghao/tuoguan/config/update/"+r.params.code,query:{record:t,index:a}}},"\u7f16\u8f91")),m.a.createElement(Vn.a,{size:"small",style:{background:"red",marginLeft:"5px"},onClick:function(){return n(t._id,a)}},"\u5220\u9664"))}}];return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container edit-config"},m.a.createElement(Vn.a,{icon:"double-left",onClick:function(){return a.goBack()}},"\u8fd4\u56de"),m.a.createElement(Vn.a,{type:"primary",className:"edit-btn"},m.a.createElement(E.b,{to:{pathname:"/admin/gonghao/tuoguan/config/create/"+r.params.code}},"\u65b0\u5efa\u914d\u7f6e\u89c4\u5219")),m.a.createElement(Pn.a,{className:"config-table",size:"small",rowKey:function(e){return e._id},columns:o,dataSource:t,bordered:!0,pagination:!1})))}}]),t}(s.Component)),oa=Object(k.b)(function(e){return{configList:e.gonghao.tuoguan.configList}},function(e){return{getConfigList:function(t){e(a.getConfigList(t))},deleteConfig:function(t,n){e(a.deleteConfig(t,n))}}})(ra),ia=n(485),la={type:0,sex:3,attribute:1,text:"",replyType:0,msgId:null,key:"",urlList:[]},ca="",ua="",sa=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.history.location.query;e&&(this.props.changeConfigForm(e.record),e.record.showUrl&&(ca=e.record.showUrl),e.record.url&&(ua=e.record.url))}},{key:"render",value:function(){var e,t,n,a=this,r=this.props.form.getFieldDecorator,o=this.props,i=o.submitForm,l=o.history,c=o.configForm;return e=ca?m.a.createElement("img",{style:{width:"100px"},src:ca,alt:""}):m.a.createElement(Vn.a,null,m.a.createElement(Tn.a,{type:"upload"})," \u4e0a\u4f20\u56fe\u7247 "),0===c.type?t=m.a.createElement(Zn.a.Item,{label:"\u7528\u6237\u56de\u590d\u5185\u5bb9"},r("text",{rules:[{required:!0}],initialValue:c.text||""})(m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u56de\u590d\u5185\u5bb9"}))):1===c.type&&(t=m.a.createElement(Zn.a.Item,{label:"\u83dc\u5355\u680f\u70b9\u51fb\u5173\u952e\u8bcd"},r("key",{rules:[{required:!0}],initialValue:c.key||""})(m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u680f\u70b9\u51fb\u5173\u952e\u8bcd"})))),0===c.replyType?n=m.a.createElement(Zn.a.Item,{label:"\u7d20\u6750msgId"},r("msgId",{rules:[{required:!0}],initialValue:c.msgId||""})(m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u7d20\u6750msgId"}))):1===c.replyType&&(n=m.a.createElement(Zn.a.Item,{label:"\u56fe\u7247"},r("urlList",{rules:[{required:!0}],initialValue:[]})(m.a.createElement(ia.a,{name:"imageFile",action:"/reply/upload",onChange:this.uploadImg.bind(this),showUploadList:!1},e)))),m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement("h2",{className:"form-title"},"\u516c\u53f7\u914d\u7f6e"),m.a.createElement(Zn.a,Object.assign({labelAlign:"right"},{labelCol:{sm:{span:4}},wrapperCol:{sm:{span:8,offset:0}}}),m.a.createElement(Zn.a.Item,{label:"\u516c\u53f7\u5c5e\u6027"},r("type",{rules:[{required:!0}],initialValue:c.type||0})(m.a.createElement(ea.a.Group,{onChange:this.changeType.bind(this)},m.a.createElement(ea.a.Button,{value:0},"\u6587\u672c"),m.a.createElement(ea.a.Button,{value:1},"\u70b9\u51fb"),m.a.createElement(ea.a.Button,{value:2},"\u5173\u6ce8"),m.a.createElement(ea.a.Button,{value:4},"\u9ed8\u8ba4\u56de\u590d")))),m.a.createElement(Zn.a.Item,{label:"\u6027\u522b"},r("sex",{initialValue:c.sex||3})(m.a.createElement(ea.a.Group,null,m.a.createElement(ea.a,{value:3},"\u9ed8\u8ba4"),m.a.createElement(ea.a,{value:1},"\u7537"),m.a.createElement(ea.a,{value:2},"\u5973"),m.a.createElement(ea.a,{value:0},"\u672a\u77e5")))),m.a.createElement(Zn.a.Item,{label:"\u672a\u77e5\u6027\u522b"},r("attribute",{initialValue:c.attribute||1})(m.a.createElement(ea.a.Group,null,m.a.createElement(ea.a,{value:1},"\u7537"),m.a.createElement(ea.a,{value:2},"\u5973")))),t,m.a.createElement(Zn.a.Item,{label:"\u56de\u590d\u5185\u5bb9\u7c7b\u578b"},r("replyType",{rules:[{required:!0}],initialValue:c.replyType||0})(m.a.createElement(ea.a.Group,{onChange:this.changeReplyType.bind(this)},m.a.createElement(ea.a.Button,{value:0},"\u6587\u672c/\u56fe\u6587"),m.a.createElement(ea.a.Button,{value:1},"\u56fe\u7247")))),n,m.a.createElement(Zn.a.Item,{label:" ",colon:!1},m.a.createElement(Vn.a,{className:"form-btn",type:"primary",onClick:function(){return i(a.props)}},"\u63d0\u4ea4"),m.a.createElement(Vn.a,{onClick:function(){l.goBack()}},"\u53d6\u6d88")))))}},{key:"uploadImg",value:function(e){"done"===e.file.status&&(ca="http://t.ihougldk.top/uploads/".concat(e.file.response.filename),ua="./public/uploads/".concat(e.file.response.filename))}},{key:"changeType",value:function(e){var t=this.props.form.getFieldsValue();t.type=e.target.value,this.props.changeConfigForm(Object(f.a)({},t))}},{key:"changeReplyType",value:function(e){var t=this.props.form.getFieldsValue();t.replyType=e.target.value,ca=ua="",this.props.changeConfigForm(Object(f.a)({},t))}},{key:"componentWillUnmount",value:function(){ca=ua="",this.props.changeConfigForm(Object(f.a)({},la))}}]),t}(s.Component),ma=Object(k.b)(function(e){return{configForm:e.gonghao.tuoguan.configForm}},function(e){return{changeConfigForm:function(t){e(Z(t))},submitForm:function(t){var n=t.form.getFieldsValue(),a=t.history.location.query;Object.assign(n,{showUrl:ca,url:ua}),n.code=parseInt(t.match.params.code),a?(n.id=a.record._id,e(ee(n,t.history,a.index))):e($(n,t.history))}}})(Zn.a.create({name:"editConfigInfo"})(sa)),da=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.menuList,n=e.deleteMenu,a=[{title:"\u83dc\u5355\u7c7b\u578b",key:"individual",dataIndex:"individual",align:"center",render:function(e,t){return t.individual?"\u4e2a\u6027\u5316\u83dc\u5355":"\u901a\u7528\u83dc\u5355"}},{title:"\u83dc\u5355\u6027\u522b",key:"sex",dataIndex:"sex",align:"center",render:function(e,t){return t.individual?"0"===t.sex?"\u672a\u77e5":"1"===t.sex?"\u7537":"\u5973":"\u2014\u2014"}},{key:"title",dataIndex:"title",title:"\u6807\u9898",align:"center"},{title:"Action",key:"Action",align:"center",render:function(e,t,a){return m.a.createElement("div",null,m.a.createElement(Vn.a,{size:"small",type:"primary",style:{marginRight:"10px"}},m.a.createElement(E.b,{to:{pathname:"/admin/gonghao/menu/update",query:t}},"\u7f16\u8f91")),m.a.createElement(Vn.a,{size:"small",type:"danger",onClick:function(){return n(t._id,a)}},"\u5220\u9664"))}}];return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement(Vn.a,{type:"primary",style:{marginBottom:"20px"}},m.a.createElement(E.b,{to:"/admin/gonghao/menu/create"},"\u914d\u7f6e\u65b0\u83dc\u5355\u680f")),m.a.createElement(Pn.a,{size:"small",rowKey:function(e){return e._id},columns:a,dataSource:t,pagination:{onChange:function(){return D()}}})))}},{key:"componentDidMount",value:function(){this.props.getMenuList()}}]),t}(s.Component),ga=Object(k.b)(function(e){return{menuList:e.gonghao.menu.menuList}},function(e){return{getMenuList:function(){e(r.getMenuList())},deleteMenu:function(t,n){e(r.deleteMenu(t,n))}}})(da),fa=n(488),ha=(n(461),function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.history.location.query;e&&this.props.initMenuInfo(e)}},{key:"render",value:function(){var e,t,n,a,r,o,i=this,l=this.props,c=l.menuInfo,u=l.menuForm,s=l.sub_button,d=l.menuIndex,g=l.handleInputChange,f=l.handleSubInputChange,h=l.addFirstMenu,p=l.editMenu,v=l.submitMenu,b=l.addSecondMenu,y=l.editSecMenu,k=l.deleteFirMenu,E=l.deleteSubMenu,I=l.allCodes,C=l.targetKeys,M=l.changeGonghao,L=l.isSubmit,O=l.cancelMenu,j=l.handleInfoChange,x=l.handleIndividualChange,w=l.openModal,S={labelCol:{sm:{span:4}},wrapperCol:{sm:{span:16,offset:0}},colon:!1},_=c.values.map(function(e,t){return m.a.createElement("div",{className:"menu",style:{width:1===c.values.length?"50%":(c.values.length,"33.33%")},key:t,onClick:function(){return p(e,t)}},m.a.createElement("span",{className:"nav-title cursor"},e.name),m.a.createElement("ul",{className:"sub-menu-list",style:{top:e.sub_button?46*-e.sub_button.length-55+"px":-55,display:d===t?"block":"none"}},e.sub_button&&e.sub_button.map(function(e,t){return m.a.createElement("li",{className:"textEllipsis",key:t,onClick:function(n){return y(n,e,t)}},e.name)}),m.a.createElement("li",{onClick:b},"+"),m.a.createElement("div",{className:"sanjiao sanjiao-out"}),m.a.createElement("div",{className:"sanjiao sanjiao-in"})))});("view"===s.type?t=m.a.createElement(Zn.a.Item,{label:"\u94fe\u63a5"},m.a.createElement(_n.a,{value:s.url,placeholder:"\u8bf7\u8f93\u5165\u7f51\u9875\u8df3\u8f6c\u94fe\u63a5",onChange:function(e){return f(e,"url")}})):"click"===s.type&&(t=m.a.createElement(Zn.a.Item,{label:"\u5173\u952e\u8bcd"},m.a.createElement(_n.a,{value:s.key,placeholder:"\u8bf7\u8f93\u5165\u53d1\u9001\u6d88\u606f\u5173\u952e\u8bcd",onChange:function(e){return f(e,"key")}}))),"view"===u.type?e=m.a.createElement(Zn.a.Item,{label:"\u94fe\u63a5"},m.a.createElement(_n.a,{value:u.url,placeholder:"\u8bf7\u8f93\u5165\u7f51\u9875\u8df3\u8f6c\u94fe\u63a5",onChange:function(e){return g(e,"url")}})):"click"===u.type&&(e=m.a.createElement(Zn.a.Item,{label:"\u5173\u952e\u8bcd"},m.a.createElement(_n.a,{value:u.key,placeholder:"\u8bf7\u8f93\u5165\u53d1\u9001\u6d88\u606f\u5173\u952e\u8bcd",onChange:function(e){return g(e,"key")}}))),0!==c.values.length&&(n=u.sub_button&&0!==u.sub_button.length?m.a.createElement("div",{className:"menu-right fl"},m.a.createElement("div",{className:"menu-parent"},m.a.createElement("div",{className:"menu-title"},m.a.createElement("h4",{className:"fl"},"\u83dc\u5355\u7f16\u8f91"),m.a.createElement(Vn.a,{className:"fr",type:"link",onClick:k},"\u5220\u9664\u83dc\u5355")),m.a.createElement(Zn.a,S,m.a.createElement(Zn.a.Item,{label:"\u83dc\u5355\u540d\u79f0"},m.a.createElement(_n.a,{value:u.name,placeholder:"\u4ec5\u652f\u6301\u4e2d\u82f1\u6587\u548c\u6570\u5b57\uff0c\u5b57\u6570\u4e0d\u8d85\u8fc74\u4e2a\u6c49\u5b57\u62168\u4e2a\u5b57\u6bcd",onChange:function(e){return g(e,"name")}}))),m.a.createElement("div",{className:"menu-children"},m.a.createElement("div",{className:"menu-title"},m.a.createElement("h4",{className:"fl"},"\u5b50\u83dc\u5355\u7f16\u8f91"),m.a.createElement(Vn.a,{className:"fr",type:"link",onClick:E},"\u5220\u9664\u5b50\u83dc\u5355")),m.a.createElement(Zn.a,S,m.a.createElement(Zn.a.Item,{label:"\u5b50\u83dc\u5355\u540d\u79f0"},m.a.createElement(_n.a,{value:s.name,placeholder:"\u4ec5\u652f\u6301\u4e2d\u82f1\u6587\u548c\u6570\u5b57\uff0c\u5b57\u6570\u4e0d\u8d85\u8fc78\u4e2a\u6c49\u5b57\u621616\u4e2a\u5b57\u6bcd",onChange:function(e){return f(e,"name")}})),m.a.createElement(Zn.a.Item,{label:"\u5b50\u83dc\u5355\u5185\u5bb9"},m.a.createElement(ea.a.Group,{value:s.type,onChange:function(e){return f(e,"type")}},m.a.createElement(ea.a,{value:"view"},"\u8df3\u8f6c\u7f51\u9875"),m.a.createElement(ea.a,{value:"click"},"\u53d1\u9001\u6d88\u606f"))),t)))):m.a.createElement("div",{className:"menu-right fl"},m.a.createElement("div",{className:"menu-parent"},m.a.createElement("div",{className:"menu-title"},m.a.createElement("h4",{className:"fl"},"\u83dc\u5355\u7f16\u8f91"),m.a.createElement(Vn.a,{className:"fr",type:"link",onClick:k},"\u5220\u9664\u83dc\u5355")),m.a.createElement(Zn.a,S,m.a.createElement(Zn.a.Item,{label:"\u83dc\u5355\u540d\u79f0"},m.a.createElement(_n.a,{value:u.name,placeholder:"\u4ec5\u652f\u6301\u4e2d\u82f1\u6587\u548c\u6570\u5b57\uff0c\u5b57\u6570\u4e0d\u8d85\u8fc74\u4e2a\u6c49\u5b57\u62168\u4e2a\u5b57\u6bcd",onChange:function(e){return g(e,"name")}})),m.a.createElement(Zn.a.Item,{label:"\u83dc\u5355\u5185\u5bb9"},m.a.createElement(ea.a.Group,{value:u.type,onChange:function(e){return g(e,"type")}},m.a.createElement(ea.a,{value:"view"},"\u8df3\u8f6c\u7f51\u9875"),m.a.createElement(ea.a,{value:"click"},"\u53d1\u9001\u6d88\u606f"))),e))),a=m.a.createElement("div",{className:"menu-right-btm fl"},m.a.createElement(Vn.a,{type:"primary",onClick:function(){w(),i.props.getAllCodes()}},"\u63d0\u4ea4"))),L)&&(c.individual&&(o=m.a.createElement(Zn.a.Item,{label:"\u6027\u522b"},m.a.createElement(ea.a.Group,{value:c.sex,onChange:function(e){return j(e,"sex")}},m.a.createElement(ea.a,{value:"0"},"\u672a\u77e5"),m.a.createElement(ea.a,{value:"1"},"\u7537"),m.a.createElement(ea.a,{value:"2"},"\u5973")))),r=m.a.createElement("div",{className:"menu-modal-wrapper"},m.a.createElement("div",{className:"menu-modal"},m.a.createElement(fa.a,{dataSource:I,showSearch:!0,targetKeys:C,onChange:M,render:function(e){return e.name},rowKey:function(e){return e.code},className:"menu-transfer fl"}),m.a.createElement(Zn.a,{className:"fl",colon:!1,labelCol:{sm:{span:30}},wrapperCol:{sm:{span:30,offset:0}},labelAlign:"left"},m.a.createElement(Zn.a.Item,{label:"\u6807\u9898"},m.a.createElement(_n.a,{value:c.title,placeholder:"\u8bf7\u8f93\u5165\u6807\u9898",onChange:function(e){return j(e,"title")}})),m.a.createElement(Zn.a.Item,{label:"\u4e2a\u6027\u5316\u83dc\u5355"},m.a.createElement($n.a,{onChange:x,checked:c.individual})),o,m.a.createElement(Zn.a.Item,{label:" "},m.a.createElement(Vn.a,{style:{marginRight:"10px"},type:"primary",onClick:function(){return v(i.props)}},"\u63d0\u4ea4"),m.a.createElement(Vn.a,{onClick:O},"\u53d6\u6d88"))))));return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container edit-menu"},m.a.createElement("div",{className:"title-wrapper"},m.a.createElement("h2",null,"\u83dc\u5355\u914d\u7f6e"),m.a.createElement(Vn.a,{className:"fr",onClick:function(){return i.props.history.goBack()}},"\u8fd4\u56de\u4e0a\u4e00\u7ea7")),m.a.createElement("div",{className:"menu-left fl"},m.a.createElement("div",{className:"menu-wrapper"},m.a.createElement("div",{className:"menu-cont"},m.a.createElement("div",{className:"menu-list"},_,m.a.createElement("div",{className:"menu add",style:1===_.length?{width:"50%"}:2===_.length?{width:"33%"}:3===_.length?{display:"none"}:{width:"100%"},onClick:h},m.a.createElement("span",{className:"nav-title cursor"},"+ \u6dfb\u52a0\u83dc\u5355")))))),n,a),r)}},{key:"componentWillUnmount",value:function(){this.props.resetState()}}]),t}(s.Component)),pa=Object(k.b)(function(e){return{menuInfo:e.gonghao.menu.menuInfo,menuForm:e.gonghao.menu.menuForm,sub_button:e.gonghao.menu.sub_button,menuIndex:e.gonghao.menu.menuIndex,allCodes:e.gonghao.menu.allCodes,isSubmit:e.gonghao.menu.isSubmit,targetKeys:e.gonghao.menu.targetKeys}},function(e){return{initMenuInfo:function(t){e(ke(t))},handleInfoChange:function(t,n){e(re(t.target.value,n))},handleIndividualChange:function(t){e(oe(t))},handleInputChange:function(t,n){e(ie(n,t.target.value))},handleSubInputChange:function(t,n){e(le(n,t.target.value))},addFirstMenu:function(){e(ce())},editMenu:function(t,n){e(ue(t,n))},addSecondMenu:function(t){t.stopPropagation(),e(se())},submitMenu:function(t){e(de(t))},openModal:function(){e(me())},editSecMenu:function(t,n,a){t.stopPropagation(),e(he(n,a))},deleteFirMenu:function(){e(pe())},deleteSubMenu:function(){e(ve())},changeGonghao:function(t){e(ye(t))},getAllCodes:function(){e(be())},cancelMenu:function(){e(fe())},resetState:function(){e(ge())}}})(Zn.a.create({name:"editMenuInfo"})(ha)),va=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.materialList,a=t.deleteMaterial,r=t.copy,o=[{title:"msgId",key:"msgId",dataIndex:"msgId",align:"center"},{title:"\u7c7b\u578b",key:"type",dataIndex:"type",align:"center",render:function(e,t){return 0===t.type?"\u6587\u672c\u6d88\u606f":"\u56fe\u6587\u6d88\u606f"}},{key:"title",dataIndex:"title",title:"\u6807\u9898",align:"center",render:function(e,t){var n=t.contents?t.contents[0].title:"";return m.a.createElement(zn.a,{placement:"top",title:n},m.a.createElement("span",{className:"textEllipsis",style:{width:100}},n))}},{key:"description",dataIndex:"description",title:"\u8be6\u7ec6\u4fe1\u606f",align:"center",width:200,render:function(e,t){var n=t.contents?t.contents[0].description:"";return m.a.createElement(zn.a,{placement:"top",title:n},m.a.createElement("span",{className:"textEllipsis",style:{width:200}},n))}},{key:"url",dataIndex:"url",title:"\u94fe\u63a5",align:"center",render:function(e,t){var n=t.contents?t.contents[0].url:"";return m.a.createElement(zn.a,{placement:"top",title:n},m.a.createElement("span",{className:"textEllipsis",style:{width:100}},n))}},{key:"picurl",dataIndex:"picurl",title:"\u56fe\u7247",align:"center",render:function(e,t){return t.contents?m.a.createElement("img",{style:{width:80,verticalAlign:"middle"},src:t.contents[0].picurl,alt:""}):m.a.createElement("span",null)}},{title:"Action",key:"Action",align:"center",width:200,render:function(t,n,o){return m.a.createElement("div",null,m.a.createElement(Vn.a,{size:"small",onClick:function(){return r(n,e.props)}},"\u590d\u5236"),m.a.createElement(Vn.a,{size:"small",type:"primary",style:{margin:"0 10px"}},m.a.createElement(E.b,{to:{pathname:"/admin/gonghao/material/update",query:n}},"\u7f16\u8f91")),m.a.createElement(Vn.a,{size:"small",type:"danger",onClick:function(){return a(n._id,o)}},"\u5220\u9664"))}}];return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement(Vn.a,{type:"primary",style:{marginBottom:"20px"}},m.a.createElement(E.b,{to:"/admin/gonghao/material/create"},"\u6dfb\u52a0\u65b0\u7d20\u6750")),m.a.createElement(Pn.a,{size:"small",rowKey:function(e){return e._id},columns:o,dataSource:n,pagination:{onChange:function(){return D()}}})))}},{key:"componentDidMount",value:function(){this.props.getMaterialList()}}]),t}(s.Component),ba=Object(k.b)(function(e){return{materialList:e.gonghao.material.materialList}},function(e){return{getMaterialList:function(){e(o.getMaterialList())},deleteMaterial:function(t,n){e(o.deleteMaterial(t,n))},copy:function(t,n){e(o.copy(t,n))}}})(va),ya=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.history.location.query;e&&this.props.initMaterialInfo(e)}},{key:"render",value:function(){var e,t,n=this,a=this.props,r=a.materialInfo,o=a.content,i=a.uploadImg,l=a.handleMaterialChange,c=a.handleContentChange,u=a.submitMaterial,d=a.cancel;0===r.type?e=m.a.createElement(Zn.a.Item,{label:"\u8be6\u7ec6\u4fe1\u606f"},m.a.createElement(_n.a,{type:"textarea",value:o.description,placeholder:"\u8bf7\u8f93\u5165\u8be6\u7ec6\u4fe1\u606f",onChange:function(e){return c(e,"description")}})):(t=o.picurl?m.a.createElement("img",{style:{width:"100px"},src:o.picurl,alt:""}):m.a.createElement(Vn.a,null,m.a.createElement(Tn.a,{type:"upload"})," \u4e0a\u4f20\u56fe\u7247 "),e=m.a.createElement(s.Fragment,null,m.a.createElement(Zn.a.Item,{label:"\u56fe\u6587\u6807\u9898"},m.a.createElement(_n.a,{value:o.title,placeholder:"\u8bf7\u8f93\u5165\u56fe\u6587\u6807\u9898",onChange:function(e){return c(e,"title")}})),m.a.createElement(Zn.a.Item,{label:"\u56fe\u6587\u94fe\u63a5"},m.a.createElement(_n.a,{value:o.url,placeholder:"\u8bf7\u8f93\u5165\u56fe\u6587\u94fe\u63a5",onChange:function(e){return c(e,"url")}})),m.a.createElement(Zn.a.Item,{label:"\u56fe\u7247"},m.a.createElement(ia.a,{name:"imageFile",action:"/reply/upload",onChange:function(e){i(o,e)},showUploadList:!1},t))));return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"title-wrapper"},m.a.createElement("h2",null,"\u7f16\u8f91\u7d20\u6750")),m.a.createElement(Zn.a,Object.assign({style:{width:400}},{labelCol:{sm:{span:6}},wrapperCol:{sm:{span:16,offset:0}},colon:!1}),m.a.createElement(Zn.a.Item,{label:"\u7c7b\u578b"},m.a.createElement(ea.a.Group,{value:r.type,onChange:function(e){return l(e,"type")}},m.a.createElement(ea.a.Button,{value:0},"\u6587\u672c"),m.a.createElement(ea.a.Button,{value:1},"\u56fe\u6587"))),e,m.a.createElement(Zn.a.Item,{label:" "},m.a.createElement(Vn.a,{type:"primary",style:{marginRight:10},onClick:function(){return u(o,r,n.props)}},"\u63d0\u4ea4"),m.a.createElement(Vn.a,{onClick:function(){return d(n.props)}},"\u53d6\u6d88")))))}}]),t}(s.Component),ka=Object(k.b)(function(e){return{materialInfo:e.gonghao.material.materialInfo,content:e.gonghao.material.content}},function(e){return{uploadImg:function(t,n){if("done"===n.file.status){var a="http://t.ihougldk.top/uploads/".concat(n.file.response.filename);e(Le(a,"picurl"))}},handleContentChange:function(t,n){e(Le(t.target.value,n))},handleMaterialChange:function(t,n){e(Oe(t.target.value,n))},cancel:function(t){t.history.goBack(),e(je())},submitMaterial:function(t,n,a){a.history.location.query?n.contents.splice(0,1,t):n.contents.push(t),e(xe(n,a))},initMaterialInfo:function(t){e(Se(t))}}})(Zn.a.create({name:"editMaterialInfo"})(ya)),Ea=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return m.a.createElement(I.b,{path:"/admin/gonghao",render:function(){return m.a.createElement(I.d,null,m.a.createElement(I.b,{path:"/admin/gonghao/tuoguan/"},m.a.createElement(I.d,null,m.a.createElement(I.b,{path:"/admin/gonghao/tuoguan/index",component:Qn}),m.a.createElement(I.b,{path:"/admin/gonghao/tuoguan/create",component:aa}),m.a.createElement(I.b,{path:"/admin/gonghao/tuoguan/update",component:aa}),m.a.createElement(I.b,{path:"/admin/gonghao/tuoguan/config/index/:code",component:oa}),m.a.createElement(I.b,{path:"/admin/gonghao/tuoguan/config/create/:code",component:ma}),m.a.createElement(I.b,{path:"/admin/gonghao/tuoguan/config/update/:code",component:ma}),m.a.createElement(I.a,{from:"/admin/gonghao/tuoguan",exact:!0,to:"/admin/gonghao/tuoguan/index/"}),m.a.createElement(I.a,{from:"/admin/gonghao/tuoguan/config",exact:!0,to:"/admin/gonghao/tuoguan/config/index"}))),m.a.createElement(I.b,{path:"/admin/gonghao/menu/"},m.a.createElement(I.d,null,m.a.createElement(I.b,{path:"/admin/gonghao/menu/index",component:ga}),m.a.createElement(I.b,{path:"/admin/gonghao/menu/create",component:pa}),m.a.createElement(I.b,{path:"/admin/gonghao/menu/update",component:pa}),m.a.createElement(I.a,{from:"/admin/gonghao/menu",exact:!0,to:"/admin/gonghao/menu/index/"}))),m.a.createElement(I.b,{path:"/admin/gonghao/material/"},m.a.createElement(I.d,null,m.a.createElement(I.b,{path:"/admin/gonghao/material/index",component:ba}),m.a.createElement(I.b,{path:"/admin/gonghao/material/create",component:ka}),m.a.createElement(I.b,{path:"/admin/gonghao/material/update",component:ka}),m.a.createElement(I.a,{from:"/admin/gonghao/material",exact:!0,to:"/admin/gonghao/material/index/"}))),m.a.createElement(I.a,{from:"/admin/gonghao",exact:!0,to:"/admin/gonghao/tuoguan/"}))}})}}]),t}(s.Component),Ia=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.gonghaoList,n=e.name,a=e.search,r=e.getMaterial,o=e.changeSearchInput,i=[{key:"code",title:"code",dataIndex:"code",align:"center"},{key:"name",title:"\u516c\u53f7\u540d\u79f0",dataIndex:"name",align:"center"},{key:"Action",title:"Action",align:"center",width:400,render:function(e,t){return m.a.createElement("div",null,m.a.createElement(Jn,{mr:15,background:"success",onClick:function(){return r(t.code)},buttonContent:"\u540c\u6b65\u7d20\u6750"}),m.a.createElement(Jn,{mr:15,buttonContent:m.a.createElement(E.b,{to:"/admin/message/group/material/"+t.code},"\u7fa4\u53d1\u6d88\u606f")}),m.a.createElement(Jn,{background:"warning",buttonContent:m.a.createElement(E.b,{to:"/admin/message/group/history/"+t.code},"\u7fa4\u53d1\u8bb0\u5f55")}))}}];return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement(_n.a.Search,{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f7\u540d\u79f0",enterButton:"Search",style:{width:300,marginBottom:20},onSearch:a,value:n,onChange:o}),m.a.createElement(Pn.a,{size:"small",rowKey:function(e){return e._id},columns:i,dataSource:t})))}},{key:"componentDidMount",value:function(){this.props.getGroupGonghao()}}]),t}(s.Component),Ca=Object(k.b)(function(e){return{gonghaoList:e.message.group.gonghaoList,name:e.message.group.name}},function(e){return{getGroupGonghao:function(){e(i.getGroupGonghao())},search:function(t){e(i.search(t))},changeSearchInput:function(t){e(i.changeSearchInput(t.target.value))},getMaterial:function(t){e(i.getMaterial(t))}}})(Ia),Ma=n(484),La=n(239),Oa=n(23),ja=n.n(Oa),xa=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.code;this.props.getMessageList(e),this.props.getTagList(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.messageList,a=t.match,r=t.openModal,o=t.sendModal,i=t.sendMessage,l=t.sendInfo,c=t.tagList,u=t.closeModal,s=t.changeTagId,d=t.sendTimingModal,g=t.sendTimingMessage,f=t.sendTimingInfo,h=t.openTimingModal,p=t.changeTimingState,v=t.copy,b=t.changeTime,y=t.deleteMaterial,k=t.clearMaterial,I=a.params.code,C=[{key:"update_time",title:"\u7d20\u6750\u4e0a\u4f20\u65f6\u95f4",align:"center",render:function(e,t){var n=ja()(1e3*t.update_time).format("YYYY-MM-DD, HH:mm:ss");return m.a.createElement("span",null,n)}},{title:"\u56fe\u6587\u6807\u9898",align:"center",width:300,render:function(e,t){for(var n=0!==t.content.news_item.length?t.content.news_item:[],a=[],r=0;r<n.length;r++)a.push(r+1+"."+n[r].title);return m.a.createElement(zn.a,{placement:"top",title:a},m.a.createElement("p",{className:"textEllipsis",style:{width:300}},a))}},{key:"isTiming",title:"\u662f\u5426\u5b9a\u65f6",align:"center",render:function(e,t){var n=t.isTiming?"\u662f":"\u5426";return m.a.createElement("span",null,n)}},{title:"\u6807\u7b7e",align:"center",render:function(e,t){var n="\u65e0";return t.tagId&&(n=c.map(function(e){return t.tagId===e.id&&(n=e.name)})),m.a.createElement("div",null,n)}},{key:"timing",title:"\u5b9a\u65f6\u65f6\u95f4",align:"center",render:function(e,t){var n="~~";return t.timing&&(n=ja()(t.timing).format("YYYY-MM-DD, HH:mm:ss")),m.a.createElement("span",null,n)}},{title:"Action",align:"center",width:300,render:function(e,t,n){return m.a.createElement("div",null,m.a.createElement(Jn,{background:"warning",onClick:function(){return r(t)},buttonContent:"\u53d1\u9001\u6d88\u606f"}),m.a.createElement(Jn,{onClick:function(){return h(t)},buttonContent:"\u5b9a\u65f6\u53d1\u9001"}),m.a.createElement(Jn,{background:"success",onClick:function(){return v(t._id)},buttonContent:"\u590d\u5236"}),m.a.createElement(Jn,{mr:0,background:"danger",onClick:function(){return y(t._id,n)},buttonContent:"\u5220\u9664"}))}}],M=c.map(function(e){return m.a.createElement(ea.a,{key:e._id,value:e.id},e.name)});return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement(Jn,{size:"default",mr:20,background:"info",onClick:function(){return e.props.history.goBack()},buttonContent:"\u8fd4\u56de\u4e0a\u4e00\u7ea7"}),m.a.createElement(Jn,{size:"default",buttonContent:m.a.createElement(E.b,{to:"../history/"+I},"\u7fa4\u53d1\u5386\u53f2")}),m.a.createElement(Jn,{size:"default",mb:20,ml:15,background:"danger",onClick:function(){return k(I)},buttonContent:"\u6e05\u7a7a\u5217\u8868"}),m.a.createElement(Pn.a,{bordered:!0,size:"small",rowKey:function(e){return e._id},columns:C,dataSource:n})),m.a.createElement(N.a,{title:"\u8bf7\u9009\u62e9\u8981\u53d1\u9001\u7684\u6807\u7b7e",visible:o,onOk:function(){return i(l)},onCancel:u},m.a.createElement(ea.a.Group,{value:l.tagId,onChange:function(e){return s(e,!1)}},M)),m.a.createElement(N.a,{title:"\u521b\u5efa\u5b9a\u65f6\u53d1\u9001\u4efb\u52a1\uff1f",visible:d,onOk:function(){return g(f,I)},onCancel:u},m.a.createElement("label",{htmlFor:"tagId"},"\u6807\u7b7e\uff1a",m.a.createElement(ea.a.Group,{id:"tagId",value:f.tagId,onChange:function(e){return s(e,!0)}},M)),m.a.createElement("label",{style:{display:"block",margin:"20px 0"},htmlFor:"isTiming"},"\u662f\u5426\u5b9a\u65f6\uff1a",m.a.createElement($n.a,{checked:f.isTiming,onChange:p})),m.a.createElement("label",{htmlFor:"timing",style:{display:f.isTiming?"block":"none"}},"\u65f6\u95f4\u9009\u62e9\uff1a",m.a.createElement(Ma.a,{value:ja()(new Date(f.timing),"YYYY-MM-DD"),onChange:function(e,t){return b(t,"date")}}),m.a.createElement(La.a,{value:ja()(new Date(f.timing),"HH-MM-SS"),onChange:function(e,t){return b(t,"time")}}))))}},{key:"componentWillUnmount",value:function(){this.props.resetState()}}]),t}(s.PureComponent),wa=Object(k.b)(function(e){return{tagList:e.message.group.tagList,messageList:e.message.group.messageList,sendInfo:e.message.group.sendInfo,sendTimingInfo:e.message.group.sendTimingInfo,sendModal:e.message.group.sendModal,sendTimingModal:e.message.group.sendTimingModal}},function(e){return{getTagList:function(t){e(i.getTagList(t))},getMessageList:function(t){e(i.getMessageList(t))},openModal:function(t){e(i.openModal(t))},sendMessage:function(t){e(i.sendMessage(t))},changeTagId:function(t,n){e(i.changeTagId(t.target.value,n))},openTimingModal:function(t){e(i.openTimingModal(t))},closeModal:function(){e(i.closeModal())},sendTimingMessage:function(t,n){e(i.sendTimingMessage(t,n))},changeTimingState:function(t){e(i.changeTimingState(t))},changeTime:function(t,n){e(i.changeTime(t,n))},copy:function(t){e(i.copy(t))},deleteMaterial:function(t,n){e(i.deleteMaterial(t,n))},clearMaterial:function(t){e(i.clearMaterial(t))},resetState:function(){e(i.resetState())}}})(xa),Sa=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.code;this.props.getTagList(e),this.props.getHistoryList(e)}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.historyList,a=e.tagList,r=e.delDate,o=e.checkSendState,i=e.match,l=e.openMsgModal,c=e.closeMsgModal,u=e.deleteMsg,s=e.changeArticleIdx,d=e.delMsgInfo,g=e.historyMsgModal,f=e.clearHistory,h=e.deleteMany,p=e.changeDate,v=i.params.code,b=[{key:"update_time",title:"\u53d1\u9001\u6d88\u606f\u65f6\u95f4",align:"center",width:100,render:function(e,t){var n=ja()(1e3*t.update_time).format("YYYY-MM-DD, HH:mm:ss");return m.a.createElement("span",null,n)}},{title:"\u53d1\u9001\u5bf9\u8c61",align:"center",render:function(e,t){var n="\u65e0";return t.tagId&&(n=a.map(function(e){return t.tagId===e.id&&(n=e.name)})),m.a.createElement("div",null,n)}},{title:"\u662f\u5426\u6210\u529f",align:"center",width:200,render:function(e,t){var n;return n=""===t.msg_id?"\u65e0msg_id,\u53d1\u9001\u4e0d\u6210\u529f":"msg_id\u5b58\u5728,\u53d1\u9001\u6210\u529f",m.a.createElement("span",null,n)}},{title:"\u56fe\u6587\u6807\u9898",align:"center",width:300,render:function(e,t){for(var n=0!==t.content.news_item.length?t.content.news_item:[],a=[],r=0;r<n.length;r++)a.push(r+1+"."+n[r].title);return m.a.createElement(zn.a,{placement:"top",title:a},m.a.createElement("p",{className:"textEllipsis",style:{width:300}},a))}},{key:"isTiming",title:"\u662f\u5426\u5b9a\u65f6",align:"center",render:function(e,t){var n=t.isTiming?"\u662f":"\u5426";return m.a.createElement("span",null,n)}},{key:"timing",title:"\u5b9a\u65f6\u65f6\u95f4",align:"center",render:function(e,t){var n="~~";return t.timing&&(n=ja()(t.timing).format("YYYY-MM-DD, HH:mm:ss")),m.a.createElement("span",null,n)}},{title:"Action",align:"center",width:100,render:function(e,t){return m.a.createElement("div",null,m.a.createElement(Jn,{mb:10,onClick:function(){return o(v,t.msg_id)},buttonContent:"\u53d1\u9001\u72b6\u6001"}),m.a.createElement(Jn,{background:"danger",onClick:function(){return l(v,t.msg_id)},buttonContent:"\u5220\u9664\u6d88\u606f"}))}}];return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement(Jn,{background:"info",mr:20,mb:20,size:"default",style:{margin:"0 20px 20px 0"},onClick:function(){return t.goBack()},buttonContent:"\u8fd4\u56de\u4e0a\u4e00\u7ea7"}),m.a.createElement(Jn,{size:"default",background:"warning",onClick:function(){return f(v)},buttonContent:"\u6e05\u7a7a\u5217\u8868"}),m.a.createElement("div",{className:"fr"},m.a.createElement(Ma.a,{value:r?ja()(r):null,onChange:p}),m.a.createElement(Jn,{background:"danger",size:"default",ml:10,onClick:function(){return h(v,r)},buttonContent:"\u6279\u91cf\u5220\u9664"})),m.a.createElement(Pn.a,{size:"small",bordered:!0,rowKey:function(e){return e._id},columns:b,dataSource:n})),m.a.createElement(N.a,{title:"\u8bf7\u8f93\u5165\u8981\u5220\u9664\u7684\u6d88\u606f\u7684\u7d22\u5f15",visible:g,onOk:function(){return u(d)},onCancel:c},m.a.createElement(_n.a,{style:{width:100},value:d.article_idx,onChange:s}),m.a.createElement("p",{style:{color:"red",marginTop:10}},"Tips:   0\u4e3a\u5168\u90e8\u5220\u9664  1\u30012\u30013...\u4e3a\u5bf9\u5e94\u7b2c\u51e0\u6761")))}}]),t}(s.Component),_a=Object(k.b)(function(e){return{tagList:e.message.group.tagList,historyList:e.message.group.historyList,historyMsgModal:e.message.group.historyMsgModal,delMsgInfo:e.message.group.delMsgInfo,delDate:e.message.group.delDate}},function(e){return{getHistoryList:function(t){e(i.getHistoryList(t))},getTagList:function(t){e(i.getTagList(t))},checkSendState:function(t,n){e(i.checkSendState(t,n))},openMsgModal:function(t,n){console.log(t,n),e(i.openMsgModal(t,n))},closeMsgModal:function(){e(i.closeMsgModal())},deleteMsg:function(t){e(i.deleteMsg(t))},changeArticleIdx:function(t){e(i.changeArticleIdx(t.target.value))},clearHistory:function(t){e(i.clearHistory(t))},changeDate:function(t,n){e(i.changeDate(n))},deleteMany:function(t,n){var a=new Date(n).getTime()/1e3;e(i.deleteMany(t,a))}}})(Sa),Ta=Ma.a.RangePicker,Na="",Da="",Aa=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){this.props.getKefuMessageList()}},{key:"render",value:function(){var e=this.props,t=e.kefuMessageList,n=e.copyMessage,a=e.deleteMessage,r=e.sendKefuMessage,o=e.deleteByDate,i=e.changeDate,l=[{key:"type",title:"\u7c7b\u578b",align:"center",width:50,render:function(e,t){return(1===t.type?"\u6587\u672c":0===t.type?"\u56fe\u6587":"\u56fe\u7247")+(t.contents.length>1?"(\u591a)":"")}},{key:"task",title:"\u662f\u5426\u5ef6\u65f6",align:"center",width:50,render:function(e,t){return t.task?"\u662f":"\u5426"}},{key:"delay",title:"\u5ef6\u65f6\u65f6\u95f4(\u5206\u949f)",align:"center",width:80,render:function(e,t){return t.task?t.delay:"\u2014\u2014"}},{key:"is_timing",title:"\u662f\u5426\u5b9a\u65f6",align:"center",width:50,render:function(e,t){return t.is_timing?"\u662f":"\u5426"}},{key:"timing_time",title:"\u5b9a\u65f6\u65f6\u95f4(\u5206\u949f)",align:"center",width:100,sorter:function(e,t){return new Date(e.timing_time).getTime()-new Date(t.timing_time).getTime()},render:function(e,t){return t.is_timing?t.time:"\u2014\u2014"}},{key:"sex",title:"\u6027\u522b",align:"center",width:50,render:function(e,t){return"0"===t.sex?"\u672a\u77e5":"1"===t.sex?"\u7537":"2"===t.sex?"\u5973":"\u5168\u90e8"}},{key:"title",title:"\u6807\u9898",align:"center",width:100,render:function(e,t){var n=0!==t.contents.length?t.contents[0].title:"";return m.a.createElement(zn.a,{placement:"top",title:n},m.a.createElement("p",{className:"textEllipsis",style:{width:100}},n))}},{key:"description",title:"\u8be6\u7ec6\u4fe1\u606f",align:"center",width:100,render:function(e,t){var n=0!==t.contents.length?t.contents[0].description:"";return m.a.createElement(zn.a,{title:n},m.a.createElement("p",{className:"textEllipsis",style:{maxWidth:100}},n))}},{key:"url",title:"\u94fe\u63a5",align:"center",width:70,render:function(e,t){var n=0!==t.contents.length?t.contents[0].url:"";return m.a.createElement(zn.a,{title:n},m.a.createElement("p",{className:"textEllipsis",style:{width:70}},n))}},{key:"img",title:"\u56fe\u7247",width:100,align:"center",render:function(e,t){return m.a.createElement("img",{style:{width:"100%"},src:t.img,alt:""})}},{title:"Action",align:"center",width:240,render:function(e,t,o){return m.a.createElement("div",null,m.a.createElement(Jn,{background:"success",onClick:function(){return n(t)},buttonContent:"\u590d\u5236"}),m.a.createElement(Jn,{buttonContent:m.a.createElement(E.b,{to:{pathname:"./update",query:Object(f.a)({},t)}},"\u4fee\u6539")}),m.a.createElement(Jn,{background:"warning",onClick:function(){return r(t._id,t.tagId)},buttonContent:"\u53d1\u9001\u6d88\u606f"}),m.a.createElement(Jn,{background:"danger",onClick:function(){return a(t._id,o)},buttonContent:"\u5220\u9664"}))}}];return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"fr"},m.a.createElement(Ta,{showTime:!0,onChange:i}),m.a.createElement(Jn,{size:"default",ml:10,mb:20,background:"danger",onClick:function(){return o(Na,Da)},buttonContent:"\u6309\u65f6\u95f4\u6bb5\u5220\u9664"})),m.a.createElement(Jn,{size:"default",buttonContent:m.a.createElement(E.b,{to:"./create"},"\u65b0\u5efa\u5ba2\u670d\u6d88\u606f")}),m.a.createElement(Pn.a,{bordered:!0,size:"small",rowKey:function(e){return e._id},columns:l,dataSource:t})))}}]),t}(s.Component),qa=Object(k.b)(function(e){return{kefuMessageList:e.message.kefu.kefuMessageList}},function(e){return{getKefuMessageList:function(){e(l.getKefuMessageList())},copyMessage:function(t){e(l.createKefuMessage(t))},deleteMessage:function(t,n){e(l.deleteMessage(t,n))},sendKefuMessage:function(t,n){e(l.sendKefuMessage(t,n))},deleteByDate:function(t,n){e(l.deleteByDate(t,n))},changeDate:function(e){Na=+e[0]._d,Da=+e[1]._d}}})(Aa),Ua=n(489),Fa=(n(468),function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){this.props.getAllCodes(),this.props.getTagList();var e=this.props.history.location.query;e&&this.props.initKefuMessageInfo(e)}},{key:"render",value:function(){var e,t,n,a,r=this.props,o=r.kefuMessageInfo,i=r.content,l=r.paramsModal,c=r.tagList,u=r.changeContentValue,s=r.changeMessageValue,d=r.uploadImg,g=r.addMessage,f=r.selectMessage,h=r.hideParamsModal,p=r.submitMessage,v=r.allCodes,b=r.targetKeys,y=r.changeGonghao,k=r.selectParams,E=r.selectTag,I=r.cancelSelectTag,C=r.resetState,M=r.history,L=o.contents.map(function(e,t){return m.a.createElement("li",{key:e._id||t,onClick:function(){return f(e,t)}},m.a.createElement("div",{className:"material-item"},m.a.createElement("div",{className:"material-title fl textEllipsis"},e.title||"\u6807\u9898"),m.a.createElement("div",{className:"material-img fl"},m.a.createElement("img",{src:e.picurl,alt:""}))))});0===o.type&&(e=m.a.createElement("div",{className:"show-material-wrapper fr"},m.a.createElement("ul",null,L,o.contents.length<8&&m.a.createElement("li",{className:"add-material tc",onClick:g},m.a.createElement(Tn.a,{type:"plus"}))))),a=i.picurl?m.a.createElement("img",{style:{width:"100px"},src:i.picurl,alt:""}):m.a.createElement(Vn.a,null,m.a.createElement(Tn.a,{type:"upload"})," \u4e0a\u4f20\u56fe\u7247 "),n=o.img?m.a.createElement("img",{style:{width:"100px"},src:o.img,alt:""}):m.a.createElement(Vn.a,null,m.a.createElement(Tn.a,{type:"upload"})," \u4e0a\u4f20\u56fe\u7247 "),1===o.type?t=m.a.createElement(Zn.a.Item,{label:"\u8be6\u7ec6\u4fe1\u606f"},m.a.createElement(_n.a.TextArea,{value:i.description,placeholder:"\u8bf7\u8f93\u5165\u5ba2\u670d\u6d88\u606f\u8be6\u7ec6\u4fe1\u606f",onChange:function(e){return u(e,"description")}})):0===o.type?t=m.a.createElement("div",null,m.a.createElement(Zn.a.Item,{label:"\u56fe\u7247"},m.a.createElement(ia.a,{name:"imageFile",action:"/reply/upload",onChange:function(e){d(o,e)},showUploadList:!1},a)),m.a.createElement(Zn.a.Item,{label:"\u6807\u9898"},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898",value:i.title,onChange:function(e){return u(e,"title")}})),m.a.createElement(Zn.a.Item,{label:"\u94fe\u63a5"},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u94fe\u63a5",value:i.url,onChange:function(e){return u(e,"url")}}))):2===o.type&&(t=m.a.createElement(Zn.a.Item,{label:"\u56fe\u7247"},m.a.createElement(ia.a,{name:"imageFile",action:"/reply/upload",onChange:function(e){d(o,e)},showUploadList:!1},n)));var O;1===o.channel?O=m.a.createElement(Zn.a.Item,{label:"\u5ef6\u65f6\u65f6\u95f4(\u5206\u949f)"},m.a.createElement(Ua.a,{value:o.delay,min:1,onChange:function(e){return s(e,"delay")}})):2===o.channel&&(O=m.a.createElement(Zn.a.Item,{label:"\u5b9a\u65f6\u65f6\u95f4"},m.a.createElement(Ma.a,{showTime:!0,placeholder:"\u9009\u62e9\u65f6\u95f4",value:ja()(o.timing_time),onChange:function(e,t){return s(t,"timing_time")}})));var j,x=c.map(function(e){return m.a.createElement(Xn.a,{className:"cursor",key:e._id,onClick:function(){return E(e)}},e.name)});return o.tagName&&(j=m.a.createElement(Xn.a,{closable:!0,onClose:I},o.tagName)),m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container edit-message"},m.a.createElement("div",{className:"title-wrapper"},m.a.createElement("h2",null,"\u7f16\u8f91\u5ba2\u670d\u6d88\u606f"),m.a.createElement(Vn.a,{className:"fr",onClick:function(){C(),M.goBack()}},"\u8fd4\u56de\u4e0a\u4e00\u7ea7")),e,m.a.createElement("div",{className:"kefu-form fl"},m.a.createElement(Zn.a,{labelCol:{sm:{span:4}},wrapperCol:{sm:{span:8,offset:0}},colon:!1},m.a.createElement(Zn.a.Item,{label:"\u6d88\u606f\u7c7b\u578b"},m.a.createElement(ea.a.Group,{value:o.type,onChange:function(e){return s(e.target.value,"type")}},m.a.createElement(ea.a.Button,{value:1},"\u6587\u672c"),m.a.createElement(ea.a.Button,{value:0},"\u56fe\u6587"),m.a.createElement(ea.a.Button,{value:2},"\u56fe\u7247"))),t,m.a.createElement(Zn.a.Item,{label:" "},m.a.createElement(Vn.a,{type:"primary",onClick:k},"\u9009\u62e9\u5176\u4ed6\u53c2\u6570"))))),m.a.createElement(N.a,{title:"\u9009\u62e9\u5176\u4ed6\u53c2\u6570",visible:l,onOk:function(){return p(o,M)},onCancel:h,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",className:"params-modal"},m.a.createElement(fa.a,{dataSource:v,showSearch:!0,targetKeys:b,onChange:y,render:function(e){return e.name},rowKey:function(e){return e.code},className:"gonghao-transfer fl"}),m.a.createElement(Zn.a,{className:"params-form fl",colon:!1,labelCol:{sm:{span:4}},wrapperCol:{sm:{span:20,offset:0}}},m.a.createElement(Zn.a.Item,{label:"\u4eba\u5de5/\u5ef6\u65f6/\u5b9a\u65f6"},m.a.createElement(ea.a.Group,{value:o.channel,onChange:function(e){return s(e.target.value,"channel")}},m.a.createElement(ea.a.Button,{value:0},"\u4eba\u5de5"),m.a.createElement(ea.a.Button,{value:1},"\u5ef6\u65f6"),m.a.createElement(ea.a.Button,{value:2},"\u5b9a\u65f6"))),O,m.a.createElement(Zn.a.Item,{label:"\u6027\u522b"},m.a.createElement(ea.a.Group,{value:o.sex,onChange:function(e){return s(e.target.value,"sex")}},m.a.createElement(ea.a,{value:"all"},"\u5168\u90e8"),m.a.createElement(ea.a,{value:"1"},"\u7537"),m.a.createElement(ea.a,{value:"2"},"\u5973"),m.a.createElement(ea.a,{value:"0"},"\u672a\u77e5"))),m.a.createElement(Zn.a.Item,{label:"\u9009\u62e9\u6807\u7b7e"},j),m.a.createElement(Zn.a.Item,{label:"\u6807\u7b7e\u9009\u9879"},x))))}},{key:"componentWillUnmount",value:function(){this.props.resetState()}}]),t}(s.Component)),za=Object(k.b)(function(e){return{kefuMessageInfo:e.message.kefu.kefuMessageInfo,content:e.message.kefu.content,paramsModal:e.message.kefu.paramsModal,allCodes:e.message.kefu.allCodes,targetKeys:e.message.kefu.targetKeys,tagList:e.message.kefu.tagList}},function(e){return{initKefuMessageInfo:function(t){e(l.initKefuMessageInfo(t))},changeContentValue:function(t,n){e(l.changeContentValue(t.target.value,n))},uploadImg:function(t,n){if("done"===n.file.status){var a="http://t.ihougldk.top/uploads/".concat(n.file.response.filename),r="./public/uploads/".concat(n.file.response.filename);0===t.type?e(l.changeContentValue(a,"picurl")):(e(l.changeMessageValue(a,"img")),e(l.changeMessageValue(r,"img_path")))}},changeMessageValue:function(t,n){e(l.changeMessageValue(t,n))},addMessage:function(){e(l.addMessage())},selectMessage:function(t,n){e(l.selectMessage(t,n))},resetState:function(){e(l.resetState())},selectParams:function(){e(l.selectParams())},hideParamsModal:function(){e(l.hideParamsModal())},submitMessage:function(t,n){e(l.submitMessage(t,n))},changeGonghao:function(t){e(l.changeGonghao(t))},getAllCodes:function(){e(l.getAllCodes())},getTagList:function(){e(l.getTagList())},selectTag:function(t){e(l.selectTag(t._id,t.name))},cancelSelectTag:function(){e(l.cancelSelectTag())}}})(Fa),Pa=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement(I.b,{path:"/admin/message"},m.a.createElement(I.d,null,m.a.createElement(I.b,{path:"/admin/message/group/index",component:Ca}),m.a.createElement(I.b,{path:"/admin/message/group/material/:code",component:wa}),m.a.createElement(I.b,{path:"/admin/message/group/history/:code",component:_a}),m.a.createElement(I.b,{path:"/admin/message/kefu/index",component:qa}),m.a.createElement(I.b,{path:"/admin/message/kefu/create",component:za}),m.a.createElement(I.b,{path:"/admin/message/kefu/update",component:za}),m.a.createElement(I.a,{from:"/admin/message",exact:!0,to:"/admin/message/group"}),m.a.createElement(I.a,{from:"/admin/message/group",exact:!0,to:"/admin/message/group/index"}),m.a.createElement(I.a,{from:"/admin/message/kefu",exact:!0,to:"/admin/message/kefu/index"}))))}}]),t}(s.Component),Ga=n(103),Ba=n(479),Ka=n(95),Va=n.n(Ka),Ra=(n(472),Ga.a.Option),Ja=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("creator");this.props.getNovelLinkList(e||"\u5168\u90e8"),this.props.getChannelList(),this.props.getCreatorList()}},{key:"render",value:function(){var e=this,t=this.props,n=t.novelLinkList,a=t.count,r=t.creator,o=t.domain,i=t.domainModal,l=t.channelModal,c=t.channel,u=t.channelList,s=t.selectedChannel,d=t.changePage,g=t.deleteNovel,h=t.goTop,p=t.cancelGoTop,v=t.copyNovel,b=t.selectChannel,y=t.cancelSelectChannel,k=t.openChannelModal,I=t.changeChannel,C=t.openDomainModal,M=t.closeDomainModal,L=t.submitDomain,O=t.changeDomainName,j=t.changeCreator,x=t.creatorList,w=t.addCreator,S=t.openAddCreatorModal,_=t.delCreator,D=t.openDelCreatorModal,A=t.addCreatorModal,q=t.closeAddCreatorModal,U=t.delCreatorModal,F=t.closeDelCreatorModal,z=t.newCreator,P=t.changeStateInput,G=t.needDelCreatorId,B=[{key:"id",dataIndex:"id",title:"id",align:"center",render:function(e){return m.a.createElement(zn.a,{title:e.length>10?e:""},m.a.createElement("p",{className:"textEllipsis",style:{width:80}},e))}},{title:"\u7c7b\u578b",align:"center",render:function(e,t){return 0===t.type?"\u5fae\u8df3":1===t.type?"\u975e\u5fae\u5355":2===t.type?"\u975e\u5fae\u591a":"\u5934\u6761"}},{key:"name",dataIndex:"name",title:"\u516c\u53f7",align:"center"},{key:"domain_name",dataIndex:"domain_name",title:"\u57df\u540d",align:"center",render:function(e){return m.a.createElement(zn.a,{title:e},m.a.createElement("p",{className:"textEllipsis",style:{width:100}},e))}},{key:"channel",dataIndex:"channel",title:"\u6e20\u9053",align:"center",render:function(e){return m.a.createElement(zn.a,{title:e||""},m.a.createElement("p",{className:"textEllipsis",style:{width:100}},e||"~~"))}},{key:"remarks",dataIndex:"remarks",title:"\u5907\u6ce8",align:"center",render:function(e){return m.a.createElement(zn.a,{title:e||""},m.a.createElement("p",{className:"textEllipsis",style:{width:200}},e||"~~"))}},{title:"\u7f6e\u9876",align:"center",render:function(e,t){return m.a.createElement(Jn,{background:"info",buttonContent:0===t.zIndex?"\u7f6e\u9876":"\u53d6\u6d88\u7f6e\u9876",onClick:function(){0===t.zIndex?h(t._id):p(t._id)}})}},{title:"\u590d\u5236\u94fe\u63a5",align:"center",render:function(e,t){return m.a.createElement(Va.a,{text:t.domain_name+"/tq/"+(0===t.type?"weitiao/":1===t.type?"singlepage/":2===t.type?"multipage/":3===t.type?"t/":"d/")+t.id,onCopy:function(){return T.a.success("\u590d\u5236\u6210\u529f")}},m.a.createElement(Jn,{background:"success",buttonContent:"\u590d\u5236\u94fe\u63a5"}))}},{title:"Action",align:"center",width:200,render:function(t,n,a){return m.a.createElement("div",null,m.a.createElement(Jn,{background:"update",buttonContent:m.a.createElement(E.b,{to:{pathname:"./update",query:n}},"\u4fee\u6539")}),m.a.createElement(Jn,{background:"danger",buttonContent:"\u5220\u9664",onClick:function(){return g(n.id,a)}}),m.a.createElement(Jn,{background:"success",mr:0,buttonContent:"\u590d\u5236\u4e00\u6761",onClick:function(){return v(n,e.props)}}))}}],K={pageSize:20,total:a,onChange:function(e){return d(e)}},V=u.map(function(e){return m.a.createElement(ea.a.Button,{style:{marginRight:10,marginBottom:10},value:e.name,key:e._id},e.name)});return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"fr"},m.a.createElement(Jn,{background:"update",ml:20,size:"default",buttonContent:"\u4fee\u6539\u57df\u540d",onClick:C}),m.a.createElement(Jn,{background:"success",size:"default",buttonContent:m.a.createElement(E.b,{to:"./create"},"\u65b0\u5efa\u5c0f\u8bf4\u94fe\u63a5")})),m.a.createElement(Ga.a,{value:r,onChange:j,style:{width:120,textAlign:"center"},dropdownRender:function(e){return m.a.createElement("div",null,e,m.a.createElement(Ba.a,{style:{margin:"4px 0"}}),m.a.createElement("div",{style:{padding:"8px",cursor:"pointer"},onMouseDown:function(e){return e.preventDefault()},onClick:S},m.a.createElement(Tn.a,{type:"plus"})," \u65b0\u589e"),m.a.createElement("div",{style:{display:x.length>0?"block":"none"}},m.a.createElement(Ba.a,{style:{margin:"4px 0"}}),m.a.createElement("div",{style:{padding:"8px",cursor:"pointer"},onMouseDown:function(e){return e.preventDefault()},onClick:D},m.a.createElement(Tn.a,{type:"close"})," \u5220\u9664")))}},m.a.createElement(Ra,{value:"\u5168\u90e8"},"\u5168\u90e8"),x.map(function(e,t){return m.a.createElement(Ra,{value:e.name,key:e._id},e.name)})),m.a.createElement(Jn,{mb:20,ml:10,size:"default",onClick:k,buttonContent:s}),m.a.createElement(Pn.a,{bordered:!0,size:"small",rowKey:function(e){return e._id},columns:B,rowClassName:function(e){return 0!==e.zIndex?"selectedRow":""},dataSource:n,pagination:Object(f.a)({},K)})),m.a.createElement(N.a,{title:"\u8bf7\u9009\u62e9\u6e20\u9053",visible:l,onOk:function(){return b(c)},onCancel:y},m.a.createElement(ea.a.Group,{value:c,onChange:I},m.a.createElement(ea.a.Button,{style:{marginRight:10},value:"\u9ed8\u8ba4"},"\u9ed8\u8ba4"),V)),m.a.createElement(N.a,{title:"\u8bf7\u8f93\u5165\u65b0\u57df\u540d",visible:i,onOk:function(){return L(o)},onCancel:M},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u65b0\u57df\u540d\uff0c\u5982\uff1ahttps://www.baidu.com",value:o,onChange:O})),m.a.createElement(N.a,{title:"\u65b0\u589e\u521b\u5efa\u4eba",visible:A,onOk:function(){return w(z)},onCancel:q},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u65b0\u7684\u521b\u5efa\u4eba",value:z,onChange:function(e){return P("newCreator",e.target.value)}})),m.a.createElement(N.a,{title:"\u8bf7\u9009\u62e9\u8981\u5220\u9664\u7684\u521b\u5efa\u4eba",visible:U,onOk:function(){return _(G)},onCancel:F},m.a.createElement(ea.a.Group,{value:G,onChange:function(e){return P("needDelCreatorId",e.target.value)}},x.map(function(e){return m.a.createElement(ea.a,{key:e._id,value:e._id},e.name)}))))}}]),t}(s.Component),Ha=Object(k.b)(function(e){return{novelLinkList:e.novel.links.novelLinkList,count:e.novel.links.count,channelModal:e.novel.links.channelModal,channel:e.novel.links.channel,channelList:e.novel.links.channelList,selectedChannel:e.novel.links.selectedChannel,domainModal:e.novel.links.domainModal,domain:e.novel.links.domain,creator:e.novel.links.creator,creatorList:e.novel.links.creatorList,addCreatorModal:e.novel.links.addCreatorModal,delCreatorModal:e.novel.links.delCreatorModal,newCreator:e.novel.links.newCreator,needDelCreatorId:e.novel.links.needDelCreatorId}},function(e){return{changeCreator:function(t){e(c.searchByCreator(t))},getNovelLinkList:function(t){e(c.getNovelLinkList(t))},changePage:function(t){e(c.changePage(t))},deleteNovel:function(t,n){e(c.deleteNovel(t,n))},goTop:function(t){e(c.goTop(t))},cancelGoTop:function(t){e(c.cancelGoTop(t))},copyNovel:function(t,n){e(c.submitNovel(t,n))},getChannelList:function(){e(c.getChannelList())},openChannelModal:function(){e(c.openChannelModal())},cancelSelectChannel:function(){e(c.cancelSelectChannel())},selectChannel:function(t){e(c.selectChannel(t))},changeChannel:function(t){e(c.changeChannel(t.target.value))},openDomainModal:function(){e(c.openDomainModal())},closeDomainModal:function(){e(c.closeDomainModal())},submitDomain:function(t){e(c.submitDomain(t))},changeDomainName:function(t){e(c.changeDomainName(t.target.value))},openAddCreatorModal:function(){e(c.openAddCreatorModal())},closeAddCreatorModal:function(){e(c.closeAddCreatorModal())},openDelCreatorModal:function(){e(c.openDelCreatorModal())},closeDelCreatorModal:function(){e(c.closeDelCreatorModal())},addCreator:function(t){e(c.addCreator(t))},delCreator:function(t){e(c.delCreator(t))},changeStateInput:function(t,n){e(c.changeStateInput(t,n))},getCreatorList:function(){e(c.getCreatorList())}}})(Ja),Wa=n(63),Ya=n(238),Qa=Ga.a.Option,Xa=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={deleteModalStyle:{position:"absolute",top:0,left:0,width:100,height:100,background:"rgba(0, 0, 0, .3)",color:"#fff",fontSize:20,display:"none",boxSizing:"border-box"}},n.enterImg=function(e){e.stopPropagation(),n.setState(function(e){return{deleteModalStyle:Object(f.a)({},e.deleteModalStyle,{display:"block"})}})},n.leaveImg=function(e){e.stopPropagation(),n.setState(function(e){return{deleteModalStyle:Object(f.a)({},e.deleteModalStyle,{display:"none"})}})},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.history.location.query;e&&this.props.initNovelInfo(e),e&&this.props.getContent(e._id)}},{key:"render",value:function(){var e,t,n,a,r,o,i=this,l=this.props,c=l.novelInfo,u=l.channelList,d=l.editChannelModal,g=l.selectChannelList,f=l.uploadImg,h=l.handleInputChange,p=l.submitNovel,v=l.cancel,b=l.selectEditChannel,y=l.cancelSelectEditChannel,k=l.changeEditChannel,E=l.openEditChannelModal,I=l.uploadFinalImg,C=l.uploadGonghaoLogo,M=l.deleteFinalImg,L=l.creatorList,O=this.state.deleteModalStyle,j={labelCol:{sm:{span:6}},wrapperCol:{sm:{span:12,offset:0}}};e=c.picurl?m.a.createElement("img",{style:{width:"100px"},src:c.imgUrl,alt:""}):m.a.createElement(Vn.a,null,m.a.createElement(Tn.a,{type:"upload"})," \u4e0a\u4f20\u56fe\u7247 "),0===c.type&&(t=m.a.createElement(Zn.a.Item,{label:"\u8df3\u8f6c\u94fe\u63a5"},m.a.createElement(_n.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u8df3\u8f6c\u94fe\u63a5",value:c.linkUrl,onChange:function(e){return h(e.target.value,"linkUrl")}}))),a=c.finalImg?m.a.createElement("div",{style:{width:100,height:100,position:"relative"},onMouseOver:this.enterImg,onMouseLeave:this.leaveImg,onClick:M},m.a.createElement("img",{style:{width:100,height:100},src:c.finalImgUrl,alt:""}),m.a.createElement("div",{className:"cursor",style:O},m.a.createElement(Tn.a,{style:{margin:"40px 0 0 40px"},type:"delete"}))):m.a.createElement(ia.a,{name:"imageFile",action:"/tuiguang/novel/upload",onChange:I,showUploadList:!1},m.a.createElement(Vn.a,null,m.a.createElement(Tn.a,{type:"upload"})," \u4e0a\u4f20\u56fe\u7247 ")),o=c.gonghaoLogo?m.a.createElement("img",{style:{width:"100px"},src:c.gonghaoLogoUrl,alt:""}):m.a.createElement(Vn.a,null,m.a.createElement(Tn.a,{type:"upload"})," \u4e0a\u4f20\u56fe\u7247 "),3!==c.type&&4!==c.type||(n=m.a.createElement(m.a.Fragment,null,m.a.createElement(Zn.a.Item,{label:"\u968f\u673a\u540e\u7f00"},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u968f\u673a\u540e\u7f00\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\u9694\u5f00",value:c.suffix,onChange:function(e){return h(e.target.value,"suffix")}})),m.a.createElement(Zn.a.Item,{label:"\u70b9\u51fb\u8df3\u8f6c"},m.a.createElement($n.a,{checked:c.isClick,onChange:function(e){return h(e,"isClick")}})),m.a.createElement(Zn.a.Item,{label:"\u516c\u53f8\u540d\u79f0"},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0",value:c.company,onChange:function(e){return h(e.target.value,"company")}})),m.a.createElement(Zn.a.Item,{label:"\u80cc\u666f\u989c\u8272"},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u80cc\u666f\u989c\u8272",value:c.bgcolor,onChange:function(e){return h(e.target.value,"bgcolor")}})),m.a.createElement(Zn.a.Item,{label:"\u516c\u53f7logo"},m.a.createElement(ia.a,{name:"imageFile",action:"/tuiguang/novel/upload",onChange:C,showUploadList:!1},o)),m.a.createElement(Zn.a.Item,{label:"\u5c3e\u56fe\u56fe\u7247"},a))),0!==c.type&&1!==c.type||(r=m.a.createElement(s.Fragment,null,m.a.createElement(Zn.a.Item,{label:"\u6587\u7ae0\u6807\u9898"},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u6587\u7ae0\u6807\u9898",value:c.articleTit,onChange:function(e){return h(e.target.value,"articleTit")}})),m.a.createElement(Zn.a.Item,{label:"\u516c\u53f7\u63cf\u8ff0"},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f7\u63cf\u8ff0",value:c.title,onChange:function(e){return h(e.target.value,"title")}}))));var x=u.map(function(e){return m.a.createElement(Wa.a,{style:{margin:"0 10px 0 0"},key:e._id,value:e.name},e.name)});return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"title-wrapper"},m.a.createElement("h2",null,"\u7f16\u8f91\u5c0f\u8bf4\u5185\u5bb9"),m.a.createElement("div",{className:"fr"},m.a.createElement(Vn.a,{onClick:function(){return v(i.props)}},"\u53d6\u6d88"),m.a.createElement(Vn.a,{type:"primary",style:{marginLeft:10},onClick:function(){return p(c,i.props)}},"\u63d0\u4ea4"))),m.a.createElement(Zn.a,Object.assign({className:"fl",style:{width:"50%"}},j),m.a.createElement(Zn.a.Item,{label:"\u7c7b\u578b",wrapperCol:{span:18}},m.a.createElement(ea.a.Group,{value:c.type,onChange:function(e){return h(e.target.value,"type")}},m.a.createElement(ea.a,{value:0},"\u5fae\u8df3"),m.a.createElement(ea.a,{value:1},"\u975e\u5fae\u8c03\u5355\u9875"),m.a.createElement(ea.a,{value:3},"\u5934\u6761"),m.a.createElement(ea.a,{value:4},"\u5e73\u53f0\u6570\u636e"))),m.a.createElement(Zn.a.Item,{label:"\u521b\u5efa\u4eba"},m.a.createElement(Ga.a,{value:c.creator,onChange:function(e){return h(e,"creator")}},m.a.createElement(Qa,{value:""},"\u9ed8\u8ba4"),L.map(function(e){return m.a.createElement(Qa,{key:e._id,value:e.name},e.name)}))),m.a.createElement(Zn.a.Item,{label:"id"},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165id",value:c.id,onChange:function(e){return h(e.target.value,"id")}})),m.a.createElement(Zn.a.Item,{label:"\u516c\u53f7id"},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165id",value:c.gonghao_id,onChange:function(e){return h(e.target.value,"gonghao_id")}})),m.a.createElement(Zn.a.Item,{label:"\u516c\u53f7\u540d\u79f0"},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f7\u540d\u79f0",value:c.name,onChange:function(e){return h(e.target.value,"name")}})),m.a.createElement(Zn.a.Item,{label:"\u57df\u540d"},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u57df\u540d",value:c.domain_name,onChange:function(e){return h(e.target.value,"domain_name")}})),r,m.a.createElement(Zn.a.Item,{label:"\u7edf\u8ba1\u4ee3\u7801"},m.a.createElement(_n.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u7edf\u8ba1\u4ee3\u7801",value:c.statisticsUrl1,onChange:function(e){return h(e.target.value,"statisticsUrl1")}})),m.a.createElement(Zn.a.Item,{label:"\u5176\u4ed6\u4ee3\u7801/\u7edf\u8ba1id"},m.a.createElement(_n.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u5176\u4ed6\u4e1a\u52a1\u4ee3\u7801\u6216\u7edf\u8ba1id",value:c.tokenCodes,onChange:function(e){return h(e.target.value,"tokenCodes")}})),m.a.createElement(Zn.a.Item,{label:"\u5907\u6ce8"},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8\u540d\u79f0",value:c.remarks,onChange:function(e){return h(e.target.value,"remarks")}}))),m.a.createElement(Zn.a,Object.assign({className:"fl",style:{width:"50%",marginTop:10}},j),m.a.createElement(Zn.a.Item,{label:"\u9875\u9762\u6807\u9898"},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u9875\u9762\u6807\u9898",value:c.pageTitle,onChange:function(e){return h(e.target.value,"pageTitle")}})),m.a.createElement(Zn.a.Item,{label:"\u56fe\u7247"},m.a.createElement(ia.a,{name:"imageFile",action:"/tuiguang/novel/upload",onChange:f,showUploadList:!1},e)),n,t,m.a.createElement(Zn.a.Item,{label:"\u9009\u62e9\u6e20\u9053"},m.a.createElement(Vn.a,{onClick:E},c.channel?c.channel:"\u9009\u62e9\u6e20\u9053")),m.a.createElement(Zn.a.Item,{label:"\u5173\u6ce8\u8df3\u8f6c"},m.a.createElement($n.a,{checked:c.isJump,onChange:function(e){return h(e,"isJump")}})),c.isJump&&m.a.createElement(Zn.a.Item,{label:"\u5173\u6ce8\u8df3\u8f6c\u94fe\u63a5"},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u5173\u6ce8\u8df3\u8f6c\u94fe\u63a5",value:c.jumpUrl,onChange:function(e){return h(e.target.value,"jumpUrl")}}))),m.a.createElement(Zn.a,{style:{width:"100%",marginTop:60,clear:"both"},labelCol:{span:3},wrapperCol:{span:20,offset:0}},m.a.createElement(Zn.a.Item,{label:"\u6587\u7ae0\u5185\u5bb9"},m.a.createElement(Ya.a,{apiKey:"yqk1vsq8qil9z824fv4fverb6jo24twdve8d2a8ntgmxlz09",initialValue:c.capter1,value:c.capter1,init:{menubar:!1,skin:"oxide-dark",plugins:"print preview searchreplace autolink directionality visualblocks visualchars image link media template code codesample table charmap hr pagebreak nonbreaking anchor insertdatetime advlist lists wordcount imagetools textpattern help emoticons autosave ",toolbar:"code undo redo | cut copy paste pastetext | forecolor backcolor bold italic underline strikethrough link anchor blockquote | alignleft aligncenter alignright alignjustify outdent indent | bullist numlist | styleselect formatselect fontselect fontsizeselect | table image media charmap emoticons hr pagebreak insertdatetime print preview",min_height:500,fontsize_formats:"12px 14px 16px 18px 24px 36px 48px 56px 72px",font_formats:"\u5fae\u8f6f\u96c5\u9ed1=Microsoft YaHei,Helvetica Neue,PingFang SC,sans-serif;\u82f9\u679c\u82f9\u65b9=PingFang SC,Microsoft YaHei,sans-serif;\u5b8b\u4f53=simsun,serif;\u4eff\u5b8b\u4f53=FangSong,serif;\u9ed1\u4f53=SimHei,sans-serif;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;",toolbar_drawer:"sliding"},onChange:function(e){return h(e.target.getContent(),"capter1")}}))),m.a.createElement(N.a,{visible:d,title:"\u8bf7\u9009\u62e9\u6e20\u9053",onOk:b,onCancel:y},m.a.createElement(Wa.a.Group,{value:g,onChange:k},x))))}},{key:"componentWillUnmount",value:function(){this.props.resetState()}}]),t}(s.Component),Za=Object(k.b)(function(e){return{novelInfo:e.novel.links.novelInfo,channelList:e.novel.links.channelList,editChannelModal:e.novel.links.editChannelModal,selectChannelList:e.novel.links.selectChannelList,creatorList:e.novel.links.creatorList}},function(e){return{uploadImg:function(t){if("done"===t.file.status){var n="/images/website/".concat(t.file.response.filename);e(rn(n,"picurl"))}},uploadFinalImg:function(t){if("done"===t.file.status){var n="/images/website/".concat(t.file.response.filename);e(rn(n,"finalImg"))}},uploadGonghaoLogo:function(t){if("done"===t.file.status){var n="/images/website/".concat(t.file.response.filename);e(rn(n,"gonghaoLogo"))}},handleInputChange:function(t,n){e(rn(t,n))},cancel:function(t){t.history.goBack(),e(dn())},submitNovel:function(t,n){e(an(t,n))},initNovelInfo:function(t){e(on(t))},changeEditChannel:function(t){e(un(t))},openEditChannelModal:function(){e(ln())},cancelSelectEditChannel:function(){e(cn())},selectEditChannel:function(){e(sn())},getContent:function(t){e(mn(t))},resetState:function(){e(dn())},deleteFinalImg:function(){e(gn())}}})(Zn.a.create({name:"editNovelInfo"})(Xa)),$a=_n.a.Search,er=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={replaceUrl:"",spreadData:[],spreadModal:!1,searchUrl:"",_id:""},n.changeSearchUrl=n.changeSearchUrl.bind(Object(Sn.a)(n)),n.changeReplaceUrl=n.changeReplaceUrl.bind(Object(Sn.a)(n)),n.searchUrl=n.searchUrl.bind(Object(Sn.a)(n)),n.updateReplaceUrl=n.updateReplaceUrl.bind(Object(Sn.a)(n)),n.closeSpreadModal=n.closeSpreadModal.bind(Object(Sn.a)(n)),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.replaceUrl,a=t.spreadData,r=t.spreadModal,o=t.searchUrl,i=[{dataIndex:"_id",key:"_id",title:"id",align:"center"},{dataIndex:"url",key:"url",title:"url",align:"center",width:300,render:function(e){return m.a.createElement("p",{style:{wordWrap:"break-word",width:300}},e)}},{dataIndex:"replaceUrl",key:"replaceUrl",title:"replaceUrl",align:"center",width:300,render:function(e){return m.a.createElement("p",{style:{wordWrap:"break-word",width:300}},e)}},{key:"Action",title:"Action",align:"center",render:function(t,n){return m.a.createElement(Vn.a,{size:"small",onClick:function(){return e.openSpreadModal(n._id)}},"\u4fee\u6539replaceUrl")}}];return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement($a,{style:{width:300,marginBottom:20},placeholder:"\u8bf7\u8f93\u5165\u67e5\u8be2\u94fe\u63a5",value:o,enterButton:"\u641c\u7d22",onSearch:this.searchUrl,onChange:this.changeSearchUrl}),m.a.createElement(Pn.a,{rowKey:function(e){return e._id},bordered:!0,size:"small",columns:i,dataSource:a})),m.a.createElement(N.a,{visible:r,title:"\u8bf7\u8f93\u5165replaceUrl",onOk:this.updateReplaceUrl,onCancel:this.closeSpreadModal},m.a.createElement(_n.a,{value:n,placeholder:"\u8bf7\u8f93\u5165replaceUrl",onChange:this.changeReplaceUrl})))}},{key:"componentDidMount",value:function(){this.getSpreadData()}},{key:"getSpreadData",value:function(){var e=this;_.a.get("/novel_transfer").then(function(t){var n=t.data.data;e.setState({spreadData:n})})}},{key:"openSpreadModal",value:function(e){this.setState({spreadModal:!0,_id:e})}},{key:"updateReplaceUrl",value:function(){var e=this,t=this.state,n=t._id,a=t.replaceUrl;_.a.get("/novel_transfer/update",{params:{_id:n,replaceUrl:a}}).then(function(t){T.a.info(t.data.success),e.closeSpreadModal(),e.getSpreadData()})}},{key:"closeSpreadModal",value:function(){this.setState({spreadModal:!1,replaceUrl:""})}},{key:"searchUrl",value:function(){var e=this;_.a.get("/novel_transfer/find_one",{params:{searchUrl:this.state.searchUrl}}).then(function(t){if(t.data.data.length>0){T.a.info(t.data.success);var n=t.data.data;e.setState({spreadData:n,searchUrl:""})}else T.a.info(t.data.error)})}},{key:"changeSearchUrl",value:function(e){this.setState({searchUrl:e.target.value})}},{key:"changeReplaceUrl",value:function(e){this.setState({replaceUrl:e.target.value})}}]),t}(s.Component),tr=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.domain_name,a=t.recommendList,r=t.recommendModal,o=t.recommendInfo,i=t.deleteItem,l=t.openRecommendModal,c=t.createRecommendList,u=t.closeRecommendModal,s=[{dataIndex:"id",key:"id",title:"ID",align:"center"},{dataIndex:"type",title:"\u7c7b\u578b",align:"center",render:function(e){return 0===e?"\u5fae\u4fe1\u5185":"\u5fae\u4fe1\u5916"}},{title:"\u590d\u5236\u94fe\u63a5",align:"center",render:function(e,t){return m.a.createElement(Va.a,{text:n+"/recommend/list/"+t.id,onCopy:function(){return T.a.success("\u590d\u5236\u6210\u529f")}},m.a.createElement(Vn.a,{size:"small",style:{background:"lightblue",color:"#fff"}},"\u590d\u5236"))}},{title:"Action",align:"center",width:200,render:function(e,t,n){return m.a.createElement("div",null,m.a.createElement(Vn.a,{size:"small",type:"primary",style:{marginRight:10}},m.a.createElement(E.b,{to:{pathname:"./recommendList/"+JSON.stringify(t)}},"\u4fee\u6539")),m.a.createElement(Vn.a,{size:"small",type:"danger",onClick:function(){return i(t._id,n)}},"\u5220\u9664"))}}];return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement(Vn.a,{style:{marginBottom:20},type:"primary",onClick:l},"\u65b0\u589e\u8fd4\u56de\u5c0f\u8bf4\u5217\u8868"),m.a.createElement(Pn.a,{size:"small",bordered:!0,rowKey:function(e){return e._id},columns:s,dataSource:a})),m.a.createElement(N.a,{visible:r,onOk:function(){return c(o,e.props)},onCancel:u},m.a.createElement(Zn.a,{labelCol:{sm:{span:4}},wrapperCol:{sm:{span:12,offset:0}}},m.a.createElement(Zn.a.Item,{label:"\u7c7b\u578b"},m.a.createElement(ea.a.Group,{id:"type",value:o.type},m.a.createElement(ea.a,{value:"0"},"\u5fae\u4fe1\u5185"),m.a.createElement(ea.a,{value:"1"},"\u5fae\u4fe1\u5916"))),m.a.createElement(Zn.a.Item,{label:"\u7edf\u8ba1\u4ee3\u7801"},m.a.createElement(_n.a.TextArea,{placeholder:"\u2014\u2014\u9009\u586b\u2014\u2014",id:"listCode",value:o.listCode})))))}},{key:"componentDidMount",value:function(){this.props.getDomainName(),this.props.getRecommendList()}}]),t}(s.Component),nr=Object(k.b)(function(e){return{recommendList:e.novel.recommend.recommendList,domain_name:e.novel.recommend.domain_name,recommendModal:e.novel.recommend.recommendModal,recommendInfo:e.novel.recommend.recommendInfo}},function(e){return{getDomainName:function(){e(u.getDomainName())},getRecommendList:function(){e(u.getRecommendList())},deleteItem:function(t,n){e(u.deleteItem(t,n))},openRecommendModal:function(){e(u.openRecommendModal())},createRecommendList:function(t,n){e(u.createRecommendList(t,n))},closeRecommendModal:function(){e(u.closeRecommendModal())}}})(tr),ar=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return console.log(this.props),m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},"qew"))}},{key:"componentDidMount",value:function(){_.a.get("https://www.easy-mock.com/mock/5ab30a2c196746052ecd4942/example/news").then(function(e){return console.log(e)})}}]),t}(s.Component),rr=Ga.a.Option,or=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={platformList:[],emptyText:"",modalVisible:!1,platformInfo:{platform:1,gonghao_name:"",seruid:""},title:"\u6dfb\u52a0\u5e73\u53f0"},n.addPlatform=n.addPlatform.bind(Object(Sn.a)(n)),n.changePlatformInfoInput=n.changePlatformInfoInput.bind(Object(Sn.a)(n)),n.submitPlatform=n.submitPlatform.bind(Object(Sn.a)(n)),n.cancelAction=n.cancelAction.bind(Object(Sn.a)(n)),n.editPlatform=n.editPlatform.bind(Object(Sn.a)(n)),n.deletePlatform=n.deletePlatform.bind(Object(Sn.a)(n)),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"getPlatformList",value:function(){var e=this;_.a.get("/platform").then(function(t){var n=t.data,a=n.code,r=n.msg,o=n.data;1===a?e.setState({platformList:o}):e.setState({emptyText:r,platformList:[]})})}},{key:"addPlatform",value:function(){this.setState({modalVisible:!0})}},{key:"changePlatformInfoInput",value:function(e,t){var n=this.state.platformInfo;n[t]=e,this.setState({platformInfo:n})}},{key:"submitPlatform",value:function(){var e=this.state.platformInfo;e._id?this.updatePlatform(e):this.createPlatform(e)}},{key:"createPlatform",value:function(e){var t=this;N.a.confirm({title:"\u60a8\u786e\u8ba4\u521b\u5efa\u4e00\u6761\u65b0\u7684\u5185\u5bb9\u5417\uff1f",onOk:function(){_.a.post("/platform",Object(f.a)({},e)).then(function(e){var n=e.data,a=n.code,r=n.msg;1===a?(T.a.success(r),t.getPlatformList(),t.cancelAction()):T.a.error(r)})}})}},{key:"updatePlatform",value:function(e){var t=this;N.a.confirm({title:"\u60a8\u786e\u8ba4\u4fdd\u5b58\u8fd9\u6b21\u4fee\u6539\u5417\uff1f",onOk:function(){_.a.put("/platform",Object(f.a)({},e)).then(function(e){var n=e.data,a=n.code,r=n.msg;1===a?(T.a.success(r),t.getPlatformList(),t.cancelAction()):T.a.error(r)})}})}},{key:"cancelAction",value:function(){this.setState({modalVisible:!1,platformInfo:{platform:"",gonghao_name:"",seruid:""}})}},{key:"editPlatform",value:function(e){this.setState({platformInfo:e,modalVisible:!0})}},{key:"deletePlatform",value:function(e){var t=this;N.a.confirm({title:"\u786e\u5b9a\u5220\u9664\u8fd9\u6761\u5185\u5bb9\u5417\uff1f",onOk:function(){_.a.delete("/platform",{params:{id:e}}).then(function(e){var n=e.data,a=n.code,r=n.msg;1===a?(T.a.success(r),t.getPlatformList()):T.a.eroor(r)})}})}},{key:"UNSAFE_componentWillMount",value:function(){this.getPlatformList()}},{key:"render",value:function(){var e=this,t=this.state,n=t.platformList,a=t.emptyText,r=t.modalVisible,o=t.platformInfo,i=t.title,l=[{dataIndex:"platform",key:"platform",title:"\u5e73\u53f0\u540d\u79f0",align:"center",render:function(e){return 1===e?"\u9605\u6587":2===e?"\u817e\u6587":"\u65e0"}},{dataIndex:"gonghao_name",key:"gonghao_name",title:"\u516c\u53f7\u540d\u79f0",align:"center"},{dataIndex:"seruid",key:"seruid",title:"\u516c\u53f7id",align:"center"},{title:"\u64cd\u4f5c",key:"action",align:"center",render:function(t,n,a){return m.a.createElement("div",null,m.a.createElement(Jn,{onClick:function(){return e.editPlatform(Object(f.a)({},n))},buttonContent:"\u7f16\u8f91"}),m.a.createElement(Jn,{onClick:function(){return e.deletePlatform(n._id)},background:"danger",buttonContent:"\u5220\u9664"}))}}];return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement(Jn,{mb:20,size:"default",onClick:this.addPlatform,background:"success",buttonContent:"\u6dfb\u52a0"}),m.a.createElement(Pn.a,{rowKey:function(e){return e._id},columns:l,dataSource:n,locale:{emptyText:a},size:"small"})),m.a.createElement(N.a,{title:i,visible:r,onOk:this.submitPlatform,onCancel:this.cancelAction},m.a.createElement(Zn.a,{labelCol:{span:6},wrapperCol:{span:14}},m.a.createElement(Zn.a.Item,{label:"\u5e73\u53f0\u540d\u79f0"},m.a.createElement(Ga.a,{value:o.platform,onChange:function(t){return e.changePlatformInfoInput(t,"platform")}},m.a.createElement(rr,{value:1},"\u9605\u6587"),m.a.createElement(rr,{value:2},"\u817e\u6587"))),m.a.createElement(Zn.a.Item,{label:"\u516c\u53f7\u540d\u79f0"},m.a.createElement(_n.a,{value:o.gonghao_name,onChange:function(t){return e.changePlatformInfoInput(t.target.value,"gonghao_name")}})),m.a.createElement(Zn.a.Item,{label:"\u516c\u53f7id"},m.a.createElement(_n.a,{value:o.seruid,onChange:function(t){return e.changePlatformInfoInput(t.target.value,"seruid")}})))))}}]),t}(s.Component),ir=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={td_url:""},n.changeTdUrlInput=n.changeTdUrlInput.bind(Object(Sn.a)(n)),n.submitInput=n.submitInput.bind(Object(Sn.a)(n)),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"changeTdUrlInput",value:function(e){var t=e.target.value;this.setState({td_url:t})}},{key:"submitInput",value:function(){var e=this,t=this.state.td_url;t?_.a.post("/platform/liantiao",{td_url:t}).then(function(t){var n=t.data.msg;T.a.success(n),e.setState({td_url:""})}):T.a.error("\u94fe\u63a5\u4e0d\u80fd\u4e3a\u7a7a")}},{key:"render",value:function(){var e=this.state.td_url;return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement(Zn.a,{labelCol:{span:2},wrapperCol:{span:14}},m.a.createElement(Zn.a.Item,{label:"\u94fe\u63a5"},m.a.createElement(_n.a.TextArea,{autoSize:{minRows:3},spellCheck:!1,value:e,onChange:this.changeTdUrlInput,allowClear:!0})),m.a.createElement(Zn.a.Item,{label:" ",colon:!1},m.a.createElement(Jn,{size:"default",onClick:this.submitInput,background:"success",buttonContent:"\u63d0\u4ea4"})))))}}]),t}(s.Component),lr=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement(I.b,{path:"/admin/novel"},m.a.createElement(I.d,null,m.a.createElement(I.b,{path:"/admin/novel/novelLinks/index",component:Ha}),m.a.createElement(I.b,{path:"/admin/novel/novelLinks/create",component:Za}),m.a.createElement(I.b,{path:"/admin/novel/novelLinks/update",component:Za}),m.a.createElement(I.b,{path:"/admin/novel/novelSpread",component:er}),m.a.createElement(I.b,{path:"/admin/novel/channel",component:or}),m.a.createElement(I.b,{path:"/admin/novel/liantiao",component:ir}),m.a.createElement(I.b,{path:"/admin/novel/recommend/index",component:nr}),m.a.createElement(I.b,{path:"/admin/novel/recommend/recommendList/:recommendInfo",component:ar}),m.a.createElement(I.a,{from:"/admin/novel",exact:!0,to:"/admin/novel/novelLinks"}),m.a.createElement(I.a,{from:"/admin/novel/novelLinks",exact:!0,to:"/admin/novel/novelLinks/index"}),m.a.createElement(I.a,{from:"/admin/novel/recommend",exact:!0,to:"/admin/novel/recommend/index"}))))}}]),t}(s.Component),cr=n(480),ur=n(481),sr=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={channelList:[],channel:"",index:-1,channelInput:""},n.changeChannelInput=n.changeChannelInput.bind(Object(Sn.a)(n)),n.createChannel=n.createChannel.bind(Object(Sn.a)(n)),n.cancelUpdate=n.cancelUpdate.bind(Object(Sn.a)(n)),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.channelList,a=t.channel,r=t.index,o=t.channelInput,i=[{key:"id",dataIndex:"id",title:"id",align:"center"},{key:"name",dataIndex:"name",title:"\u6e20\u9053\u540d\u79f0",align:"center",width:500,render:function(t,n,a){return r===a?m.a.createElement("div",null,m.a.createElement(_n.a,{size:"small",style:{width:200,marginRight:10},value:o,onChange:function(t){return e.changeUpdateInput(t.target.value)}}),m.a.createElement(Jn,{onClick:function(){return e.submitUpdate(n._id)},buttonContent:"\u786e\u5b9a"}),m.a.createElement(Jn,{background:"info",onClick:e.cancelUpdate,buttonContent:"\u53d6\u6d88"})):m.a.createElement("span",null,t)}},{key:"Action",title:"ACtion",align:"center",width:300,render:function(t,n,a){return m.a.createElement("div",null,m.a.createElement(Jn,{mr:10,onClick:function(){return e.changeUpdateState(a,n)},buttonContent:"\u7f16\u8f91"}),m.a.createElement(Jn,{background:"danger",onClick:function(){return e.deleteChannel(n._id,a)},buttonContent:"\u5220\u9664"}))}}];return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement(cr.a,{style:{marginBottom:20}},m.a.createElement(ur.a,{span:5},m.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u6e20\u9053\u540d\u79f0",value:a,onChange:this.changeChannelInput})),m.a.createElement(ur.a,{span:4},m.a.createElement(Jn,{onClick:this.createChannel,buttonContent:"\u521b\u5efa",size:"default"}))),m.a.createElement(Pn.a,{size:"small",rowKey:function(e){return e._id},columns:i,dataSource:n})))}},{key:"componentDidMount",value:function(){this.getChannelList()}},{key:"getChannelList",value:function(){var e=this;_.a.get("/channel").then(function(t){if(t.data.success){var n=t.data.data.reverse();e.setState({channelList:n})}})}},{key:"changeChannelInput",value:function(e){var t=e.target.value;this.setState({channel:t})}},{key:"createChannel",value:function(){var e=this,t=this.state.channel;t.trim()?N.a.confirm({title:"\u786e\u5b9a\u521b\u5efa\u4e00\u4e2a\u65b0\u6e20\u9053\u5417\uff1f",onOk:function(){_.a.post("/channel",{name:t.trim()}).then(function(t){if(t.data.success){var n=t.data.data;T.a.success(t.data.success),e.setState(function(e){return{channelList:[n].concat(Object(L.a)(e.channelList)),channel:""}})}else T.a.info(t.data.err)})}}):T.a.info("\u6e20\u9053\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a")}},{key:"changeUpdateInput",value:function(e){console.log(e),this.setState({channelInput:e})}},{key:"changeUpdateState",value:function(e,t){this.setState({channelInput:t.name,index:e})}},{key:"submitUpdate",value:function(e){var t=this,n=this.state,a=n.channelInput,r=n.index,o=n.channelList;a.trim()?N.a.confirm({title:"\u786e\u8ba4\u63d0\u4ea4\u4fee\u6539\u5417\uff1f",onOk:function(){_.a.put("/channel",{name:a,_id:e}).then(function(e){e.data.success?(T.a.success(e.data.success),o.splice(r,1,e.data.data),t.setState({channelList:o}),t.cancelUpdate()):T.a.info(e.data.err)})}}):T.a.error("\u6e20\u9053\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a")}},{key:"deleteChannel",value:function(e,t){var n=this,a=this.state.channelList;N.a.confirm({title:"\u786e\u5b9a\u5220\u9664\u8fd9\u4e2a\u6e20\u9053\u5417\uff1f",onOk:function(){_.a.delete("/channel",{params:{id:e}}).then(function(e){T.a.success(e.data.success),a.splice(t,1),n.setState({channelList:a})})}})}},{key:"cancelUpdate",value:function(){this.setState({index:-1,channelInput:""})}}]),t}(s.Component),mr=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={advertiseList:[]},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state.advertiseList,n=[{key:"id",dataIndex:"id",title:"\u7d20\u6750id",align:"center"},{key:"title",dataIndex:"title",title:"\u7d20\u6750\u6807\u9898",align:"center"},{key:"novelLink",dataIndex:"novelLink",title:"\u5c0f\u8bf4\u94fe\u63a5",align:"center",width:500},{title:"Action",align:"center",width:160,render:function(t,n,a){return m.a.createElement("div",null,m.a.createElement(Jn,{background:"update",mr:10,buttonContent:m.a.createElement(E.b,{to:{pathname:"./update",query:n}},"\u4fee\u6539")}),m.a.createElement(Jn,{background:"danger",onClick:function(){return e.deleteAdvertise(n._id,a)},buttonContent:"\u5220\u9664"}))}}];return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement(Jn,{size:"default",background:"success",mb:20,buttonContent:m.a.createElement(E.b,{to:"./create"},"\u6dfb\u52a0\u7d20\u6750")}),m.a.createElement(Pn.a,{rowKey:function(e){return e._id},size:"small",bordered:!0,columns:n,dataSource:t})))}},{key:"componentDidMount",value:function(){this.getAdvertiseList()}},{key:"getAdvertiseList",value:function(){var e=this;_.a.get("/adMaterial").then(function(t){if(1===t.data.code){var n=t.data.data.reverse();e.setState({advertiseList:n})}})}},{key:"deleteAdvertise",value:function(e,t){var n=this,a=this.state.advertiseList;N.a.confirm({title:"\u786e\u5b9a\u5220\u9664\u8fd9\u6761\u7d20\u6750\u5417\uff1f",onOk:function(){_.a.delete("/adMaterial",{params:{id:e}}).then(function(e){T.a.info(e.data.msg),a.splice(t,1),n.setState({advertiseList:a})})}})}}]),t}(s.Component),dr={imgList:[],advertiseInfo:{url:"",weight:"",sign:""},isUpdate:!1,index:null,isSubmit:!1,title:"",novelLink:""},gr=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).state=Object(f.a)({},dr),n.add=n.add.bind(Object(Sn.a)(n)),n.save=n.save.bind(Object(Sn.a)(n)),n.cancelEdit=n.cancelEdit.bind(Object(Sn.a)(n)),n.submitAdvertise=n.submitAdvertise.bind(Object(Sn.a)(n)),n.changeTitleInput=n.changeTitleInput.bind(Object(Sn.a)(n)),n.openAdvertiseModal=n.openAdvertiseModal.bind(Object(Sn.a)(n)),n.closeAdvertiseModal=n.closeAdvertiseModal.bind(Object(Sn.a)(n)),n.changeNovelLinkInput=n.changeNovelLinkInput.bind(Object(Sn.a)(n)),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.history.location.query;e&&this.initData(e)}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.advertiseInfo,r=n.imgList,o=n.isUpdate,i=n.isSubmit,l=n.title,c=n.novelLink,u=[{key:"url",dataIndex:"url",title:"\u56fe\u7247\u5730\u5740",align:"center",width:300},{key:"sign",dataIndex:"sign",title:"\u6807\u8bc6",align:"center"},{key:"weight",dataIndex:"weight",title:"\u6743\u91cd",align:"center"},{title:"Action",align:"center",width:80,render:function(e,n,a){return m.a.createElement("div",null,m.a.createElement(Vn.a,{style:{marginBottom:10},size:"small",type:"primary",onClick:function(){return t.updateAdvertise(n,a)}},"\u4fee\u6539"),m.a.createElement(Vn.a,{size:"small",type:"danger",onClick:function(){return t.deleteAdvertise(a)}},"\u5220\u9664"))}}];return e=o?m.a.createElement(Vn.a,{onClick:this.save},"\u4fdd\u5b58"):m.a.createElement(Vn.a,{onClick:this.add},"\u6dfb\u52a0"),m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"title-wrapper"},m.a.createElement("h2",null,"\u7f16\u8f91\u5e7f\u544a\u7d20\u6750"),m.a.createElement("div",{className:"fr"},m.a.createElement(Vn.a,{type:"primary",style:{marginRight:10},onClick:this.openAdvertiseModal},"\u63d0\u4ea4"),m.a.createElement(Vn.a,{onClick:this.cancelEdit},"\u53d6\u6d88"))),m.a.createElement(Zn.a,{className:"fl",style:{width:"40%"},labelCol:{sm:4},wrapperCol:{sm:18,offset:0}},m.a.createElement(Zn.a.Item,{label:"\u56fe\u7247\u5730\u5740"},m.a.createElement(_n.a.TextArea,{value:a.url,placeholder:"\u8bf7\u8f93\u5165\u56fe\u7247\u5730\u5740",onChange:function(e){return t.changeInputValue(e.target.value,"url")}})),m.a.createElement(Zn.a.Item,{label:"\u6807\u8bc6"},m.a.createElement(_n.a,{value:a.sign,placeholder:"\u8bf7\u8f93\u5165\u6807\u8bc6",onChange:function(e){return t.changeInputValue(e.target.value,"sign")}})),m.a.createElement(Zn.a.Item,{label:"\u6743\u91cd"},m.a.createElement(_n.a,{value:a.weight,placeholder:"\u8bf7\u8f93\u5165\u6743\u91cd",onChange:function(e){return t.changeInputValue(e.target.value,"weight")}})),m.a.createElement(Zn.a.Item,{label:" ",colon:!1},e)),m.a.createElement(Pn.a,{className:"fl",style:{width:"60%"},rowKey:function(e,t){return t},size:"small",bordered:!0,dataSource:r,columns:u})),m.a.createElement(N.a,{visible:i,onOk:this.submitAdvertise,onCancel:this.closeAdvertiseModal,cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"},m.a.createElement(Zn.a,{labelCol:{sm:4},wrapperCol:{sm:18,offset:0}},m.a.createElement(Zn.a.Item,{label:"\u6807\u9898"},m.a.createElement(_n.a,{value:l,placeholder:"\u8bf7\u8f93\u5165\u7d20\u6750\u6807\u9898",onChange:this.changeTitleInput})),m.a.createElement(Zn.a.Item,{label:"\u5c0f\u8bf4\u94fe\u63a5"},m.a.createElement(_n.a,{value:c,placeholder:"\u8bf7\u8f93\u5165\u5c0f\u8bf4\u94fe\u63a5",onChange:this.changeNovelLinkInput})))))}},{key:"initData",value:function(e){this.setState(function(t){return Object(f.a)({},t,e)})}},{key:"changeInputValue",value:function(e,t){var n=this.state.advertiseInfo;n[t]=e.trim(),this.setState({advertiseInfo:n})}},{key:"changeTitleInput",value:function(e){this.setState({title:e.target.value.trim()})}},{key:"changeNovelLinkInput",value:function(e){this.setState({novelLink:e.target.value.trim()})}},{key:"add",value:function(){var e=this.state,t=e.advertiseInfo,n=e.imgList;t.url&&t.weight&&t.sign?(n.push(Object(f.a)({},t)),this.setState({imgList:n,advertiseInfo:{url:"",weight:"",sign:""}})):T.a.info("\u8f93\u5165\u6709\u8bef\uff0c\u8bf7\u68c0\u67e5")}},{key:"save",value:function(){var e=this.state,t=e.advertiseInfo,n=e.imgList,a=e.index;t.url&&t.weight&&t.sign?(n.splice(a,1,Object(f.a)({},t)),this.setState({imgList:n,isUpdate:!1,advertiseInfo:{url:"",weight:"",sign:""}})):T.a.info("\u8f93\u5165\u6709\u8bef\uff0c\u8bf7\u68c0\u67e5")}},{key:"updateAdvertise",value:function(e,t){this.setState({advertiseInfo:Object(f.a)({},e),index:t,isUpdate:!0})}},{key:"deleteAdvertise",value:function(e){var t=this.state.imgList;t.splice(e,1),this.setState({imgList:t})}},{key:"submitAdvertise",value:function(){var e=this,t=this.state,n=t.imgList,a=t.title,r=t.novelLink,o=t._id;this.props.history.location.query?_.a.put("/adMaterial",{imgList:n,title:a,novelLink:r,_id:o}).then(function(t){1===t.data.code?(T.a.info(t.data.msg),e.cancelEdit()):T.a.info(t.data.msg)}):_.a.post("/adMaterial",{imgList:n,title:a,novelLink:r}).then(function(t){1===t.data.code?(T.a.info(t.data.msg),e.cancelEdit()):T.a.info(t.data.msg)})}},{key:"closeAdvertiseModal",value:function(){this.setState({isSubmit:!1})}},{key:"openAdvertiseModal",value:function(){this.setState({isSubmit:!0})}},{key:"cancelEdit",value:function(){this.resetState(),this.props.history.goBack()}},{key:"resetState",value:function(){this.setState(Object(f.a)({},dr))}},{key:"componentWillUnmount",value:function(){this.resetState()}}]),t}(s.Component),fr=Fn.a.TabPane,hr=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={spreadData:[],domain_names:[],tagList:[],dataList:[]},n.changeTab=n.changeTab.bind(Object(Sn.a)(n)),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.spreadData,a=t.tagList.map(function(e){return m.a.createElement(fr,{tab:e.name,key:e.name})}),r=[{key:"links",title:"\u94fe\u63a5",align:"center",width:280,render:function(e,t){return m.a.createElement("p",{style:{width:280,wordWrap:"break-word"}},"http://doumobone.top/transfer/"+t.id)}},{key:"group",dataIndex:"group",title:"\u5206\u7ec4",align:"center",width:120},{key:"title",dataIndex:"title",title:"\u6807\u9898",align:"center"},{key:"remarks",dataIndex:"remarks",title:"\u5907\u6ce8",align:"center",width:100,render:function(e){return e||"\u65e0"}},{title:"\u6570\u636e",align:"center",width:80,render:function(e,t){return m.a.createElement("a",{href:"http://doumobone.top/transfer/"+t.id,target:"_blank"},"\u67e5\u770b\u6570\u636e")}},{title:"\u7f6e\u9876",align:"center",width:80,render:function(t,n){return m.a.createElement(Jn,{background:"warning",onClick:function(){return e.goTop(n._id)},buttonContent:"\u7f6e\u9876"})}},{title:"Action",align:"center",width:200,render:function(t,n,a){return m.a.createElement("div",null,m.a.createElement(Jn,{buttonContent:m.a.createElement(E.b,{to:{pathname:"./update",query:Object(f.a)({},n)}},"\u4fee\u6539")}),m.a.createElement(Jn,{background:"danger",buttonContent:"\u5220\u9664",onClick:function(){return e.deleteLink(n._id,a)}}),m.a.createElement(Jn,{background:"success",mr:0,buttonContent:"\u590d\u5236",onClick:function(){return e.copyLink(Object(f.a)({},n))}}))}}];return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement(Jn,{size:"default",background:"success",mb:20,buttonContent:m.a.createElement(E.b,{to:"./create"},"\u6dfb\u52a0\u65b0\u94fe\u63a5")}),m.a.createElement(Fn.a,{animated:!1,defaultActiveKey:"ALL",tabBarGutter:0,onChange:this.changeTab,size:"small"},m.a.createElement(fr,{tab:"ALL",key:"ALL"}),a),m.a.createElement(Pn.a,{rowKey:function(e){return e._id},size:"small",bordered:!0,columns:r,dataSource:n})))}},{key:"componentDidMount",value:function(){this.getSpreadList(),this.getTagList()}},{key:"getSpreadList",value:function(){var e=this;_.a.get("/transfer").then(function(t){var n=t.data.messages,a=t.data.domain_names;e.setState({spreadData:n,dataList:n,domain_names:a})})}},{key:"getTagList",value:function(){var e=this;_.a.get("/tuiguangTag").then(function(t){var n=t.data.data;e.setState({tagList:n})})}},{key:"changeTab",value:function(e){var t=this.state.dataList;if("ALL"===e)this.setState({spreadData:t});else{for(var n=[],a=0;a<t.length;a++)e===t[a].group&&n.push(t[a]);this.setState({spreadData:[].concat(n)})}}},{key:"goTop",value:function(e){var t=this;N.a.confirm({title:"\u786e\u5b9a\u7f6e\u9876\u8fd9\u6761\u94fe\u63a5\u5417\uff1f",onOk:function(){_.a.post("/transfer/goTop",{id:e}).then(function(e){T.a.info(e.data.success),t.getSpreadList()})}})}},{key:"deleteLink",value:function(e,t){var n=this,a=this.state.spreadData;N.a.confirm({title:"\u786e\u8ba4\u5220\u9664\u8fd9\u6761\u5185\u5bb9\u5417\uff1f:",onOk:function(){_.a.get("/transfer/delete",{params:{id:e}}).then(function(e){T.a.info(e.data.success),a.splice(t,1),n.setState({spreadData:a})})}})}},{key:"copyLink",value:function(e){var t=this;e.id+="_copy";var n=this.state.spreadData;N.a.confirm({title:"\u786e\u5b9a\u590d\u5236\u4e00\u6761\u63a8\u5e7f\u94fe\u63a5\u5417\uff1f",onOk:function(){_.a.post("/transfer/create",Object(f.a)({},e)).then(function(e){e.data.success?(T.a.info("\u590d\u5236\u6210\u529f"),n.unshift(e.data.data),t.setState({spreadData:n})):T.a.info(e.data.err)})}})}}]),t}(s.Component),pr=n(492),vr={spreadLinkInfo:{id:"",title:"",links:[],weights:[],back_urls:[],link:"",back_url:"",weight:"",type:!1,status:!1,granularity:1,group:"",remarks:""},tagList:[],index:-1},br=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).state=JSON.parse(JSON.stringify(vr)),n.addTag=n.addTag.bind(Object(Sn.a)(n)),n.cancelSelectTag=n.cancelSelectTag.bind(Object(Sn.a)(n)),n.cancelEdit=n.cancelEdit.bind(Object(Sn.a)(n)),n.submitSpreadLink=n.submitSpreadLink.bind(Object(Sn.a)(n)),n.cancelUpdate=n.cancelUpdate.bind(Object(Sn.a)(n)),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.history.location.query;e&&this.initData(e),this.getTagList()}},{key:"render",value:function(){var e,t,n,a,r,o=this,i=this.state,l=i.spreadLinkInfo,c=i.tagList,u=i.index,d=l.id,g=l.title,f=l.links,h=l.weights,p=l.back_urls,v=l.link,b=l.back_url,y=l.weight,k=l.type,E=l.status,I=l.granularity,C=l.group,M=l.remarks;return f.length>0&&(t=m.a.createElement(Zn.a.Item,{label:"\u94fe\u63a5\u7ec4"},m.a.createElement(pr.a,{size:"small",bordered:!0,dataSource:f,renderItem:function(e,t){return m.a.createElement(pr.a.Item,{actions:[m.a.createElement("span",{className:"cursor",style:{color:"#f00"},onClick:function(){return o.delLink(t,"links")}},"del")]},e)}}))),p.length>0&&(n=m.a.createElement(Zn.a.Item,{label:"\u8fd4\u56de\u94fe\u63a5\u7ec4"},m.a.createElement(pr.a,{size:"small",bordered:!0,dataSource:p,renderItem:function(e,t){return m.a.createElement(pr.a.Item,{actions:[m.a.createElement("span",{className:"cursor",style:{color:"#f00"},onClick:function(){return o.delLink(t,"back_urls")}},"del")]},e)}}))),h.length>0&&(a=m.a.createElement(Zn.a.Item,{label:"\u6743\u91cd\u7ec4"},m.a.createElement(pr.a,{size:"small",bordered:!0,dataSource:h,renderItem:function(e,t){var n;return n=u===t?[m.a.createElement("span",{className:"cursor",style:{color:"#f00"},onClick:o.cancelUpdate},"\u53d6\u6d88")]:[m.a.createElement("span",{className:"cursor",style:{color:"#f00"},onClick:function(e){return o.delLink(t,"weights",e)}},"\u5220\u9664")],m.a.createElement(pr.a.Item,{onClick:function(){return o.updateWeight(t)},actions:n},u===t?m.a.createElement(_n.a.Search,{size:"small",enterButton:"\u4fdd\u5b58",onSearch:function(e,t){return o.saveUpdate(e,t)}}):e)}}))),k&&(e=m.a.createElement(s.Fragment,null,m.a.createElement(Zn.a.Item,{label:"\u6743\u91cd"},m.a.createElement(_n.a.Search,{value:y,enterButton:"\u6dfb\u52a0",placeholder:"\u8bf7\u8f93\u5165\u6743\u91cd",onChange:function(e){return o.changeInputValue(e.target.value,"weight")},onSearch:function(e){return o.addLink(e,"weights","weight")}})),a,m.a.createElement(Zn.a.Item,{label:"\u6295\u653e\u72b6\u6001"},m.a.createElement($n.a,{checked:E,onChange:function(e){return o.changeInputValue(e,"status")}})),m.a.createElement(Zn.a.Item,{label:"\u65f6\u95f4\u9897\u7c92\u5ea6"},m.a.createElement(Ua.a,{min:1,value:I,placeholder:"\u8bf7\u8f93\u5165\u6807\u9898",onChange:function(e){return o.changeInputValue(e,"granularity")}})))),r=C?m.a.createElement(Xn.a,{closable:!0,onClose:this.cancelSelectTag},C):m.a.createElement(_n.a.Search,{enterButton:"\u786e\u5b9a",placeholder:"\u8bf7\u8f93\u5165\u6807\u7b7e",onSearch:this.addTag}),m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"title-wrapper"},m.a.createElement("h2",null,"\u7f16\u8f91\u63a8\u5e7f\u94fe\u63a5"),m.a.createElement("div",{className:"fr"},m.a.createElement(Vn.a,{type:"primary",style:{marginRight:10},onClick:this.submitSpreadLink},"\u63d0\u4ea4"),m.a.createElement(Vn.a,{onClick:this.cancelEdit},"\u53d6\u6d88"))),m.a.createElement(Zn.a,{className:"fl",style:{width:"60%",borderRight:"1px solid #eee"},labelCol:{sm:3},wrapperCol:{sm:18,offset:0},colon:!1},m.a.createElement(Zn.a.Item,{label:"id"},m.a.createElement(_n.a,{value:d,placeholder:"\u8bf7\u8f93\u5165id",onChange:function(e){return o.changeInputValue(e.target.value,"id")}})),m.a.createElement(Zn.a.Item,{label:"\u6807\u9898"},m.a.createElement(_n.a,{value:g,placeholder:"\u8bf7\u8f93\u5165\u6807\u9898",onChange:function(e){return o.changeInputValue(e.target.value,"title")}})),m.a.createElement(Zn.a.Item,{label:"\u94fe\u63a5"},m.a.createElement(_n.a.Search,{value:v,enterButton:"\u6dfb\u52a0",placeholder:"\u8bf7\u8f93\u5165\u94fe\u63a5",onChange:function(e){return o.changeInputValue(e.target.value,"link")},onSearch:function(e){return o.addLink(e,"links","link")}})),t,m.a.createElement(Zn.a.Item,{label:"\u8fd4\u56de\u94fe\u63a5"},m.a.createElement(_n.a.Search,{value:b,enterButton:"\u6dfb\u52a0",placeholder:"\u8bf7\u8f93\u5165\u8fd4\u56de\u94fe\u63a5",onChange:function(e){return o.changeInputValue(e.target.value,"back_url")},onSearch:function(e){return o.addLink(e,"back_urls","back_url")}})),n,m.a.createElement(Zn.a.Item,{label:"\u9009\u62e9\u6807\u7b7e"},r),m.a.createElement(Zn.a.Item,{label:"\u6807\u7b7e\u9009\u9879"},c.map(function(e,t){return m.a.createElement(Xn.a,{className:"cursor",closable:!0,onClose:function(n){return o.deleteTag(n,e._id,t)},key:e._id,onClick:function(){return o.selectTag(e.name)}},e.name)}))),m.a.createElement(Zn.a,{className:"fl",style:{width:"36%",paddingLeft:"4%"},labelCol:{sm:7},wrapperCol:{sm:17,offset:0},colon:!1},m.a.createElement(Zn.a.Item,{label:"\u662f\u5426\u589e\u52a0\u6743\u91cd"},m.a.createElement($n.a,{checked:k,onChange:function(e){return o.changeInputValue(e,"type")}})),e,m.a.createElement(Zn.a.Item,{label:"\u94fe\u63a5\u5907\u6ce8"},m.a.createElement(_n.a,{value:M,placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8",onChange:function(e){return o.changeInputValue(e.target.value,"remarks")}})))))}},{key:"initData",value:function(e){e.type=1===e.type,e.status=1===e.status,this.setState(function(t){return{spreadLinkInfo:Object(f.a)({},t.spreadLinkInfo,e)}})}},{key:"changeInputValue",value:function(e,t){var n=this.state.spreadLinkInfo;n[t]=e,this.setState({spreadLinkInfo:n})}},{key:"addLink",value:function(e,t,n){var a=this.state.spreadLinkInfo;e.trim()?(a[t].push(e.trim()),a[n]="",this.setState(function(e){return{spreadLinkInfo:Object(f.a)({},e.spreadLinkInfo,a)}})):T.a.error("\u94fe\u63a5\u4e0d\u80fd\u4e3a\u7a7a")}},{key:"delLink",value:function(e,t,n){n&&n.stopPropagation();var a=this.state.spreadLinkInfo;a[t].splice(e,1),this.setState(function(e){return{spreadLinkInfo:Object(f.a)({},e.spreadLinkInfo,a)}})}},{key:"updateWeight",value:function(e){this.setState({index:e})}},{key:"saveUpdate",value:function(e,t){t.stopPropagation();var n=this.state,a=n.spreadLinkInfo,r=n.index;a.weights.splice(r,1,e),this.setState(function(e){return{spreadLinkInfo:Object(f.a)({},e.spreadLinkInfo,a),index:-1}})}},{key:"cancelUpdate",value:function(e){e.stopPropagation(),this.setState({index:-1})}},{key:"getTagList",value:function(){var e=this;_.a.get("/tuiguangTag").then(function(t){var n=t.data.data;e.setState({tagList:n})})}},{key:"addTag",value:function(e){var t=this,n=this.state.spreadLinkInfo;e.trim()?_.a.post("/tuiguangTag",{name:e.trim()}).then(function(a){if(0===a.data.exist){var r=a.data.data;t.setState(function(e){return{tagList:[].concat(Object(L.a)(e.tagList),[r])}})}n.group=e,t.setState(function(e){return{spreadLinkInfo:Object(f.a)({},e.spreadLinkInfo,n)}})}):T.a.error("\u6807\u7b7e\u540d\u4e0d\u80fd\u4e3a\u7a7a")}},{key:"selectTag",value:function(e){var t=this.state.spreadLinkInfo;t.group=e,this.setState(function(e){return{spreadLinkInfo:Object(f.a)({},e.spreadLinkInfo,t)}})}},{key:"cancelSelectTag",value:function(){var e=this.state.spreadLinkInfo;e.group="",this.setState(function(t){return{spreadLinkInfo:Object(f.a)({},t.spreadLinkInfo,e)}})}},{key:"deleteTag",value:function(e,t,n){var a=this;e.stopPropagation();var r=this.state.tagList;_.a.delete("/tuiguangTag",{params:{id:t}}).then(function(e){r.splice(n,1),a.setState({tagList:r})})}},{key:"submitSpreadLink",value:function(){var e=this,t=this.props.history.location.query,n=this.state.spreadLinkInfo;n.type=n.type?1:0,n.status=n.status?1:0;var a="/transfer/create";t&&(a="/transfer/update"),N.a.confirm({title:"\u786e\u5b9a\u63d0\u4ea4\u5417\uff1f",onOk:function(){_.a.post(a,Object(f.a)({},n)).then(function(t){t.data.success?(T.a.info(t.data.success),e.cancelEdit()):T.a.info(t.data.err)})}})}},{key:"cancelEdit",value:function(){this.props.history.goBack(),this.resetState()}},{key:"resetState",value:function(){this.setState(Object(f.a)({},JSON.parse(JSON.stringify(vr))))}},{key:"componentWillUnmount",value:function(){this.resetState()}}]),t}(s.Component),yr=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={zsyData:[],domain_name:"",linkModal:!1,linkInfo:{}},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"getLinks",value:function(){var e=this;_.a.get("/zsy").then(function(t){var n=t.data,a=n.code,r=n.data,o=n.domain_name;1===a?e.setState({zsyData:r,domain_name:o}):e.setState({zsyData:[],domain_name:o})})}},{key:"deleteLink",value:function(e){var t=this;N.a.confirm({title:"\u786e\u5b9a\u5220\u9664\u8fd9\u6761\u5185\u5bb9\u5417\uff1f",onOk:function(){_.a.delete("/zsy",{params:{_id:e}}).then(function(e){var n=e.data,a=n.code,r=n.msg;1===a?(t.getLinks(),T.a.success(r)):T.a.error(r)})}})}},{key:"changeInputValue",value:function(e,t){var n=this.state.linkInfo;n[t]=e,this.setState({linkInfo:n})}},{key:"openUpdateModal",value:function(e){this.setState({linkInfo:e,linkModal:!0})}},{key:"cancelAction",value:function(){this.setState({linkInfo:{},linkModal:!1})}},{key:"submitLink",value:function(){var e=this.state.linkInfo;e._id?this.updateLink(e):this.createLink(e)}},{key:"createLink",value:function(e){var t=this;N.a.confirm({title:"\u786e\u5b9a\u65b0\u5efa\u4e00\u6761\u5185\u5bb9\uff1f",onOk:function(){_.a.post("/zsy",e).then(function(e){var n=e.data,a=n.code,r=n.msg;1===a?(t.cancelAction(),t.getLinks(),T.a.success(r)):T.a.error(r)})}})}},{key:"updateLink",value:function(e){var t=this;N.a.confirm({title:"\u786e\u5b9a\u4fee\u6539\u8fd9\u6761\u5185\u5bb9\uff1f",onOk:function(){_.a.put("/zsy",e).then(function(e){var n=e.data,a=n.code,r=n.msg;1===a?(t.cancelAction(),t.getLinks(),T.a.success(r)):T.a.error(r)})}})}},{key:"componentDidMount",value:function(){this.getLinks()}},{key:"render",value:function(){var e=this,t=this.state,n=t.zsyData,a=t.domain_name,r=t.linkModal,o=t.linkInfo,i=[{key:"gonghao_name",dataIndex:"gonghao_name",title:"\u516c\u53f7\u540d\u79f0",align:"center"},{key:"channel_id",dataIndex:"channel_id",title:"\u6e20\u9053id",align:"center"},{key:"tuiguang_link",dataIndex:"tuiguang_link",title:"\u63a8\u5e7f\u94fe\u63a5",align:"center"},{key:"_id",dataIndex:"_id",title:"\u590d\u5236\u94fe\u63a5",align:"center",width:100,render:function(e,t){return m.a.createElement(Va.a,{text:a+"/zsy/"+t._id,onCopy:function(){return T.a.success("\u590d\u5236\u6210\u529f")}},m.a.createElement(Jn,{background:"success",buttonContent:"\u590d\u5236\u94fe\u63a5"}))}},{title:"Action",align:"center",width:200,render:function(t,n,a){return m.a.createElement("div",null,m.a.createElement(Jn,{buttonContent:"\u4fee\u6539",onClick:function(){return e.openUpdateModal(Object(f.a)({},n))}}),m.a.createElement(Jn,{background:"danger",buttonContent:"\u5220\u9664",onClick:function(){return e.deleteLink(n._id)}}))}}];return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement(Jn,{size:"default",background:"success",mb:20,buttonContent:"\u6dfb\u52a0\u65b0\u94fe\u63a5",onClick:function(){return e.setState({linkModal:!0})}}),m.a.createElement(Pn.a,{rowKey:function(e){return e._id},size:"small",bordered:!0,columns:i,dataSource:n}),m.a.createElement(N.a,{visible:r,title:"\u7f16\u8f91\u94fe\u63a5\u4fe1\u606f",onOk:function(){return e.submitLink()},onCancel:function(){return e.cancelAction()}},m.a.createElement(Zn.a,null,m.a.createElement(Zn.a.Item,{label:"\u516c\u53f7\u540d\u79f0"},m.a.createElement(_n.a,{value:o.gonghao_name||"",onChange:function(t){return e.changeInputValue(t.target.value,"gonghao_name")}})),m.a.createElement(Zn.a.Item,{label:"\u6e20\u9053id"},m.a.createElement(_n.a,{value:o.channel_id||"",onChange:function(t){return e.changeInputValue(t.target.value,"channel_id")}})),m.a.createElement(Zn.a.Item,{label:"\u63a8\u5e7f\u94fe\u63a5"},m.a.createElement(_n.a,{value:o.tuiguang_link||"",onChange:function(t){return e.changeInputValue(t.target.value,"tuiguang_link")}}))))))}}]),t}(s.Component),kr=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return m.a.createElement(I.b,{path:"/admin/channel",render:function(){return m.a.createElement(I.d,null,m.a.createElement(I.b,{path:"/admin/channel/manage",component:sr}),m.a.createElement(I.b,{path:"/admin/channel/advertise/index",component:mr}),m.a.createElement(I.b,{path:"/admin/channel/advertise/create",component:gr}),m.a.createElement(I.b,{path:"/admin/channel/advertise/update",component:gr}),m.a.createElement(I.b,{path:"/admin/channel/spread/index",component:hr}),m.a.createElement(I.b,{path:"/admin/channel/spread/create",component:br}),m.a.createElement(I.b,{path:"/admin/channel/spread/update",component:br}),m.a.createElement(I.b,{path:"/admin/channel/zsy",component:yr}),m.a.createElement(I.a,{from:"/admin/channel",exact:!0,to:"/admin/channel/spread"}),m.a.createElement(I.a,{from:"/admin/channel/spread",exact:!0,to:"/admin/channel/spread/index"}),m.a.createElement(I.a,{from:"/admin/channel/advertise",exact:!0,to:"/admin/channel/advertise/index"}))}})}}]),t}(s.Component),Er=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={qrCodeList:[]},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state.qrCodeList,n=[{key:"name",dataIndex:"name",title:"\u4e8c\u7ef4\u7801\u540d\u79f0",align:"center",width:300},{key:"content",dataIndex:"content",title:"\u5173\u6ce8\u540e\u56de\u590d\u5185\u5bb9",align:"center"},{key:"gonghao",dataIndex:"gonghao",title:"\u516c\u53f7",align:"center",width:300},{key:"qr_code_url",dataIndex:"qr_code_url",title:"\u4e8c\u7ef4\u7801",align:"center",width:200,render:function(e,t){return m.a.createElement("img",{style:{width:"100%"},src:e,alt:""})}},{title:"Action",align:"center",width:200,render:function(t,n,a){return m.a.createElement("div",null,m.a.createElement(Vn.a,{style:{marginRight:10},size:"small",type:"primary"},m.a.createElement(E.b,{to:{pathname:"./update",query:n}},"\u4fee\u6539")),m.a.createElement(Vn.a,{size:"small",type:"danger",onClick:function(){return e.deleteQrCode(n._id,a)}},"\u5220\u9664"))}}];return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement(Vn.a,{type:"primary",style:{marginBottom:20}},m.a.createElement(E.b,{to:"./create"},"\u65b0\u589e\u53c2\u6570\u4e8c\u7ef4\u7801")),m.a.createElement(Pn.a,{rowKey:function(e){return e._id},size:"small",bordered:!0,columns:n,dataSource:t})))}},{key:"componentDidMount",value:function(){this.getQrCodeList()}},{key:"getQrCodeList",value:function(){var e=this;_.a.get("/qr_code/show").then(function(t){for(var n=t.data,a=n.codes,r=n.data,o=0,i=a.length;o<i;o++)for(var l=0,c=r.length;l<c;l++)a[o].code===parseInt(r[l].code)&&(r[l].gonghao=a[o].name);e.setState({qrCodeList:r.reverse()})})}},{key:"deleteQrCode",value:function(e,t){var n=this,a=this.state.qrCodeList;N.a.confirm({title:"\u786e\u5b9a\u5220\u9664\u8fd9\u6761\u5185\u5bb9\u5417\uff1f",onOk:function(){_.a.post("/qr_code/deleteOne",{id:e}).then(function(e){T.a.info(e.data.success),a.splice(t,1),n.setState({qrCodeList:a})})}})}}]),t}(s.Component),Ir=Ga.a.Option,Cr={tagList:[],gonghaoList:[],qrCodeInfo:{name:"",content:"",code:null,tagId:null,tagName:""}},Mr=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).state=JSON.parse(JSON.stringify(Cr)),n.cancelSelectTag=n.cancelSelectTag.bind(Object(Sn.a)(n)),n.cancelEdit=n.cancelEdit.bind(Object(Sn.a)(n)),n.submitEdit=n.submitEdit.bind(Object(Sn.a)(n)),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.tagList,a=t.gonghaoList,r=t.qrCodeInfo,o=this.props.history.location.query;return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"title-wrapper"},m.a.createElement("h2",null,"\u7f16\u8f91\u4e8c\u7ef4\u7801\u4fe1\u606f"),m.a.createElement("div",{className:"fr"},m.a.createElement(Vn.a,{type:"primary",style:{marginRight:10},onClick:this.submitEdit},"\u63d0\u4ea4"),m.a.createElement(Vn.a,{onClick:this.cancelEdit},"\u53d6\u6d88"))),m.a.createElement(Zn.a,{className:"fl",style:{width:"40%"},labelCol:{sm:6},wrapperCol:{sm:18}},m.a.createElement(Zn.a.Item,{label:"\u4e8c\u7ef4\u7801\u540d\u79f0"},m.a.createElement(_n.a,{value:r.name,placeholder:"\u8bf7\u8f93\u5165\u4e8c\u7ef4\u7801\u540d\u79f0",onChange:function(t){return e.changeInputValue(t.target.value,"name")}})),m.a.createElement(Zn.a.Item,{label:"\u9009\u62e9\u6807\u7b7e"},r.tagName?m.a.createElement(Xn.a,{className:"cursor",closable:!0,onClose:this.cancelSelectTag},r.tagName):""),m.a.createElement(Zn.a.Item,{label:"\u6807\u7b7e\u9009\u9879"},n.map(function(t){return m.a.createElement(Xn.a,{className:"cursor",key:t._id,onClick:function(){return e.selectTag(t.name,t._id)}},t.name)}))),m.a.createElement(Zn.a,{className:"fl",style:{width:"60%"},labelCol:{sm:6},wrapperCol:{sm:18}},m.a.createElement(Zn.a.Item,{label:"\u5173\u6ce8\u56de\u590d\u5185\u5bb9"},m.a.createElement(_n.a.TextArea,{value:r.content,placeholder:"\u8bf7\u8f93\u5165\u5173\u6ce8\u56de\u590d\u5185\u5bb9",onChange:function(t){return e.changeInputValue(t.target.value,"content")}})),m.a.createElement(Zn.a.Item,{label:"\u9009\u62e9\u516c\u53f7"},m.a.createElement(Ga.a,{showSearch:!0,style:{width:200},placeholder:"\u8f93\u5165\u516c\u53f7/\u9009\u62e9\u516c\u53f7",optionFilterProp:"children",value:r.code?this.getGonghaoName(r.code):r.gonghao,onChange:function(t){return e.changeInputValue(t,"code")},filterOption:function(e,t){return t.props.children.indexOf(e)>=0},disabled:!!o},a.map(function(e){return m.a.createElement(Ir,{key:e._id,value:e.code},e.name)}))))))}},{key:"componentDidMount",value:function(){var e=this.props.history.location.query;this.getGonghaoList(),this.getTagList(),e&&this.initState(e)}},{key:"getGonghaoName",value:function(e){if(e){var t=this.state.gonghaoList.filter(function(t){return t.code===parseInt(e)});return t.length>0&&t[0].name}}},{key:"initState",value:function(e){var t=this;_.a.get("/tag/get_name",{params:{tagId:e.tagId}}).then(function(n){if(n.data.data){var a=n.data.data.name;e.tagName=a,t.setState(function(t){return{qrCodeInfo:Object(f.a)({},e)}})}})}},{key:"getTagList",value:function(){var e=this;_.a.get("/tag").then(function(t){var n=t.data.data;e.setState({tagList:n})})}},{key:"getGonghaoList",value:function(){var e=this;_.a.get("/qr_code/get_code").then(function(t){var n=t.data.codes;e.setState({gonghaoList:n})})}},{key:"changeInputValue",value:function(e,t){var n=this.state.qrCodeInfo;n[t]=e,this.setState(function(e){return{qrCodeInfo:Object(f.a)({},e.qrCodeInfo,n)}})}},{key:"selectTag",value:function(e,t){var n=this.state.qrCodeInfo;n.tagName=e,n.tagId=t,this.setState(function(e){return{qrCodeInfo:Object(f.a)({},e.qrCodeInfo,n)}})}},{key:"cancelSelectTag",value:function(){var e=this.state.qrCodeInfo;e.tagName="",e.tagId=null,this.setState(function(t){return{qrCodeInfo:Object(f.a)({},t.qrCodeInfo,e)}})}},{key:"submitEdit",value:function(){var e=this,t=this.state.qrCodeInfo,n=this.props.history.location.query,a="/qr_code/create";n&&(t.id=t._id,a="/qr_code/update"),N.a.confirm({title:"\u786e\u5b9a\u63d0\u4ea4\u5417\uff1f",onOk:function(){_.a.post(a,Object(f.a)({},t)).then(function(t){t.data.data?(T.a.info(n?"\u4fee\u6539\u6210\u529f":"\u521b\u5efa\u6210\u529f"),e.cancelEdit()):T.a.error(n?"\u4fee\u6539\u5931\u8d25":"\u521b\u5efa\u5931\u8d25")})}})}},{key:"cancelEdit",value:function(){this.props.history.goBack(),this.resetState()}},{key:"resetState",value:function(){this.setState(Object(f.a)({},Cr))}},{key:"componentWillUnmount",value:function(){this.resetState()}}]),t}(s.Component),Lr=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={tag:"",tagList:[]},n.createTag=n.createTag.bind(Object(Sn.a)(n)),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.tag,a=t.tagList,r=[{key:"_id",dataIndex:"_id",title:"\u5e8f\u53f7",align:"center"},{key:"name",dataIndex:"name",title:"\u6807\u7b7e\u540d\u79f0",align:"center"},{title:"Action",align:"center",render:function(t,n,a){return m.a.createElement(Vn.a,{size:"small",type:"danger",onClick:function(){return e.deleteTag(n._id,a)}},"\u5220\u9664")}}];return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement(_n.a.Search,{style:{width:300,marginBottom:20},value:n,onChange:function(t){return e.setState({tag:t.target.value})},enterButton:"\u65b0\u589e\u6807\u7b7e",onSearch:this.createTag}),m.a.createElement(Pn.a,{rowKey:function(e){return e._id},size:"small",bordered:!0,columns:r,dataSource:a})))}},{key:"componentDidMount",value:function(){this.getTagList()}},{key:"getTagList",value:function(){var e=this;_.a.get("/tag").then(function(t){var n=t.data.data;e.setState({tagList:n})})}},{key:"createTag",value:function(){var e=this,t=this.state,n=t.tag,a=t.tagList;N.a.confirm({title:"\u786e\u5b9a\u521b\u5efa\u4e00\u4e2a\u65b0\u6807\u7b7e\u5417\uff1f",onOk:function(){_.a.post("/tag",{name:n}).then(function(t){T.a.info("\u6dfb\u52a0\u6210\u529f"),a.push(t.data.data),e.setState({tagList:a})})}})}},{key:"deleteTag",value:function(e,t){var n=this,a=this.state.tagList;N.a.confirm({title:"\u786e\u8ba4\u5220\u9664\u8fd9\u6761\u5185\u5bb9\u5417\uff1f",onOk:function(){_.a.delete("/tag/"+e).then(function(e){T.a.info("\u5220\u9664\u6210\u529f"),a.splice(t,1),n.setState({tagList:a})})}})}}]),t}(s.Component),Or=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={qiangguanModal:!1,qiangguanList:[],qiangguanInfo:{jumpLink:"",wechatId:""}},n.submitQiangguan=n.submitQiangguan.bind(Object(Sn.a)(n)),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.qiangguanList,a=t.qiangguanModal,r=t.qiangguanInfo,o=[{title:"id",dataIndex:"id",key:"id",align:"center"},{key:"jumpLink",dataIndex:"jumpLink",title:"\u8df3\u8f6c\u94fe\u63a5",align:"center"},{key:"wechatId",dataIndex:"wechatId",title:"\u5fae\u4fe1\u539f\u59cbID",align:"center"},{title:"Action",align:"center",width:160,render:function(t,n,a){return m.a.createElement("div",null,m.a.createElement(Vn.a,{size:"small",type:"primary",style:{marginRight:10},onClick:function(){return e.setState({qiangguanModal:!0,qiangguanInfo:Object(f.a)({},n)})}},"\u4fee\u6539"),m.a.createElement(Vn.a,{size:"small",type:"danger",onClick:function(){return e.deleteLink(n._id,a)}},"\u5220\u9664"))}}];return m.a.createElement("div",null,m.a.createElement(Kn,null),m.a.createElement("div",{className:"container"},m.a.createElement(Vn.a,{style:{marginBottom:20},type:"primary",onClick:function(){return e.setState({qiangguanModal:!0})}},"\u65b0\u589e\u5f3a\u5173\u94fe\u63a5"),m.a.createElement(Pn.a,{rowKey:function(e){return e._id},size:"small",bordered:!0,dataSource:n,columns:o})),m.a.createElement(N.a,{visible:a,title:"\u7f16\u8f91\u5f3a\u5173\u94fe\u63a5",onOk:this.submitQiangguan,onCancel:function(){return e.setState({qiangguanModal:!1,qiangguanInfo:{}})},okText:"\u63d0\u4ea4",cancelText:"\u53d6\u6d88"},m.a.createElement(_n.a.TextArea,{style:{marginBottom:20},value:r.jumpLink,placeholder:"\u8bf7\u8f93\u5165\u8df3\u8f6c\u94fe\u63a5",onChange:function(t){return e.changeInputValue(t.target.value,"jumpLink")}}),m.a.createElement(_n.a,{value:r.wechatId,placeholder:"\u8bf7\u8f93\u5165\u5fae\u4fe1\u539f\u59cbID",onChange:function(t){return e.changeInputValue(t.target.value,"wechatId")}})))}},{key:"componentDidMount",value:function(){this.getQiangguanList()}},{key:"getQiangguanList",value:function(){var e=this;_.a.get("/qiangguan").then(function(t){if(t.data.success){var n=t.data.data;e.setState({qiangguanList:n})}})}},{key:"changeInputValue",value:function(e,t){var n=this.state.qiangguanInfo;n[t]=e,this.setState(function(e){return{qiangguanInfo:Object(f.a)({},e.qiangguanInfo,n)}})}},{key:"submitQiangguan",value:function(){var e=this,t=this.state.qiangguanInfo,n="/qiangguan/create";t._id&&(n="/qiangguan/update"),_.a.post(n,t).then(function(t){t.data.success?(T.a.info(t.data.success),e.getQiangguanList(),e.setState({qiangguanModal:!1,qiangguanInfo:{}})):T.a.info(t.data.error)})}},{key:"deleteLink",value:function(e,t){var n=this,a=this.state.qiangguanList;N.a.confirm({title:"\u786e\u5b9a\u5220\u9664\u8fd9\u6761\u94fe\u63a5\u5417\uff1f",onOk:function(){_.a.get("/qiangguan/del",{params:{_id:e}}).then(function(e){e.data.success?(T.a.info(e.data.success),a.splice(t,1),n.setState({qiangguanList:a})):T.a.info(e.data.error)})}})}}]),t}(s.Component),jr=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return m.a.createElement(I.d,null,m.a.createElement(I.b,{path:"/admin/wechat/qrcode/index",component:Er}),m.a.createElement(I.b,{path:"/admin/wechat/qrcode/create",component:Mr}),m.a.createElement(I.b,{path:"/admin/wechat/qrcode/update",component:Mr}),m.a.createElement(I.b,{path:"/admin/wechat/tag",component:Lr}),m.a.createElement(I.b,{path:"/admin/wechat/qiangguan",component:Or}),m.a.createElement(I.a,{from:"/admin/wechat",exact:!0,to:"/admin/wechat/qrcode"}),m.a.createElement(I.a,{from:"/admin/wechat/qrcode",to:"/admin/wechat/qrcode/index"}))}}]),t}(s.Component),xr=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={userInfo:{}},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("userInfo");e&&Date.now()-JSON.parse(e).date<432e5?this.setState({userInfo:JSON.parse(e)}):localStorage.setItem("creator","")}},{key:"render",value:function(){var e=this.state.userInfo,t={minHeight:"100vh",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",backgroundImage:"url(".concat(n(475),")")};return m.a.createElement(k.a,{store:wn},m.a.createElement(E.a,null,m.a.createElement(I.d,null,m.a.createElement(I.b,{path:"/admin/login",render:function(){return Object.keys(e).length>0?m.a.createElement(I.a,{to:window.location.search?decodeURIComponent(window.location.search.split("=")[1]):"/admin"}):m.a.createElement(Nn,null)}}),m.a.createElement(I.b,{path:"/admin",render:function(){return Object.keys(e).length>0?m.a.createElement("div",{style:Object(f.a)({},t)},m.a.createElement(Un,null),m.a.createElement("div",{style:{padding:"20px",marginLeft:"140px"}},m.a.createElement(I.d,null,m.a.createElement(I.b,{path:"/admin/gonghao",component:Ea}),m.a.createElement(I.b,{path:"/admin/message",component:Pa}),m.a.createElement(I.b,{path:"/admin/novel",component:lr}),m.a.createElement(I.b,{path:"/admin/channel",component:kr}),m.a.createElement(I.b,{path:"/admin/wechat",component:jr}),m.a.createElement(I.a,{from:"/admin",exact:!0,to:"/admin/gonghao"})))):m.a.createElement(I.a,{to:"/admin/login?redirect="+encodeURIComponent(window.location.pathname)})}}),m.a.createElement(I.a,{from:"/",exact:!0,to:"/admin"}))))}}]),t}(s.Component),wr=n(236),Sr=n.n(wr);m.a.Component.prototype.$MD5=Sr.a,g.a.render(m.a.createElement(xr,null),document.getElementById("root"))}},[[242,1,2]]]);
//# sourceMappingURL=main.438f1c98.chunk.js.map